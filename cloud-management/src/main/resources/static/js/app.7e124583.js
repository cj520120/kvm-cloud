(()=>{var e={37441:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});o(68309);var s=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"挂载光驱","close-on-click-modal":!1,visible:e.attach_cd_room_dialog_visiable,width:"400px"},on:{"update:visible":function(t){e.attach_cd_room_dialog_visiable=t}}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择光盘镜像"},model:{value:e.attach_cd_room_guest.templateId,callback:function(t){e.$set(e.attach_cd_room_guest,"templateId",t)},expression:"attach_cd_room_guest.templateId"}},e._l(this.iso_template,(function(e){return t("el-option",{key:e.templateId,attrs:{label:e.name,value:e.templateId}})})),1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.attach_cd_room_dialog_visiable=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.attach_cd_room_guest_click}},[e._v("确 定")])],1)],1)},n=[],a=o(51907),i=o(85617),r=(o(57327),o(41539),o(29924));const l={data:function(){return{attach_cd_room_dialog_visiable:!1,iso_template:[],attach_cd_room_guest:{guestId:0,templateId:""}}},methods:{init:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.attach_cd_room_guest.guestId=e.guestId,t.attach_cd_room_guest.templateId="",t.attach_cd_room_dialog_visiable=!0,o.next=5,t.load_iso_template();case 5:case"end":return o.stop()}}),o)})))()},load_iso_template:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,r.A8)().then((function(t){0===t.code&&(e.iso_template=t.data.filter((function(e){return 0==e.templateType&&2===e.status})))}));case 2:case"end":return t.stop()}}),t)})))()},attach_cd_room_guest_click:function(){var e=this;(0,r.FX)(this.attach_cd_room_guest).then((function(t){0===t.code?(e.$emit("onGuestUpdate",t.data),e.attach_cd_room_dialog_visiable=!1):e.$notify.error({title:"错误",message:"挂载虚拟机光驱失败:".concat(t.message)})}))}}},c=l;var u=o(1001),_=(0,u.Z)(c,s,n,!1,null,null,null);const d=_.exports},80270:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});o(82526),o(41817);var s=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"克隆磁盘"},on:{back:function(t){return e.go_back()}}})],1),t("el-row",[t("el-form",{ref:"cloneForm",staticClass:"demo-ruleForm",attrs:{model:e.clone_volume,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"名称",prop:"description"}},[t("el-input",{model:{value:e.clone_volume.description,callback:function(t){e.$set(e.clone_volume,"description",t)},expression:"clone_volume.description"}})],1),t("el-form-item",{attrs:{label:"存储池",prop:"storageId"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.clone_volume.storageId,callback:function(t){e.$set(e.clone_volume,"storageId",t)},expression:"clone_volume.storageId"}},[t("el-option",{attrs:{label:"随机",value:0}}),e._l(this.storages,(function(e){return t("el-option",{key:e.storageId,attrs:{label:e.description,value:e.storageId}})}))],2)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.clone_volume_click}},[e._v("克隆")]),t("el-button",{on:{click:e.go_back}},[e._v("取消")])],1)],1)],1)],1)},n=[],a=o(51907),i=o(85617),r=(o(57327),o(41539),o(29924));const l={data:function(){return{clone_volume:{sourceVolumeId:0,description:"",storageId:0},storages:[]}},methods:{go_back:function(){this.$emit("back")},notify_volume_update:function(e){this.$emit("onVolumeUpdate",e)},init:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.clone_volume.sourceVolumeId=e.volumeId,t.clone_volume.description="Clone-"+e.description,t.clone_volume.storageId=e.storageId,o.next=5,(0,r._u)().then((function(e){0==e.code&&(t.storages=e.data.filter((function(e){return 1===e.status&&2===(2&e.supportCategory)})))}));case 5:case"end":return o.stop()}}),o)})))()},clone_volume_click:function(){var e=this;this.$confirm("克隆磁盘, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,r.MP)(e.clone_volume).then((function(t){0===t.code?(e.notify_volume_update(t.data.clone),e.notify_volume_update(t.data.source),e.go_back()):e.$notify.error({title:"错误",message:"克隆磁盘失败:".concat(t.message)})}))}))["catch"]((function(){}))}}},c=l;var u=o(1001),_=(0,u.Z)(c,s,n,!1,null,null,null);const d=_.exports},56768:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var s=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"box-card"},[t("el-row",{staticClass:"clearfix",staticStyle:{height:"20px"},attrs:{slot:"header"},slot:"header"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-form-item",[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.show_create_dialog}},[e._v("创建配置")])],1),t("el-form-item",[t("el-input",{staticStyle:{float:"right","max-width":"300px","margin-bottom":"10px"},attrs:{size:"mini",placeholder:"请输入搜索关键字"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1)],1)],1),t("el-row",[t("el-table",{staticStyle:{width:"100%"},attrs:{"v-loading":e.data_loading_visable,data:e.show_filter_config_list,border:""}},[t("el-table-column",{attrs:{label:"名称",prop:"key","min-width":"200","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"描述",prop:"description","min-width":"200","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"值",prop:"value","min-width":"200","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.show_config_info_dialog(o.row)}}},[e._v("查看")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.show_edit_dialog(o.row)}}},[e._v("编辑")]),o.row.id>0&&!o.row.defaultParam?t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.delete_config(o.row)}}},[e._v("删除")]):e._e(),o.row.id>0&&o.row.defaultParam?t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.delete_config(o.row)}}},[e._v("恢复默认")]):e._e()]}}])})],1)],1)],1),t("el-dialog",{attrs:{title:"查看配置项",visible:e.info_dialog_visable,width:"50%"},on:{"update:visible":function(t){e.info_dialog_visable=t}}},[t("el-form",{ref:"create_dialog_form_ref",staticClass:"demo-ruleForm",attrs:{model:e.show_config,"label-width":"50px"}},[t("el-form-item",{attrs:{label:"名称",prop:"key"}},[t("strong",[e._v(e._s(e.show_config.key))])]),t("el-form-item",{attrs:{label:"值",prop:"value"}},[1===e.show_config.valueType?t("el-input",{staticStyle:{"font-family":"monospace","white-space":"pre","overflow-x":"auto"},attrs:{type:"textarea",rows:20,readonly:""},model:{value:e.show_config.value,callback:function(t){e.$set(e.show_config,"value",t)},expression:"show_config.value"}}):e._e(),1!==e.show_config.valueType&&5!==e.show_config.valueType?t("strong",[e._v(e._s(e.show_config.value))]):e._e()],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.info_dialog_visable=!1}}},[e._v("取 消")])],1)],1),t("el-dialog",{attrs:{title:"创建配置项",visible:e.create_dialog_visable,width:"50%"},on:{"update:visible":function(t){e.create_dialog_visable=t}}},[t("el-form",{ref:"create_dialog_form_ref",staticClass:"demo-ruleForm",attrs:{model:e.create_config,"label-width":"50px"}},[t("el-form-item",{attrs:{label:"名称",prop:"key"}},[t("el-input",{model:{value:e.create_config.key,callback:function(t){e.$set(e.create_config,"key",t)},expression:"create_config.key"}})],1),t("el-form-item",{attrs:{label:"值",prop:"value"}},[t("el-input",{attrs:{type:"textarea",rows:20},model:{value:e.create_config.value,callback:function(t){e.$set(e.create_config,"value",t)},expression:"create_config.value"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.create_dialog_visable=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary",disabled:""===e.create_config.key},on:{click:e.create_config_click}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"编辑配置项",visible:e.modify_dialog_visable,width:"50%"},on:{"update:visible":function(t){e.modify_dialog_visable=t}}},[t("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.modify_config,"label-width":"50px"}},[t("el-form-item",{attrs:{label:"名称",prop:"key"}},[t("strong",[e._v(e._s(e.modify_config.key))])]),t("el-form-item",{attrs:{label:"值",prop:"value"}},[0===e.modify_config.valueType?t("el-input",{model:{value:e.modify_config.value,callback:function(t){e.$set(e.modify_config,"value",t)},expression:"modify_config.value"}}):e._e(),1===e.modify_config.valueType?t("el-input",{attrs:{type:"textarea",rows:20},model:{value:e.modify_config.value,callback:function(t){e.$set(e.modify_config,"value",t)},expression:"modify_config.value"}}):e._e(),2===e.modify_config.valueType?t("el-input-number",{model:{value:e.modify_config.value,callback:function(t){e.$set(e.modify_config,"value",t)},expression:"modify_config.value"}}):e._e(),3===e.modify_config.valueType?t("el-input-number",{attrs:{precision:2},model:{value:e.modify_config.value,callback:function(t){e.$set(e.modify_config,"value",t)},expression:"modify_config.value"}}):e._e(),4===e.modify_config.valueType?t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.modify_config.value,callback:function(t){e.$set(e.modify_config,"value",t)},expression:"modify_config.value"}},e._l(e.modify_config.valueOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1):e._e()],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.modify_dialog_visable=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.modify_config_click}},[e._v("确 定")])],1)],1)],1)},n=[],a=o(51907),i=o(85617),r=(o(57327),o(41539),o(73210),o(82772),o(82526),o(41817),o(34553),o(57658),o(40561),o(29924));const l={name:"configComponent",data:function(){return{allocateType:0,allocateId:0,keyword:"",data_loading_visable:!0,create_dialog_visable:!1,modify_dialog_visable:!1,info_dialog_visable:!1,config_list:[],show_config:{},create_config:{key:"",value:""},modify_config:{key:"",value:""}}},computed:{show_filter_config_list:function(){var e=this;return this.config_list.filter((function(t){var o=!0,s=e.keyword.trim().toLowerCase();return""!==s&&(o=t.description.toLowerCase().indexOf(s)>=0||t.key.indexOf(s)>=0),o}))}},methods:{init:function(e,t){var o=this;return(0,i.Z)((0,a.Z)().mark((function s(){return(0,a.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return o.allocateType=e,o.allocateId=t,o.data_loading=!0,s.next=5,(0,r.NV)({allocateId:o.allocateId,allocateType:o.allocateType}).then((function(e){0==e.code&&(o.config_list=e.data)}))["finally"]((function(){o.data_loading=!1}));case 5:case"end":return s.stop()}}),s)})))()},show_config_info_dialog:function(e){this.show_config=e,this.info_dialog_visable=!0},show_create_dialog:function(){this.create_config.key="",this.create_config.value="",this.create_dialog_visable=!0},show_edit_dialog:function(e){this.modify_config=e,this.modify_dialog_visable=!0},update_config_info:function(e){var t=this.config_list.findIndex((function(t){return t.key===e.key&&t.allocateType===e.allocateType&&t.allocateType===e.allocateId}));t>=0?this.$set(this.config_list,t,e):this.config_list.push(e)},create_config_click:function(){var e=this,t={configKey:this.create_config.key,configValue:this.create_config.value,allocateType:this.allocateType,allocateId:this.allocateId};(0,r._g)(t).then((function(t){0===t.code?(e.update_config_info(t.data),e.create_dialog_visable=!1):e.$notify.error({title:"错误",message:"创建配置失败:".concat(t.message)})}))},modify_config_click:function(){var e=this,t={configKey:this.modify_config.key,configValue:this.modify_config.value,allocateType:this.allocateType,allocateId:this.allocateId};(0,r.oR)(t).then((function(t){0===t.code?(e.update_config_info(t.data),e.modify_dialog_visable=!1):e.$notify.error({title:"错误",message:"创建配置失败:".concat(t.message)})}))},delete_config:function(e){var t=this;this.$confirm("删除配置, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,r.H$)({id:e.id}).then((function(o){if(0===o.code){var s=t.config_list.findIndex((function(t){return t.key===e.key&&t.allocateType===e.allocateType&&t.allocateType===e.allocateId}));o.data&&0===t.allocateType&&0===t.allocateType?t.update_config_info(o.data):t.config_list.splice(s,1)}else t.$notify.error({title:"错误",message:"删除配置失败:".concat(o.message)})}))}))}}},c=l;var u=o(1001),_=(0,u.Z)(c,s,n,!1,null,"a79c05d0",null);const d=_.exports},51699:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});o(68309);var s=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"创建模版","close-on-click-modal":!1,visible:e.template_dialog_visiable,width:"400px"},on:{"update:visible":function(t){e.template_dialog_visiable=t}}},[t("el-form",{attrs:{model:e.template_volume,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"模版名称"}},[t("el-input",{attrs:{placeholder:"请输入模版名称"},model:{value:e.template_volume.name,callback:function(t){e.$set(e.template_volume,"name",t)},expression:"template_volume.name"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.template_dialog_visiable=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.create_volume_template_click}},[e._v("确 定")])],1)],1)},n=[],a=o(29924);const i={data:function(){return{template_dialog_visiable:!1,template_volume:{volumeId:0,name:""}}},methods:{init:function(e){this.template_volume.volumeId=e.volumeId,this.template_volume.name="",this.template_dialog_visiable=!0},create_volume_template_click:function(){var e=this;this.$confirm("创建磁盘模版, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,a.Jf)(e.template_volume).then((function(t){0===t.code?e.template_dialog_visiable=!1:e.$notify.error({title:"错误",message:"创建磁盘模版失败:".concat(t.message)})}))}))["catch"]((function(){}))}}},r=i;var l=o(1001),c=(0,l.Z)(r,s,n,!1,null,null,null);const u=c.exports},10614:(e,t,o)=>{"use strict";o.d(t,{Z:()=>Y});o(68309),o(82526),o(41817);var s=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{directives:[{name:"show",rawName:"v-show",value:0===this.show_type,expression:"this.show_type === 0"},{name:"loading",rawName:"v-loading",value:e.guest_loading,expression:"guest_loading"}],staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{attrs:{content:"虚拟机详情"},on:{back:e.on_back_click}})],1),t("el-row",{staticStyle:{"text-align":"left",margin:"20px 0"}},[t("el-button",{staticStyle:{width:"90px"},attrs:{type:"primary",size:"mini",disabled:4!==e.show_guest_info.current_guest.status},on:{click:function(t){return e.show_start_guest_click(e.show_guest_info.current_guest)}}},[e._v("启动虚拟机")]),t("el-button",{staticStyle:{width:"90px"},attrs:{type:"primary",size:"mini",disabled:e.show_guest_info.current_guest.status>3},on:{click:function(t){return e.show_stop_guest_click(e.show_guest_info.current_guest)}}},[e._v("停止虚拟机")]),t("el-button",{staticStyle:{width:"90px"},attrs:{type:"danger",size:"mini",disabled:e.show_guest_info.current_guest.status<3},on:{click:function(t){return e.destroy_guest(e.show_guest_info.current_guest)}}},[e._v("销毁虚拟机")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:0!==e.show_guest_info.current_guest.type,expression:"show_guest_info.current_guest.type !== 0"}],staticStyle:{width:"90px"},attrs:{type:"primary",size:"mini",disabled:2!==e.show_guest_info.current_guest.status},on:{click:function(t){return e.reboot_guest_click(e.show_guest_info.current_guest)}}},[e._v("重启虚拟机")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:0!==e.show_guest_info.current_guest.type,expression:"show_guest_info.current_guest.type !== 0"}],staticStyle:{width:"90px"},attrs:{type:"primary",size:"mini",disabled:4!==e.show_guest_info.current_guest.status},on:{click:function(t){return e.show_reinstall_guest_click(e.show_guest_info.current_guest)}}},[e._v("重装系统")]),t("el-button",{staticStyle:{width:"90px"},attrs:{type:"primary",size:"mini",disabled:2!==e.show_guest_info.current_guest.status},on:{click:function(t){return e.show_migrate_guest_click(e.show_guest_info.current_guest)}}},[e._v("迁移虚拟机")])],1),t("el-row",{staticStyle:{"text-align":"left",margin:"20px 0"}},[t("el-button",{staticStyle:{width:"90px"},attrs:{type:"primary",size:"mini",disabled:2!==e.show_guest_info.current_guest.status&&1!==e.show_guest_info.current_guest.status},on:{click:function(t){return e.vnc_click(e.show_guest_info.current_guest)}}},[e._v("远程桌面")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:0!==e.show_guest_info.current_guest.type,expression:"show_guest_info.current_guest.type !== 0"}],staticStyle:{width:"90px"},attrs:{type:"primary",size:"mini",disabled:4!==e.show_guest_info.current_guest.status},on:{click:function(t){return e.show_modify_guest_click(e.show_guest_info.current_guest)}}},[e._v("修改配置")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:0!==e.show_guest_info.current_guest.type,expression:"show_guest_info.current_guest.type !== 0"}],staticStyle:{width:"90px"},attrs:{type:"primary",size:"mini",disabled:0!==e.show_guest_info.current_guest.cdRoom},on:{click:function(t){return e.show_attach_cd_room_click(e.show_guest_info.current_guest)}}},[e._v("挂载光驱")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:0!==e.show_guest_info.current_guest.type,expression:"show_guest_info.current_guest.type !== 0"}],staticStyle:{width:"90px"},attrs:{type:"primary",size:"mini",disabled:0===e.show_guest_info.current_guest.cdRoom},on:{click:function(t){return e.detach_guest_cd_room_click(e.show_guest_info.current_guest)}}},[e._v("卸载光驱")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:0!==e.show_guest_info.current_guest.type,expression:"show_guest_info.current_guest.type !== 0"}],staticStyle:{width:"90px"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.show_attach_network_click(e.show_guest_info.current_guest)}}},[e._v("添加网卡")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:0!==e.show_guest_info.current_guest.type,expression:"show_guest_info.current_guest.type !== 0"}],staticStyle:{width:"90px"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.show_attach_volume_click(e.show_guest_info.current_guest)}}},[e._v("挂载磁盘")])],1),t("el-row",[t("el-descriptions",{attrs:{column:2,size:"medium",border:""}},[t("el-descriptions-item",{attrs:{label:"ID"}},[e._v(e._s(e.show_guest_info.current_guest.guestId))]),t("el-descriptions-item",{attrs:{label:"实例名"}},[e._v(e._s(e.show_guest_info.current_guest.name))]),t("el-descriptions-item",{attrs:{label:"名称"}},[e._v(e._s(e.show_guest_info.current_guest.description))]),t("el-descriptions-item",{attrs:{label:"操作系统"}},[t("img",{staticStyle:{width:"24px",height:"24px",float:"left"},attrs:{src:e.get_system_category_image(e.show_guest_info.current_guest)}}),t("div",{staticStyle:{"line-height":"24px","margin-left":"5px",float:"left"}},[e._v(e._s(e.get_system_category_name(e.show_guest_info.current_guest)))])]),t("el-descriptions-item",{attrs:{label:"总线类型"}},[e._v(e._s(e.show_guest_info.current_guest.busType))]),t("el-descriptions-item",{attrs:{label:"固件"}},[e._v(e._s(e.get_bootstrap_type_name(e.show_guest_info.current_guest)))]),t("el-descriptions-item",{attrs:{label:"CPU"}},[e._v(e._s(e.show_guest_info.current_guest.cpu)+"核")]),t("el-descriptions-item",{attrs:{label:"内存"}},[e._v(e._s(e.get_memory_display_size(e.show_guest_info.current_guest.memory)))]),t("el-descriptions-item",{attrs:{label:"Cpu配额(Share)"}},[e._v(e._s(e.show_guest_info.current_guest.share))]),t("el-descriptions-item",{attrs:{label:"光盘"}},[e._v(e._s(e.show_guest_info.template.name))]),t("el-descriptions-item",{attrs:{label:"运行主机"}},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:0!==e.show_guest_info.host.hostId,expression:"show_guest_info.host.hostId !== 0"}],attrs:{type:"text",underline:!1},on:{click:function(t){return e.show_host_info(e.show_guest_info.host.hostId)}}},[e._v(e._s(e.show_guest_info.host.displayName))]),t("span",{directives:[{name:"show",rawName:"v-show",value:0===e.show_guest_info.host.hostId,expression:"show_guest_info.host.hostId === 0"}],attrs:{underline:!1}},[e._v(e._s(e.show_guest_info.host.displayName))])],1),t("el-descriptions-item",{attrs:{label:"配置"}},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:0!==e.show_guest_info.scheme.schemeId,expression:"show_guest_info.scheme.schemeId !== 0"}],attrs:{type:"text",underline:!1},on:{click:function(t){return e.show_scheme_info(e.show_guest_info.scheme.schemeId)}}},[e._v(e._s(e.show_guest_info.scheme.name))]),t("span",{directives:[{name:"show",rawName:"v-show",value:0===e.show_guest_info.scheme.schemeId,expression:"show_guest_info.scheme.schemeId === 0"}],attrs:{underline:!1}},[e._v(e._s(e.show_guest_info.scheme.name))])],1),t("el-descriptions-item",{attrs:{label:"虚拟机类型"}},[t("el-tag",[e._v(e._s(0===e.show_guest_info.current_guest.type?"系统":"用户"))])],1),t("el-descriptions-item",{attrs:{label:"虚拟机IP"}},[e._v(e._s(e.show_guest_info.current_guest.guestIp))]),t("el-descriptions-item",{attrs:{label:"上次运行时间"}},[e._v(" "+e._s(e.show_guest_info.current_guest.lastStartTime?e.parse_date(e.show_guest_info.current_guest.lastStartTime):"-")+" ")]),t("el-descriptions-item",{attrs:{label:"状态"}},[t("el-tag",{attrs:{type:2===e.show_guest_info.current_guest.status?"success":"danger"}},[e._v(e._s(e.get_guest_status(e.show_guest_info.current_guest)))])],1)],1)],1),t("br"),t("el-row",[t("el-tabs",{attrs:{type:"border-card"}},[t("el-tab-pane",{attrs:{label:"磁盘"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{"v-loading":e.show_guest_info.volume_loading,data:e.show_guest_info.volumes}},[t("el-table-column",{attrs:{label:"ID",prop:"volumeId",width:"80"}}),t("el-table-column",{attrs:{label:"描述",prop:"description",width:"200"}}),t("el-table-column",{attrs:{label:"容量",prop:"capacity",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.get_volume_display_size(t.row.capacity))+" ")]}}])}),t("el-table-column",{attrs:{label:"已使用",prop:"allocation",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.get_volume_display_size(t.row.allocation))+" ")]}}])}),t("el-table-column",{attrs:{label:"路径",prop:"path","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.show_volume_info(o.row.volumeId)}}},[e._v("详情")]),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"text",disabled:0===o.row.attach.deviceId},on:{click:function(t){return e.detach_volume_click(o.row)}}},[e._v("卸载磁盘")])]}}])})],1)],1),t("el-tab-pane",{attrs:{label:"网卡"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{"v-loading":e.show_guest_info.network_loading,data:e.show_guest_info.networks}},[t("el-table-column",{attrs:{label:"MAC",prop:"mac",width:"200"}}),t("el-table-column",{attrs:{label:"IP",prop:"ip",width:"200"}}),t("el-table-column",{attrs:{label:"驱动类型",prop:"driveType",width:"150"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"text",disabled:0===o.row.deviceId||0===e.show_guest_info.current_guest.type},on:{click:function(t){return e.detach_network_click(o.row)}}},[e._v("卸载网卡")])]}}])})],1)],1),t("el-tab-pane",{attrs:{label:"系统配置"}},[t("ConfigComponent",{ref:"ConfigComponentRef"})],1)],1)],1)],1),t("ReInstallComponentVue",{directives:[{name:"show",rawName:"v-show",value:1===e.show_type,expression:"show_type === 1"}],ref:"ReInstallComponentVueRef",on:{back:function(t){e.show_type=0},finish:e.on_finish_reinstall}}),t("HostInfoComponent",{directives:[{name:"show",rawName:"v-show",value:2===this.show_type,expression:"this.show_type === 2"}],ref:"HostInfoComponentRef",on:{back:e.show_host_return}}),t("SchemeInfoComponent",{directives:[{name:"show",rawName:"v-show",value:3===this.show_type,expression:"this.show_type === 3"}],ref:"SchemeInfoComponentRef",on:{back:e.show_scheme_return}}),4===this.show_type?t("VolumeInfoComponent",{ref:"VolumeInfoComponentRef",on:{back:e.show_volume_return}}):e._e(),t("AttachDiskComponent",{ref:"AttachDiskComponentRef",on:{onVoumeAttachCallBack:e.on_volume_attach_callback}}),t("AttachCdRoomComponent",{ref:"AttachCdRoomComponentRef",on:{onGuestUpdate:e.on_notify_update_guest_info}}),t("AttachNetworkComponent",{ref:"AttachNetworkComponentRef",on:{onGuestAttachCallback:e.on_network_attach_callback}}),t("ModifyGuestComponent",{ref:"ModifyGuestComponentRef",on:{onGuestUpdate:e.on_notify_update_guest_info}}),t("StartGuestComponent",{ref:"StartGuestComponentRef",on:{onGuestUpdate:e.on_notify_update_guest_info}}),t("StopGuestComponent",{ref:"StopGuestComponentRef",on:{onGuestUpdate:e.on_notify_update_guest_info}}),t("MigrateGuestComponent",{ref:"MigrateGuestComponentRef",on:{onGuestUpdate:e.on_notify_update_guest_info}})],1)},n=[],a=o(51907),i=o(85617),r=(o(57658),o(41539),o(34553),o(40561),o(42173)),l=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"挂载磁盘","close-on-click-modal":!1,visible:e.attach_volume_dialog_visiable,width:"400px"},on:{"update:visible":function(t){e.attach_volume_dialog_visiable=t}}},[t("el-form",{attrs:{model:e.attach_volume_guest,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"磁盘"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择磁盘"},model:{value:e.attach_volume_guest.volumeId,callback:function(t){e.$set(e.attach_volume_guest,"volumeId",t)},expression:"attach_volume_guest.volumeId"}},e._l(this.attach_volumes,(function(e){return t("el-option",{key:e.volumeId,attrs:{label:e.description,value:e.volumeId}})})),1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.attach_volume_dialog_visiable=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.attach_volume_click}},[e._v("确 定")])],1)],1)},c=[],u=o(29924);const _={data:function(){return{attach_volume_dialog_visiable:!1,attach_volumes:[],attach_volume_guest:{guestId:0,volumeId:""}}},methods:{load_all_attach_volumes:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.I2)().then((function(t){0===t.code&&(e.attach_volumes=t.data)}));case 2:case"end":return t.stop()}}),t)})))()},init:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.attach_volume_guest.guestId=e.guestId,t.attach_volume_guest.volumeId="",t.attach_volume_dialog_visiable=!0,o.next=5,t.load_all_attach_volumes();case 5:case"end":return o.stop()}}),o)})))()},attach_volume_click:function(){var e=this;(0,u.M8)(this.attach_volume_guest).then((function(t){0===t.code?(e.$emit("onVoumeAttachCallBack",t.data.guest,t.data.volume),e.attach_volume_dialog_visiable=!1):e.$notify.error({title:"错误",message:" 挂载磁盘失败:".concat(t.message)})}))}}},d=_;var p=o(1001),h=(0,p.Z)(d,l,c,!1,null,null,null);const m=h.exports;var f=o(37441),g=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"挂载网卡","close-on-click-modal":!1,visible:e.attach_network_dialog_visiable,width:"400px"},on:{"update:visible":function(t){e.attach_network_dialog_visiable=t}}},[t("el-form",{attrs:{model:e.attach_network_guest,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"网络"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择网络"},model:{value:e.attach_network_guest.networkId,callback:function(t){e.$set(e.attach_network_guest,"networkId",t)},expression:"attach_network_guest.networkId"}},e._l(this.networks,(function(e){return t("el-option",{key:e.networkId,attrs:{label:e.name,value:e.networkId}})})),1)],1),t("el-form-item",{attrs:{label:"驱动"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择网卡驱动"},model:{value:e.attach_network_guest.driveType,callback:function(t){e.$set(e.attach_network_guest,"driveType",t)},expression:"attach_network_guest.driveType"}},[t("el-option",{attrs:{label:"virtio",value:"virtio"}}),t("el-option",{attrs:{label:"rtl8139",value:"rtl8139"}}),t("el-option",{attrs:{label:"e1000",value:"e1000"}})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.attach_network_dialog_visiable=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.attach_network_click}},[e._v("确 定")])],1)],1)},w=[];o(57327);const v={data:function(){return{attach_network_dialog_visiable:!1,networks:[],attach_network_guest:{guestId:0,networkId:"",driveType:"virtio"}}},methods:{init:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.attach_network_guest.guestId=e.guestId,t.attach_network_guest.networkId="",t.attach_network_dialog_visiable=!0,o.next=5,t.load_all_networks();case 5:case"end":return o.stop()}}),o)})))()},load_all_networks:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.jR)().then((function(t){0===t.code&&(e.networks=t.data.filter((function(e){return 2===e.status})))}));case 2:case"end":return t.stop()}}),t)})))()},attach_network_click:function(){var e=this;(0,u.vJ)(this.attach_network_guest).then((function(t){0===t.code?(e.$emit("onGuestAttachCallback",t.data.guest,t.data.network),e.attach_network_dialog_visiable=!1):e.$notify.error({title:"错误",message:"虚拟机附加网卡失败:".concat(t.message)})}))}}},y=v;var b=(0,p.Z)(y,g,w,!1,null,null,null);const k=b.exports;var I=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"修改配置","close-on-click-modal":!1,visible:e.modify_guest_dialog_visiable,width:"400px"},on:{"update:visible":function(t){e.modify_guest_dialog_visiable=t}}},[t("el-form",{attrs:{model:e.modify_guest,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"名称",prop:"description"}},[t("el-input",{model:{value:e.modify_guest.description,callback:function(t){e.$set(e.modify_guest,"description",t)},expression:"modify_guest.description"}})],1),t("el-form-item",{attrs:{label:"总线方式"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"总线方式"},model:{value:e.modify_guest.busType,callback:function(t){e.$set(e.modify_guest,"busType",t)},expression:"modify_guest.busType"}},[t("el-option",{attrs:{label:"virtio",value:"virtio"}}),t("el-option",{attrs:{label:"ide",value:"ide"}}),t("el-option",{attrs:{label:"scsi",value:"scsi"}}),t("el-option",{attrs:{label:"sata",value:"sata"}})],1)],1),t("el-form-item",{attrs:{label:"操作系统"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"操作系统"},model:{value:e.modify_guest.systemCategory,callback:function(t){e.$set(e.modify_guest,"systemCategory",t)},expression:"modify_guest.systemCategory"}},[t("el-option",{attrs:{label:"Centos",value:101}}),t("el-option",{attrs:{label:"Ubuntu",value:102}}),t("el-option",{attrs:{label:"Windows",value:300}}),t("el-option",{attrs:{label:"Deepin",value:103}}),t("el-option",{attrs:{label:"RedHat",value:104}}),t("el-option",{attrs:{label:"Debian",value:105}}),t("el-option",{attrs:{label:"OpenEuler",value:106}}),t("el-option",{attrs:{label:"Linux",value:100}}),t("el-option",{attrs:{label:"Unix",value:200}}),t("el-option",{attrs:{label:"Android",value:400}})],1)],1),t("el-form-item",{attrs:{label:"固件"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.modify_guest.bootstrapType,callback:function(t){e.$set(e.modify_guest,"bootstrapType",t)},expression:"modify_guest.bootstrapType"}},[t("el-option",{attrs:{label:"BIOS",value:0}}),t("el-option",{attrs:{label:"UEFI",value:1}})],1)],1),t("el-form-item",{attrs:{label:"配置"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择虚拟机配置"},model:{value:e.modify_guest.schemeId,callback:function(t){e.$set(e.modify_guest,"schemeId",t)},expression:"modify_guest.schemeId"}},e._l(this.schemes,(function(e){return t("el-option",{key:e.schemeId,attrs:{label:e.name,value:e.schemeId}})})),1)],1),t("el-form-item",{attrs:{label:"群组"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择群组"},model:{value:e.modify_guest.groupId,callback:function(t){e.$set(e.modify_guest,"groupId",t)},expression:"modify_guest.groupId"}},e._l(this.groups,(function(e){return t("el-option",{key:e.groupId,attrs:{label:e.groupName,value:e.groupId}})})),1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.modify_guest_dialog_visiable=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.modify_guest_click}},[e._v("确 定")])],1)],1)},x=[],C=o(23698);o(92222);const X={data:function(){return{modify_guest_dialog_visiable:!1,groups:[],schemes:[],modify_guest:{guestId:0,groupId:0,busType:"",description:"",schemeId:"",bootstrapType:0,systemCategory:101}}},methods:{init:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.groups=[{groupId:0,groupName:"默认"}],t.modify_guest.guestId=e.guestId,t.modify_guest.groupId=e.groupId,t.modify_guest.description=e.description,t.modify_guest.schemeId=e.schemeId,t.modify_guest.busType=e.busType,t.modify_guest_dialog_visiable=!0,t.modify_guest.systemCategory=e.systemCategory,t.modify_guest.bootstrapType=e.bootstrapType,o.next=11,t.load_all_schemes();case 11:return o.next=13,t.load_all_groups();case 13:case"end":return o.stop()}}),o)})))()},load_all_schemes:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.Pu)().then((function(t){0===t.code&&(e.schemes=t.data)}));case 2:case"end":return t.stop()}}),t)})))()},load_all_groups:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.hI)().then((function(t){0===t.code&&(e.groups=[{groupId:0,groupName:"默认"}].concat((0,C.Z)(t.data)))}));case 2:case"end":return t.stop()}}),t)})))()},modify_guest_click:function(){var e=this;(0,u.vi)(this.modify_guest).then((function(t){0===t.code?(e.$emit("onGuestUpdate",t.data),e.modify_guest_dialog_visiable=!1):e.$notify.error({title:"错误",message:" 修改主机信息失败:".concat(t.message)})}))}}},K=X;var S=(0,p.Z)(K,I,x,!1,null,null,null);const A=S.exports;var T=o(32636),F=o(62606),Z=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"重装虚拟机"},on:{back:e.on_back_click}})],1),t("el-row",[t("el-form",{ref:"reInstallForm",staticClass:"demo-ruleForm",attrs:{model:e.reinstall_guest,"label-width":"100px"}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"安装方式"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择安装方式"},model:{value:e.reinstall_guest.type,callback:function(t){e.$set(e.reinstall_guest,"type",t)},expression:"reinstall_guest.type"}},[t("el-option",{attrs:{label:"ISO镜像",value:0}}),t("el-option",{attrs:{label:"模版安装",value:1}}),t("el-option",{attrs:{label:"现有磁盘",value:3}})],1)],1)],1),t("el-col",{attrs:{span:8}},[0===e.reinstall_guest.type?t("el-form-item",{attrs:{label:"ISO模版"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择光盘镜像"},model:{value:e.reinstall_guest.isoTemplateId,callback:function(t){e.$set(e.reinstall_guest,"isoTemplateId",t)},expression:"reinstall_guest.isoTemplateId"}},e._l(this.iso_template,(function(e){return t("el-option",{key:e.templateId,attrs:{label:e.name,value:e.templateId}})})),1)],1):e._e(),1===e.reinstall_guest.type?t("el-form-item",{attrs:{label:"系统模版"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择模版"},model:{value:e.reinstall_guest.diskTemplateId,callback:function(t){e.$set(e.reinstall_guest,"diskTemplateId",t)},expression:"reinstall_guest.diskTemplateId"}},e._l(this.disk_template,(function(e){return t("el-option",{key:e.templateId,attrs:{label:e.name,value:e.templateId}})})),1)],1):e._e(),3===e.reinstall_guest.type?t("el-form-item",{attrs:{label:"可用磁盘"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择系统磁盘"},model:{value:e.reinstall_guest.volumeId,callback:function(t){e.$set(e.reinstall_guest,"volumeId",t)},expression:"reinstall_guest.volumeId"}},e._l(this.attach_volumes,(function(e){return t("el-option",{key:e.volumeId,attrs:{label:e.description,value:e.volumeId}})})),1)],1):e._e()],1)],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"存储池"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:3===e.reinstall_guest.type},model:{value:e.reinstall_guest.storageId,callback:function(t){e.$set(e.reinstall_guest,"storageId",t)},expression:"reinstall_guest.storageId"}},[t("el-option",{attrs:{label:"随机",value:0}}),e._l(this.storages,(function(e){return t("el-option",{key:e.storageId,attrs:{label:e.description,value:e.storageId}})}))],2)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"操作系统"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"操作系统"},model:{value:e.reinstall_guest.systemCategory,callback:function(t){e.$set(e.reinstall_guest,"systemCategory",t)},expression:"reinstall_guest.systemCategory"}},[t("el-option",{attrs:{label:"Centos",value:101}}),t("el-option",{attrs:{label:"Ubuntu",value:102}}),t("el-option",{attrs:{label:"Windows",value:300}}),t("el-option",{attrs:{label:"Deepin",value:103}}),t("el-option",{attrs:{label:"RedHat",value:104}}),t("el-option",{attrs:{label:"Debian",value:105}}),t("el-option",{attrs:{label:"OpenEuler",value:106}}),t("el-option",{attrs:{label:"Linux",value:100}}),t("el-option",{attrs:{label:"Unix",value:200}}),t("el-option",{attrs:{label:"Android",value:400}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"固件"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.reinstall_guest.bootstrapType,callback:function(t){e.$set(e.reinstall_guest,"bootstrapType",t)},expression:"reinstall_guest.bootstrapType"}},[t("el-option",{attrs:{label:"BIOS",value:0}}),t("el-option",{attrs:{label:"UEFI",value:1}})],1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"主机名"}},[t("el-input",{attrs:{disabled:1!==e.reinstall_guest.type||300==e.reinstall_guest.systemCategory},model:{value:e.meta_config.hostName,callback:function(t){e.$set(e.meta_config,"hostName",t)},expression:"meta_config.hostName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"密码"}},[t("el-input",{attrs:{"show-password":!0,type:"password",disabled:1!==e.reinstall_guest.type||300==e.reinstall_guest.systemCategory},model:{value:e.user_config.password,callback:function(t){e.$set(e.user_config,"password",t)},expression:"user_config.password"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"登录密钥"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"登录密钥",disabled:1!==e.reinstall_guest.type||300==e.reinstall_guest.systemCategory},model:{value:e.user_config.sshId,callback:function(t){e.$set(e.user_config,"sshId",t)},expression:"user_config.sshId"}},e._l(this.sshs,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"磁盘大小"}},[t("el-input",{attrs:{disabled:3===e.reinstall_guest.type},model:{value:e.reinstall_guest.size,callback:function(t){e.$set(e.reinstall_guest,"size",t)},expression:"reinstall_guest.size"}},[t("template",{slot:"append"},[e._v("GB")])],2)],1)],1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.reinstall_guest_click}},[e._v("立即重装")]),t("el-button",{on:{click:e.on_back_click}},[e._v("取消")])],1)],1)],1)],1)},B=[],E=o(86080);o(38862);const R={data:function(){return{reinstall_guest:{guestId:0,type:0,isoTemplateId:"",diskTemplateId:"",volumeId:"",storageId:0,size:100,bootstrapType:0,systemCategory:100},meta_config:{hostName:""},user_config:{password:"",sshId:0},iso_template:[],attach_volumes:[],disk_template:[],storages:[],sshs:[{id:0,name:"无"}]}},methods:{on_back_click:function(){this.$emit("back")},load_all_attach_volumes:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.I2)().then((function(t){0===t.code&&(e.attach_volumes=t.data)}));case 2:case"end":return t.stop()}}),t)})))()},load_all_template:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.A8)().then((function(t){0===t.code&&(e.iso_template=t.data.filter((function(e){return 0==e.templateType&&2===e.status})),e.disk_template=t.data.filter((function(e){return 2==e.templateType&&2===e.status})))}));case 2:case"end":return t.stop()}}),t)})))()},load_all_storage:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u._u)().then((function(t){0==t.code&&(e.storages=t.data.filter((function(e){return 1==e.status})))}));case 2:case"end":return t.stop()}}),t)})))()},load_all_ssh:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.$G)().then((function(t){0==t.code&&(e.sshs=[{id:0,name:"无"}].concat((0,C.Z)(t.data)))}));case 2:case"end":return t.stop()}}),t)})))()},init:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.show_type=0,t.load_all_attach_volumes(),t.load_all_template(),t.load_all_storage(),t.load_all_ssh(),t.reinstall_guest.guestId=e.guestId,t.reinstall_guest.isoTemplateId="",t.reinstall_guest.diskTemplateId="",t.reinstall_guest.volumeId="",t.reinstall_guest.type=0,t.reinstall_guest.systemCategory=e.systemCategory,t.reinstall_guest.bootstrapType=e.bootstrapType,t.user_config.password="",t.user_config.sshId=0,t.meta_config.hostName="";case 15:case"end":return o.stop()}}),o)})))()},reinstall_guest_click:function(){var e=this;switch(this.reinstall_guest.type){case 0:this.reinstall_guest.diskTemplateId=0,this.reinstall_guest.volumeId=0;break;case 1:this.reinstall_guest.isoTemplateId=0,this.reinstall_guest.volumeId=0,this.reinstall_guest.size=0;break;case 2:this.reinstall_guest.isoTemplateId=0,this.reinstall_guest.diskTemplateId=0,this.reinstall_guest.volumeId=0,this.reinstall_guest.size=0;break;case 3:this.reinstall_guest.isoTemplateId=0,this.reinstall_guest.diskTemplateId=0,this.reinstall_guest.size=0;break}this.$confirm("重装虚拟机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={},o={};e.meta_config.hostName&&(t=(0,E.Z)((0,E.Z)({},o),{},{hostname:e.meta_config.hostName,"local-hostname":e.meta_config.hostName})),e.user_config.password&&(o=(0,E.Z)((0,E.Z)({},o),{},{password:e.user_config.password})),e.user_config.sshId>0&&(o=(0,E.Z)((0,E.Z)({},o),{},{sshId:e.user_config.sshId+""}));var s=(0,E.Z)((0,E.Z)({},e.reinstall_guest),{},{metaData:JSON.stringify(t),userData:JSON.stringify(o)});(0,u.qB)(s).then((function(t){0===t.code?e.$emit("finish",t.data):e.$notify.error({title:"错误",message:"重装虚拟机失败:".concat(t.message)})}))}))["catch"]((function(){}))}}},U=R;var Q=(0,p.Z)(U,Z,B,!1,null,null,null);const N=Q.exports;var P=o(89961),L=o(85879),D=o(250),O=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"迁移虚拟机","close-on-click-modal":!1,visible:e.migrate_dialog_visiable,width:"400px"},on:{"update:visible":function(t){e.migrate_dialog_visiable=t}}},[t("el-form",{attrs:{model:e.migrate_guest,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"选择主机"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.migrate_guest.hostId,callback:function(t){e.$set(e.migrate_guest,"hostId",t)},expression:"migrate_guest.hostId"}},[t("el-option",{attrs:{label:"随机",value:0}}),e._l(this.hosts,(function(e){return t("el-option",{key:e.hostId,attrs:{label:e.displayName,value:e.hostId,"v-loading":!0}})}))],2)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.migrate_dialog_visiable=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.migrate_guest_click}},[e._v("确 定")])],1)],1)},z=[];const V={data:function(){return{migrate_dialog_visiable:!1,migrate_guest:{hostId:0,guestId:0},last_runing_host_id:0,hosts:[]}},methods:{init:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.migrate_guest.guestId=e.guestId,t.migrate_guest.hostId=0,t.last_runing_host_id=e.hostId,t.migrate_dialog_visiable=!0,o.next=6,t.load_all_host();case 6:case"end":return o.stop()}}),o)})))()},load_all_host:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.vZ)().then((function(t){0===t.code&&(e.hosts=t.data.filter((function(t){return 1===t.status&&t.hostId!==e.last_runing_host_id})))}));case 2:case"end":return t.stop()}}),t)})))()},migrate_guest_click:function(){var e=this;(0,u.Tb)(this.migrate_guest).then((function(t){0===t.code?(e.$emit("onGuestUpdate",t.data),e.migrate_dialog_visiable=!1):e.$notify.error({title:"错误",message:"迁移虚拟机失败:".concat(t.message)})}))}}},G=V;var M=(0,p.Z)(G,O,z,!1,null,null,null);const q=M.exports;var $=o(56768),H=o(73412);const J={name:"GuestInfoComponent",components:{AttachDiskComponent:m,AttachCdRoomComponent:f.Z,AttachNetworkComponent:k,ModifyGuestComponent:A,StartGuestComponent:T.Z,StopGuestComponent:F.Z,MigrateGuestComponent:q,ReInstallComponentVue:N,HostInfoComponent:P.Z,SchemeInfoComponent:L.Z,VolumeInfoComponent:D.Z,ConfigComponent:$.Z},mixins:[H.Z,r.Z],created:function(){this.show_guest_id=0,this.subscribe_notify(this.$options.name,this.dispatch_notify_message),this.subscribe_connect_notify(this.$options.name,this.reload_page),this.init_notify()},beforeDestroy:function(){this.unsubscribe_notify(this.$options.name),this.unsubscribe_connect_notify(this.$options.name),this.show_guest_id=0},data:function(){return{show_type:0,guest_loading:!1,show_guest_id:0,show_guest_info:{guestId:0,volume_loading:!1,network_loading:!1,guest_loading:!0,current_guest:{guestId:0,name:"",description:"",busType:"virtio",cpu:1,memory:524288,share:500,cdRoom:0,hostId:0,schemeId:0,type:0,networkId:0,status:1,guestIp:""},host:{hostId:0,displayName:"-"},template:{templateId:0,name:"-"},scheme:{schemeId:0,name:"-"},volumes:[],networks:[]}}},methods:{on_volume_attach_callback:function(e,t){this.update_guest_info(e),this.show_guest_info.volumes.push(t)},on_network_attach_callback:function(e,t){this.update_guest_info(e),this.show_guest_info.networks.push(t)},show_host_return:function(){this.show_type=0},show_scheme_return:function(){this.show_type=0},show_volume_return:function(){this.show_type=0},show_host_info:function(e){this.show_type=2,this.$refs.HostInfoComponentRef.init(e)},show_scheme_info:function(e){this.show_type=3,this.$refs.SchemeInfoComponentRef.init(e)},show_volume_info:function(e){var t=this;this.show_type=4,this.$nextTick((function(){t.$refs.VolumeInfoComponentRef.init(e)}))},on_back_click:function(){this.show_guest_id=0,this.$emit("back")},on_notify_update_guest_info:function(e){this.update_guest_info(e),this.$emit("onGuestUpdate",e)},show_reinstall_guest_click:function(e){this.$refs.ReInstallComponentVueRef.init(e),this.show_type=1},on_finish_reinstall:function(e){this.show_type=0,this.on_notify_update_guest_info(e)},reload_page:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.show_guest_id>0)){t.next=5;break}return e.show_type=0,e.guest_loading=!0,t.next=5,(0,u.c$)({guestId:e.show_guest_id}).then((function(t){0===t.code?e.init(t.data):e.$alert("获取虚拟机信息失败:".concat(t.message),"提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"返回",type:"error"}).then((function(){e.on_back_click()}))["catch"]((function(){e.on_back_click()}))}))["finally"]((function(){e.guest_loading=!1}));case 5:case"end":return t.stop()}}),t)})))()},init:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.show_guest_id=e.guestId,t.show_type=0,t.guest_loading=!1,t.show_guest_info.guestId=e.guestId,t.show_guest_info.current_guest=e,o.next=7,t.load_current_guest_template(e);case 7:return o.next=9,t.load_current_guest_host(e);case 9:return o.next=11,t.load_current_guest_scheme(e);case 11:return o.next=13,t.load_current_guest_volume(e);case 13:return o.next=15,t.load_current_guest_network(e);case 15:return o.next=17,t.$refs.ConfigComponentRef.init(2,e.guestId);case 17:case"end":return o.stop()}}),o)})))()},initGuestId:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.show_guest_id=e,t.reload_page();case 2:case"end":return o.stop()}}),o)})))()},load_current_guest_template:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(t.show_guest_info.template.templateId=e.cdRoom,t.show_guest_info.template.name="-",!(t.show_guest_info.template.templateId>0)){o.next=5;break}return o.next=5,(0,u.BE)({templateId:e.cdRoom}).then((function(e){0===e.code&&(t.show_guest_info.template.name=e.data.name)}));case 5:case"end":return o.stop()}}),o)})))()},load_current_guest_scheme:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(t.show_guest_info.scheme.schemeId=e.schemeId,t.show_guest_info.scheme.name="-",!(t.show_guest_info.scheme.schemeId>0)){o.next=5;break}return o.next=5,(0,u.TQ)({schemeId:e.schemeId}).then((function(e){0===e.code&&(t.show_guest_info.scheme.name=e.data.name)}));case 5:case"end":return o.stop()}}),o)})))()},load_current_guest_host:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(t.show_guest_info.host.hostId=e.hostId,t.show_guest_info.host.displayName="-",!(t.show_guest_info.host.hostId>0)){o.next=5;break}return o.next=5,(0,u.KF)({hostId:e.hostId}).then((function(e){0===e.code&&(t.show_guest_info.host.displayName=e.data.displayName)}));case 5:case"end":return o.stop()}}),o)})))()},load_current_guest_volume:function(e){var t=this;this.show_guest_info.volume_loading=!0,(0,u.XR)({guestId:e.guestId}).then((function(e){0===e.code&&(t.show_guest_info.volumes=e.data)}))["finally"]((function(){t.show_guest_info.volume_loading=!1}))},load_current_guest_network:function(e){var t=this;this.show_guest_info.network_loading=!0,(0,u.iN)({guestId:e.guestId}).then((function(e){0===e.code&&(t.show_guest_info.networks=e.data)}))["finally"]((function(){t.show_guest_info.network_loading=!1}))},update_guest_info:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(t.show_guest_info.guestId!==e.guestId){o.next=9;break}return t.show_guest_info.current_guest=e,o.next=4,t.load_current_guest_template(e);case 4:return o.next=6,t.load_current_guest_host(e);case 6:return o.next=8,t.load_current_guest_scheme(e);case 8:t.$forceUpdate();case 9:case"end":return o.stop()}}),o)})))()},show_migrate_guest_click:function(e){this.$refs.MigrateGuestComponentRef.init(e)},show_start_guest_click:function(e){this.$refs.StartGuestComponentRef.init(e)},show_attach_network_click:function(e){this.$refs.AttachNetworkComponentRef.init(e)},show_attach_volume_click:function(e){this.$refs.AttachDiskComponentRef.init(e)},show_stop_guest_click:function(e){this.$refs.StopGuestComponentRef.init(e)},show_attach_cd_room_click:function(e){this.$refs.AttachCdRoomComponentRef.init(e)},show_modify_guest_click:function(e){this.$refs.ModifyGuestComponentRef.init(e)},vnc_click:function(e){var t=this.$router.resolve({path:"/Vnc",query:{id:e.guestId,description:e.description}}),o=t.href;window.open(o,"_blank")},detach_guest_cd_room_click:function(e){var t=this;(0,u.n4)({guestId:e.guestId}).then((function(e){0===e.code?(t.$emit("onGuestUpdate",e.data),t.stop_dialog_visiable=!1):t.$notify.error({title:"错误",message:"卸载虚拟机光驱失败:".concat(e.message)})}))},detach_network_click:function(e){var t=this;this.$confirm("卸载当前挂载网卡, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.DZ)({guestId:e.guestId,guestNetworkId:e.guestNetworkId}).then((function(o){if(0===o.code){t.$emit("onGuestUpdate",o.data);var s=t.show_guest_info.networks.findIndex((function(t){return t.guestNetworkId===e.guestNetworkId}));s>=0&&t.show_guest_info.networks.splice(s,1)}else t.$notify.error({title:"错误",message:"虚拟机附加网卡失败:".concat(o.message)})}))}))["catch"]((function(){}))},detach_volume_click:function(e){var t=this;this.$confirm("卸载当前挂载磁盘, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var o=e.attach;(0,u.PX)({guestId:o.guestId,guestDiskId:o.guestDiskId}).then((function(e){if(0===e.code){var s=t.show_guest_info.volumes.findIndex((function(e){return e.attach.guestDiskId===o.guestDiskId}));s>=0&&t.show_guest_info.volumes.splice(s,1)}else t.$notify.error({title:"错误",message:"卸载磁盘失败:".concat(e.message)})}))}))["catch"]((function(){}))},reboot_guest_click:function(e){var t=this;this.$confirm("重启当前虚拟机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.Qm)({guestId:e.guestId}).then((function(e){0===e.code?t.$emit("onGuestUpdate",e.data):t.$notify.error({title:"错误",message:"重启虚拟机失败:".concat(e.message)})}))}))["catch"]((function(){}))},destroy_guest:function(e){var t=this;this.$confirm("删除当前虚拟机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.yl)({guestId:e.guestId}).then((function(e){0===e.code?t.on_back_click():t.$notify.error({title:"错误",message:"删除虚拟机失败:".concat(e.message)})}))}))["catch"]((function(){}))},dispatch_notify_message:function(e){if(1===e.type&&this.show_guest_info.guestId===e.id){var t=e.data;0==t.code?this.update_guest_info(t.data):2000001==t.code&&this.on_back_click()}}}},j=J;var W=(0,p.Z)(j,s,n,!1,null,null,null);const Y=W.exports},89961:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});o(56977);var s=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{directives:[{name:"loading",rawName:"v-loading",value:e.host_loading,expression:"host_loading"}],attrs:{content:"主机详情"},on:{back:e.on_back_click}})],1),t("el-row",{staticStyle:{"text-align":"left",margin:"20px 0"}},[t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.register_host(e.show_host)}}},[e._v("重新注册")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:3!==e.show_host.status,expression:"show_host.status !== 3"}],attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.pasue_host(e.show_host)}}},[e._v("开始维护")]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.destroy_host(e.show_host)}}},[e._v("销毁主机")])],1),t("el-row",[t("el-descriptions",{attrs:{column:2,size:"medium",border:""}},[t("el-descriptions-item",{attrs:{label:"ID"}},[e._v(e._s(e.show_host.hostId))]),t("el-descriptions-item",{attrs:{label:"主机名"}},[e._v(e._s(e.show_host.hostName))]),t("el-descriptions-item",{attrs:{label:"显示名称"}},[e._v(e._s(e.show_host.displayName))]),t("el-descriptions-item",{attrs:{label:"主机IP"}},[e._v(e._s(e.show_host.hostIp))]),t("el-descriptions-item",{attrs:{label:"网卡名称"}},[e._v(e._s(e.show_host.nic))]),t("el-descriptions-item",{attrs:{label:"通信地址"}},[e._v(e._s(e.show_host.uri))]),t("el-descriptions-item",{attrs:{label:"主机架构"}},[e._v(e._s(e.show_host.arch))]),t("el-descriptions-item",{attrs:{label:"操作系统"}},[e._v(e._s(e.show_host.osName))]),t("el-descriptions-item",{attrs:{label:"系统版本"}},[e._v(e._s(e.show_host.osVersion))]),t("el-descriptions-item",{attrs:{label:"制造商"}},[e._v(e._s(e.show_host.vendor))]),t("el-descriptions-item",{attrs:{label:"Cpu型号"}},[e._v(e._s(e.show_host.model))]),t("el-descriptions-item",{attrs:{label:"Cpu主频"}},[e._v(e._s((e.show_host.frequency/1e9).toFixed(2))+"G")]),t("el-descriptions-item",{attrs:{label:"虚拟化类型"}},[e._v(e._s(e.show_host.hypervisor))]),t("el-descriptions-item",{attrs:{label:"内存"}},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"已使用:"+e.get_memory_display_size(e.show_host.allocationMemory)+" / 总共:"+e.get_memory_display_size(e.show_host.totalMemory),placement:"top"}},[t("el-progress",{attrs:{color:"#67C23A",percentage:e.show_host.totalMemory<=0?0:Math.min(100,Math.floor(100*e.show_host.allocationMemory/e.show_host.totalMemory))}})],1)],1),t("el-descriptions-item",{attrs:{label:"CPU"}},[t("el-tooltip",{staticClass:"item",staticStyle:{width:"150px"},attrs:{effect:"dark",content:"已使用:"+e.show_host.allocationCpu+"核 / 总共:"+e.show_host.totalCpu+"核",placement:"top"}},[t("el-progress",{attrs:{color:"#67C23A",percentage:e.show_host.totalCpu<=0?0:Math.min(100,Math.floor(100*e.show_host.allocationCpu/e.show_host.totalCpu))}})],1)],1),t("el-descriptions-item",{attrs:{label:"Cores"}},[e._v(e._s(e.show_host.cores))]),t("el-descriptions-item",{attrs:{label:"Sockets"}},[e._v(e._s(e.show_host.sockets))]),t("el-descriptions-item",{attrs:{label:"Threads"}},[e._v(e._s(e.show_host.threads))]),t("el-descriptions-item",{attrs:{label:"Eemulator"}},[e._v(e._s(e.show_host.emulator))]),t("el-descriptions-item",{attrs:{label:"状态"}},[t("el-tag",{attrs:{type:1===e.show_host.status?"success":"danger"}},[e._v(e._s(e.get_host_status(e.show_host)))])],1)],1)],1),t("el-row",{staticStyle:{"text-align":"left",margin:"20px 0"}},[t("ConfigComponent",{ref:"ConfigComponentRef"})],1)],1)},n=[],a=o(51907),i=o(85617),r=(o(68309),o(41539),o(73412)),l=o(42173),c=o(29924),u=o(56768);const _={name:"HostInfoComponent",data:function(){return{host_loading:!1,show_host_id:0,show_host:{hostId:0,displayName:"",hostIp:"127.0.0.1",hostName:"-",nic:"-",uri:"http://127.0.0.1:8081",allocationMemory:0,allocationCpu:0,totalMemory:0,totalCpu:0,arch:"-",hypervisor:"QEMU",emulator:"-",cores:0,threads:0,sockets:0,status:1}}},mixins:[r.Z,l.Z],components:{ConfigComponent:u.Z},created:function(){this.show_host_id=0,this.subscribe_notify(this.$options.name,this.dispatch_notify_message),this.subscribe_connect_notify(this.$options.name,this.reload_page),this.init_notify()},beforeDestroy:function(){this.unsubscribe_notify(this.$options.name),this.unsubscribe_connect_notify(this.$options.name),this.show_host_id=0},methods:{on_back_click:function(){this.show_host_id=0,this.$emit("back")},on_notify_update_host_info:function(e){this.refresh_host(e),this.$emit("onHostUpdate",e)},reload_page:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.show_host_id>0)){t.next=4;break}return e.host_loading=!0,t.next=4,(0,c.KF)({hostId:e.show_host_id}).then((function(t){0===t.code?e.init_host(t.data):e.$alert("获取主机信息失败:".concat(t.message),"提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"返回",type:"error"}).then((function(){e.on_back_click()}))["catch"]((function(){e.on_back_click()}))}))["finally"]((function(){e.host_loading=!1}));case 4:case"end":return t.stop()}}),t)})))()},init_host:function(e){this.show_host_id=e.hostId,this.show_host=e,this.host_loading=!1,this.$refs.ConfigComponentRef.init(1,e.hostId)},refresh_host:function(e){this.show_host.hostId===e.hostId&&(this.show_host=e)},init:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.show_host_id=e,t.reload_page();case 2:case"end":return o.stop()}}),o)})))()},pasue_host:function(e){var t=this;this.$confirm("维护主机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,c.ol)({hostId:e.hostId}).then((function(e){0===e.code?t.on_notify_update_host_info(e.data):t.$notify.error({title:"错误",message:"暂停主机失败:".concat(e.message)})}))}))["catch"]((function(){}))},register_host:function(e){var t=this;this.$confirm("重新注册主机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,c.XN)({hostId:e.hostId}).then((function(e){0===e.code?t.on_notify_update_host_info(e.data):t.$notify.error({title:"错误",message:"注册主机失败:".concat(e.message)})}))}))["catch"]((function(){}))},destroy_host:function(e){var t=this;this.$confirm("删除当前主机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,c.de)({hostId:e.hostId}).then((function(e){0===e.code?t.on_back_click():t.$notify.error({title:"错误",message:"删除主机失败:".concat(e.message)})}))}))["catch"]((function(){}))},dispatch_notify_message:function(e){if(4===e.type&&this.show_host.hostId===e.id){var t=e.data;0==t.code?this.refresh_host(t.data):2000001==t.code&&this.on_back_click()}}}},d=_;var p=o(1001),h=(0,p.Z)(d,s,n,!1,null,null,null);const m=h.exports},99797:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});o(82526),o(41817);var s=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"迁移磁盘"},on:{back:function(t){return e.go_back()}}})],1),t("el-row",[t("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.migrate_volume,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"存储池",prop:"type"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.migrate_volume.storageId,callback:function(t){e.$set(e.migrate_volume,"storageId",t)},expression:"migrate_volume.storageId"}},[t("el-option",{attrs:{label:"随机",value:0}}),e._l(this.storages,(function(e){return t("el-option",{key:e.storageId,attrs:{label:e.description,value:e.storageId}})}))],2)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.migrate_volume_click}},[e._v("迁移")]),t("el-button",{on:{click:e.go_back}},[e._v("取消")])],1)],1)],1)],1)},n=[],a=o(51907),i=o(85617),r=(o(57327),o(41539),o(29924));const l={data:function(){return{migrate_volume:{sourceVolumeId:0,storageId:0},storages:[]}},methods:{go_back:function(){this.$emit("back")},notify_volume_update:function(e){this.$emit("onVolumeUpdate",e)},init:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.migrate_volume.sourceVolumeId=e.volumeId,t.migrate_volume.storageId=e.storageId,o.next=4,(0,r._u)().then((function(e){0==e.code&&(t.storages=e.data.filter((function(e){return 1===e.status&&2===(2&e.supportCategory)})))}));case 4:case"end":return o.stop()}}),o)})))()},migrate_volume_click:function(){var e=this;this.$confirm("迁移磁盘, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,r.Ct)(e.migrate_volume).then((function(t){0===t.code?(e.notify_volume_update(t.data.migrate),e.notify_volume_update(t.data.source),e.go_back()):e.$notify.error({title:"错误",message:"迁移磁盘失败:".concat(t.message)})}))}))["catch"]((function(){}))}}},c=l;var u=o(1001),_=(0,u.Z)(c,s,n,!1,null,null,null);const d=_.exports},92622:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var s=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"磁盘扩容","close-on-click-modal":!1,visible:e.resize_dialog_visiable,width:"300px"},on:{"update:visible":function(t){e.resize_dialog_visiable=t}}},[t("el-form",{attrs:{model:e.resize_volume,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"磁盘大小"}},[t("el-input",{attrs:{placeholder:"请输入磁盘大小"},model:{value:e.resize_volume.size,callback:function(t){e.$set(e.resize_volume,"size",t)},expression:"resize_volume.size"}},[t("template",{slot:"append"},[e._v("GB")])],2)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.resize_dialog_visiable=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.resize_volume_click}},[e._v("确 定")])],1)],1)},n=[],a=o(29924);const i={data:function(){return{resize_dialog_visiable:!1,resize_volume:{volumeId:0,size:100}}},methods:{init:function(e){this.resize_volume.volumeId=e.volumeId,this.resize_volume.size=100,this.resize_dialog_visiable=!0},resize_volume_click:function(){var e=this;this.$confirm("扩容磁盘, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,a.K5)(e.resize_volume).then((function(t){0===t.code?(e.$emit("onVolumeUpdate",t.data),e.resize_dialog_visiable=!1):e.$notify.error({title:"错误",message:"扩容磁盘失败:".concat(t.message)})}))}))["catch"]((function(){}))}}},r=i;var l=o(1001),c=(0,l.Z)(r,s,n,!1,null,null,null);const u=c.exports},85879:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});o(68309);var s=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{directives:[{name:"loading",rawName:"v-loading",value:e.schme_loading,expression:"schme_loading"}],attrs:{content:"计算方案详情"},on:{back:e.on_back_click}})],1),t("el-row",{staticStyle:{"text-align":"left",margin:"20px 0"}},[t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.destroy_scheme(e.show_scheme)}}},[e._v("删除")])],1),t("el-row",[t("el-descriptions",{attrs:{column:2,size:"medium",border:""}},[t("el-descriptions-item",{attrs:{label:"ID"}},[e._v(e._s(e.show_scheme.schemeId))]),t("el-descriptions-item",{attrs:{label:"名称"}},[e._v(e._s(e.show_scheme.name))]),t("el-descriptions-item",{attrs:{label:"配额"}},[e._v(e._s(e.show_scheme.share))]),t("el-descriptions-item",{attrs:{label:"CPU"}},[e._v(e._s(e.show_scheme.cpu))]),t("el-descriptions-item",{attrs:{label:"内存"}},[e._v(e._s(e.get_memory_display_size(e.show_scheme.memory)))]),t("el-descriptions-item",{attrs:{label:"Cores"}},[e._v(e._s(e.show_scheme.cores))]),t("el-descriptions-item",{attrs:{label:"Sockets"}},[e._v(e._s(e.show_scheme.sockets))]),t("el-descriptions-item",{attrs:{label:"Threads"}},[e._v(e._s(e.show_scheme.threads))])],1)],1)],1)},n=[],a=o(51907),i=o(85617),r=(o(41539),o(73412)),l=o(29924),c=o(42173);const u={name:"SchemeInfoComponent",data:function(){return{schme_loading:!1,show_scheme_id:0,show_scheme:{schemeId:0,name:"-",cpu:0,memory:0,share:0,sockets:0,cores:0,threads:0}}},mixins:[r.Z,c.Z],created:function(){this.show_scheme_id=0,this.subscribe_notify(this.$options.name,this.dispatch_notify_message),this.subscribe_connect_notify(this.$options.name,this.reload_page),this.init_notify()},beforeDestroy:function(){this.unsubscribe_notify(this.$options.name),this.unsubscribe_connect_notify(this.$options.name),this.show_scheme_id=0},methods:{on_back_click:function(){this.show_scheme_id=0,this.$emit("back")},on_notify_update_scheme_info:function(e){this.refresh_scheme(e),this.$emit("onSchemeUpdate",e)},refresh_scheme:function(e){this.show_scheme.schemeId===e.schemeId&&(this.show_scheme=e)},reload_page:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.show_scheme_id>0)){t.next=4;break}return e.schme_loading=!0,t.next=4,(0,l.TQ)({schemeId:e.show_scheme_id}).then((function(t){0===t.code?e.init_scheme(t.data):e.$alert("获取计算方案信息失败:".concat(t.message),"提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"返回",type:"error"}).then((function(){e.on_back_click()}))["catch"]((function(){e.on_back_click()}))}))["finally"]((function(){e.host_loading=!1}));case 4:case"end":return t.stop()}}),t)})))()},init_scheme:function(e){this.show_scheme_id=e.schemeId,this.show_scheme=e,this.schme_loading=!1},init:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.show_scheme_id=e,t.reload_page();case 2:case"end":return o.stop()}}),o)})))()},destroy_scheme:function(e){var t=this;this.$confirm("删除计算方案, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,l.tM)({schemeId:e.schemeId}).then((function(e){0===e.code?t.on_back_click():t.$notify.error({title:"错误",message:"删除计算方案失败:".concat(e.message)})}))}))["catch"]((function(){}))},dispatch_notify_message:function(e){if(8===e.type&&this.show_scheme.schemeId==e.id){var t=e.data;0==t.code?this.refresh_scheme(t.data):2000001==t.code&&this.on_back_click()}}}},_=u;var d=o(1001),p=(0,d.Z)(_,s,n,!1,null,null,null);const h=p.exports},32636:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var s=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"启动虚拟机","close-on-click-modal":!1,visible:e.start_dialog_visiable,width:"400px"},on:{"update:visible":function(t){e.start_dialog_visiable=t}}},[t("el-form",{attrs:{model:e.start_guest,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"选择主机"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.start_guest.hostId,callback:function(t){e.$set(e.start_guest,"hostId",t)},expression:"start_guest.hostId"}},[t("el-option",{attrs:{label:"随机",value:0}}),e._l(e.hosts,(function(e){return t("el-option",{key:e.hostId,attrs:{label:e.displayName,value:e.hostId,"v-loading":!0}})}))],2)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.start_dialog_visiable=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.start_guest_click}},[e._v("确 定")])],1)],1)},n=[],a=o(51907),i=o(85617),r=(o(57327),o(41539),o(29924));const l={data:function(){return{start_dialog_visiable:!1,start_guest_bootstrapType:0,start_guest:{hostId:0,guestId:0},hosts:[]}},computed:{select_host:function(){var e=this;return this.hosts.filter((function(t){return 0===e.start_guest_bootstrapType||!(1!==e.start_guest_bootstrapType||!t.uefiType||""==t.uefiType||!t.uefiPath||""==t.uefiPath)}))}},methods:{init:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.start_guest.guestId=e.guestId,t.start_guest_bootstrapType=e.bootstrapType,t.start_guest.hostId=0,t.start_dialog_visiable=!0,o.next=6,t.load_all_host();case 6:case"end":return o.stop()}}),o)})))()},load_all_host:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,r.vZ)().then((function(t){0===t.code&&(e.hosts=t.data.filter((function(e){return 1==e.status}))),console.log(e.host)}));case 2:case"end":return t.stop()}}),t)})))()},start_guest_click:function(){var e=this;(0,r.NU)(this.start_guest).then((function(t){0===t.code?(e.$emit("onGuestUpdate",t.data),e.start_dialog_visiable=!1):e.$notify.error({title:"错误",message:"启动虚拟机失败:".concat(t.message)})}))}}},c=l;var u=o(1001),_=(0,u.Z)(c,s,n,!1,null,null,null);const d=_.exports},62606:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var s=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"关闭虚拟机","close-on-click-modal":!1,visible:e.stop_dialog_visiable,width:"400px"},on:{"update:visible":function(t){e.stop_dialog_visiable=t}}},[t("el-checkbox",{model:{value:e.stop_guest.force,callback:function(t){e.$set(e.stop_guest,"force",t)},expression:"stop_guest.force"}},[e._v("强制关闭")]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.stop_dialog_visiable=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.stop_guest_click}},[e._v("确 定")])],1)],1)},n=[],a=o(51907),i=o(85617),r=o(29924);const l={data:function(){return{stop_dialog_visiable:!1,stop_guest:{hostId:0,force:!1}}},methods:{init:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.stop_guest.guestId=e.guestId,t.stop_guest.force=!1,t.stop_dialog_visiable=!0;case 3:case"end":return o.stop()}}),o)})))()},stop_guest_click:function(){var e=this;this.$confirm("停止当前虚拟机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,r.X)(e.stop_guest).then((function(t){0===t.code?(e.$emit("onGuestUpdate",t.data),e.stop_dialog_visiable=!1):e.$notify.error({title:"错误",message:"启动虚拟机失败:".concat(t.message)})}))}))["catch"]((function(){}))}}},c=l;var u=o(1001),_=(0,u.Z)(c,s,n,!1,null,null,null);const d=_.exports},13992:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});o(82526),o(41817);var s=function(){var e=this,t=e._self._c;return t("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.storage_loading,expression:"storage_loading"}],staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{attrs:{content:"存储池详情"},on:{back:e.go_back}})],1),t("el-row",{staticStyle:{"text-align":"left",margin:"20px 0"}},[t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.register_storage(e.show_storage)}}},[e._v("重新注册")]),t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.show_modify_storage_support_category_dialog(e.show_storage)}}},[e._v("修改支持范围")]),3!==e.show_storage.status?t("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.pasue_storage(e.show_storage)}}},[e._v("开始维护")]):e._e(),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.destroy_storage(e.show_storage)}}},[e._v("销毁存储池")])],1),t("el-row",[t("el-descriptions",{attrs:{column:2,size:"medium",border:""}},[t("el-descriptions-item",{attrs:{label:"ID"}},[e._v(e._s(e.show_storage.storageId))]),t("el-descriptions-item",{attrs:{label:"存储池名"}},[e._v(e._s(e.show_storage.description))]),t("el-descriptions-item",{attrs:{label:"存储池类型"}},[e._v(e._s(e.show_storage.type))]),t("el-descriptions-item",{attrs:{label:"允许范围"}},[t("div",{domProps:{innerHTML:e._s(e.get_support_category_html(e.show_storage.supportCategory))}})]),"nfs"===e.show_storage.type?t("el-descriptions-item",{attrs:{label:"挂载路径"}},[e._v(e._s(e.show_storage.mountPath))]):e._e(),"nfs"===e.show_storage.type?t("el-descriptions-item",{attrs:{label:"NFS路径"}},[e._v(e._s(JSON.parse(e.show_storage.param).path))]):e._e(),"nfs"===e.show_storage.type?t("el-descriptions-item",{attrs:{label:"NFS地址"}},[e._v(e._s(JSON.parse(e.show_storage.param).uri))]):e._e(),"glusterfs"===e.show_storage.type?t("el-descriptions-item",{attrs:{label:"Glusterfs磁盘"}},[e._v(e._s(JSON.parse(e.show_storage.param).volume))]):e._e(),"glusterfs"===e.show_storage.type?t("el-descriptions-item",{attrs:{label:"Glusterfs地址"}},[e._v(e._s(JSON.parse(e.show_storage.param).uri))]):e._e(),"ceph-rbd"===e.show_storage.type?t("el-descriptions-item",{attrs:{label:"Ceph地址"}},[e._v(e._s(JSON.parse(e.show_storage.param).uri))]):e._e(),"ceph-rbd"===e.show_storage.type?t("el-descriptions-item",{attrs:{label:"Ceph存储池名称"}},[e._v(e._s(JSON.parse(e.show_storage.param).pool))]):e._e(),"ceph-rbd"===e.show_storage.type?t("el-descriptions-item",{attrs:{label:"Ceph用户"}},[e._v(e._s(JSON.parse(e.show_storage.param).username))]):e._e(),t("el-descriptions-item",{attrs:{label:"容量"}},[e._v(e._s(e.get_volume_display_size(e.show_storage.capacity)))]),t("el-descriptions-item",{attrs:{label:"可用"}},[e._v(e._s(e.get_volume_display_size(e.show_storage.available)))]),t("el-descriptions-item",{attrs:{label:"已申请"}},[e._v(e._s(e.get_volume_display_size(e.show_storage.allocation)))]),t("el-descriptions-item",{attrs:{label:"状态"}},[t("el-tag",{attrs:{type:1===e.show_storage.status?"success":"danger"}},[e._v(e._s(e.get_storage_status(e.show_storage)))])],1)],1)],1),t("el-dialog",{attrs:{title:"修改存储支持范围",visible:e.update_dialog_visable,width:"30%"},on:{"update:visible":function(t){e.update_dialog_visable=t}}},[t("el-form",{staticClass:"demo-ruleForm",attrs:{"label-width":"100px"}},[t("el-form-item",{attrs:{label:"可选范围",prop:"value"}},[t("el-checkbox-group",{model:{value:e.storage_support_category_select,callback:function(t){e.storage_support_category_select=t},expression:"storage_support_category_select"}},[t("el-checkbox",{attrs:{label:1}},[e._v("模版")]),t("el-checkbox",{attrs:{label:2}},[e._v("磁盘")])],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.update_dialog_visable=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.modify_storage_support_category_click}},[e._v("确 定")])],1)],1)],1)},n=[],a=o(51907),i=o(85617),r=(o(68309),o(41539),o(57658),o(89554),o(54747),o(73412)),l=o(42173),c=o(29924);const u={name:"StorageInfoComponent",data:function(){return{show_storage_id:0,update_dialog_visable:!1,storage_loading:!1,show_storage:{},storage_support_category_select:[]}},mixins:[r.Z,l.Z],created:function(){this.show_storage_id=0,this.subscribe_notify(this.$options.name,this.dispatch_notify_message),this.subscribe_connect_notify(this.$options.name,this.reload_page),this.init_notify()},beforeDestroy:function(){this.unsubscribe_notify(this.$options.name),this.unsubscribe_connect_notify(this.$options.name),this.show_storage_id=0},methods:{go_back:function(){this.show_storage_id=0,this.$emit("back")},reload_page:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.show_storage_id>0)){t.next=4;break}return e.storage_loading=!0,t.next=4,(0,c.nQ)({storageId:e.show_storage_id}).then((function(t){0===t.code?e.init_storage(t.data):e.$alert("获取存储池信息失败:".concat(t.message),"提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"返回",type:"error"}).then((function(){e.go_back()}))["catch"]((function(){e.go_back()}))}))["finally"]((function(){e.storage_loading=!1}));case 4:case"end":return t.stop()}}),t)})))()},init_storage:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.show_storage=e,t.show_storage_id=e.storageId,t.storage_loading=!1;case 3:case"end":return o.stop()}}),o)})))()},init:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.show_storage_id=e,t.reload_page();case 2:case"end":return o.stop()}}),o)})))()},notify_storage_update:function(e){this.refresh_storage(e),this.$emit("onStorageUpdate",e)},refresh_storage:function(e){this.show_storage.storageId===e.storageId&&(this.show_storage=e)},pasue_storage:function(e){var t=this;this.$confirm("暂停存储池, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,c.dZ)({storageId:e.storageId}).then((function(e){0===e.code?t.notify_storage_update(e.data):t.$notify.error({title:"错误",message:"暂停存储池失败:".concat(e.message)})}))}))["catch"]((function(){}))},register_storage:function(e){var t=this;this.$confirm("重新注册存储池, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,c.vA)({storageId:e.storageId}).then((function(e){0===e.code?t.notify_storage_update(e.data):t.$notify.error({title:"错误",message:"注册存储池失败:".concat(e.message)})}))}))["catch"]((function(){}))},destroy_storage:function(e){var t=this;this.$confirm("删除存储池, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,c.ye)({storageId:e.storageId}).then((function(e){0===e.code?(t.notify_storage_update(e.data),t.go_back()):t.$notify.error({title:"错误",message:"删除存储池失败:".concat(e.message)})}))}))["catch"]((function(){}))},show_modify_storage_support_category_dialog:function(e){this.storage_support_category_select=[],1==(1&e.supportCategory)&&this.storage_support_category_select.push(1),2==(2&e.supportCategory)&&this.storage_support_category_select.push(2),console.log(this.storage_support_category_select),this.update_dialog_visable=!0},modify_storage_support_category_click:function(){var e=this,t=0;this.storage_support_category_select.forEach((function(e){t|=e})),(0,c.C5)({storageId:this.show_storage.storageId,supportCategory:t}).then((function(t){0===t.code?(e.show_storage=t.data,e.update_dialog_visable=!1):e.$notify.error({title:"错误",message:"修改支持范围失败:".concat(t.message)})})),console.log(t)},dispatch_notify_message:function(e){if(7===e.type&&this.show_storage.storageId==e.id){var t=e.data;0==t.code?this.refresh_storage(t.data):2000001==t.code&&this.go_back()}}}},_=u;var d=o(1001),p=(0,d.Z)(_,s,n,!1,null,null,null);const h=p.exports},250:(e,t,o)=>{"use strict";o.d(t,{Z:()=>v});o(82526),o(41817),o(68309);var s=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{directives:[{name:"show",rawName:"v-show",value:0===this.show_type,expression:"this.show_type === 0"},{name:"loading",rawName:"v-loading",value:e.volume_loading,expression:"volume_loading"}],staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{attrs:{content:"磁盘详情"},on:{back:e.go_back}})],1),t("el-row",{staticStyle:{"text-align":"left",margin:"20px 0"}},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.show_resize_volume_click(e.show_volume)}}},[e._v("扩容磁盘")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.show_clone_volume_click(e.show_volume)}}},[e._v("克隆磁盘")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.show_migrate_volume_click(e.show_volume)}}},[e._v("迁移磁盘")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.show_create_volume_template_click(e.show_volume)}}},[e._v("创建模版")]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.destroy_volume(e.show_volume)}}},[e._v("销毁磁盘")])],1),t("el-row",[t("el-descriptions",{attrs:{column:2,size:"medium",border:""}},[t("el-descriptions-item",{attrs:{label:"ID"}},[e._v(e._s(e.show_volume.volumeId))]),t("el-descriptions-item",{attrs:{label:"磁盘名"}},[e._v(e._s(e.show_volume.description))]),t("el-descriptions-item",{attrs:{label:"磁盘格式"}},[e._v(e._s(e.show_volume.type))]),t("el-descriptions-item",{attrs:{label:"磁盘路径"}},[e._v(e._s(e.show_volume.path))]),t("el-descriptions-item",{attrs:{label:"磁盘模版"}},[e._v(e._s(this.template?this.template.name:"-"))]),t("el-descriptions-item",{attrs:{label:"父级路径"}},[e._v(e._s(e.show_volume.backingPath))]),t("el-descriptions-item",{attrs:{label:"磁盘存储池"}},[t("el-button",{attrs:{type:"text",underline:!1},on:{click:function(t){return e.show_storage_info(e.show_volume.storageId)}}},[e._v(" "+e._s(this.storage?this.storage.description:e.show_volume.storageId)+" ")])],1),t("el-descriptions-item",{attrs:{label:"挂载主机"}},[e.show_volume.attach?t("el-button",{attrs:{type:"text",underline:!1},on:{click:function(t){return e.show_guest_info(e.show_volume.attach.guestId)}}},[e._v(" "+e._s(e.show_volume.attach.description)+" ")]):e._e(),e.show_volume.attach?e._e():t("span",[e._v("-")])],1),t("el-descriptions-item",{attrs:{label:"磁盘容量"}},[e._v(e._s(e.get_volume_display_size(e.show_volume.capacity)))]),t("el-descriptions-item",{attrs:{label:"物理占用"}},[e._v(e._s(e.get_volume_display_size(e.show_volume.allocation)))]),t("el-descriptions-item",{attrs:{label:"状态"}},[t("el-tag",{attrs:{type:1===e.show_volume.status?"success":"danger"}},[e._v(e._s(e.get_volume_status(e.show_volume)))])],1)],1)],1)],1),t("CloneVolumeComponent",{directives:[{name:"show",rawName:"v-show",value:1===this.show_type,expression:"this.show_type === 1"}],ref:"CloneVolumeComponentRef",on:{back:function(t){e.show_type=0},onVolumeUpdate:e.notify_volume_update}}),t("MigrateVolumeComponent",{directives:[{name:"show",rawName:"v-show",value:2===this.show_type,expression:"this.show_type === 2"}],ref:"MigrateVolumeComponentRef",on:{back:function(t){e.show_type=0},onVolumeUpdate:e.notify_volume_update}}),t("GuestInfoComponent",{directives:[{name:"show",rawName:"v-show",value:3===this.show_type,expression:"this.show_type === 3"}],ref:"GuestInfoComponentRef",on:{back:function(t){e.show_type=0}}}),t("StorageInfoComponent",{directives:[{name:"show",rawName:"v-show",value:4===this.show_type,expression:"this.show_type === 4"}],ref:"StorageInfoComponentRef",on:{back:function(t){e.show_type=0}}}),t("ResizeVolumeComponent",{ref:"ResizeVolumeComponentRef",on:{onVolumeUpdate:e.notify_volume_update}}),t("CreateVolumeTemplateComponent",{ref:"CreateVolumeTemplateComponentRef"})],1)},n=[],a=o(51907),i=o(85617),r=(o(41539),o(92622)),l=o(51699),c=o(80270),u=o(99797),_=o(13992),d=o(42173),p=o(73412),h=o(29924);const m={name:"VolumeInfoComponent",data:function(){return{volume_loading:!1,show_type:0,show_volume:{},template:{},storage:{},show_volume_id:0}},components:{ResizeVolumeComponent:r.Z,CreateVolumeTemplateComponent:l.Z,CloneVolumeComponent:c.Z,MigrateVolumeComponent:u.Z,StorageInfoComponent:_.Z},beforeCreate:function(){this.$options.components.GuestInfoComponent=o(10614).Z},created:function(){this.show_volume_id=0,this.subscribe_notify(this.$options.name,this.dispatch_notify_message),this.subscribe_connect_notify(this.$options.name,this.reload_page),this.init_notify()},beforeDestroy:function(){this.unsubscribe_notify(this.$options.name),this.unsubscribe_connect_notify(this.$options.name),this.show_volume_id=0},mixins:[p.Z,d.Z],methods:{go_back:function(){this.show_volume_id=0,this.$emit("back")},init_volume:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.show_volume_id=e.volumeId,t.show_volume=e,t.show_type=0,o.next=5,t.init_volume_template();case 5:return o.next=7,t.init_volume_storage();case 7:case"end":return o.stop()}}),o)})))()},reload_page:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.show_volume_id>0)){t.next=5;break}return e.show_type=0,e.volume_loading=!0,t.next=5,(0,h.Rm)({volumeId:e.show_volume_id}).then((function(t){0===t.code?e.init_volume(t.data):e.$alert("获取磁盘信息失败:".concat(t.message),"提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"返回",type:"error"}).then((function(){e.go_back()}))["catch"]((function(){e.go_back()}))}))["finally"]((function(){e.volume_loading=!1}));case 5:case"end":return t.stop()}}),t)})))()},init:function(e){var t=this;return(0,i.Z)((0,a.Z)().mark((function o(){return(0,a.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.show_volume_id=e,t.reload_page();case 2:case"end":return o.stop()}}),o)})))()},notify_volume_update:function(e){this.refresh_volume(e),this.$emit("onVolumeUpdate",e)},refresh_volume:function(e){this.show_volume.volumeId===e.volumeId&&(this.show_volume=e)},init_volume_template:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.show_volume.templateId){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,h.BE)({templateId:e.show_volume.templateId}).then((function(t){0==t.code&&(e.template=t.data)}));case 4:case"end":return t.stop()}}),t)})))()},init_volume_storage:function(){var e=this;return(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,h.nQ)({storageId:e.show_volume.storageId}).then((function(t){0==t.code&&(e.storage=t.data)}));case 2:case"end":return t.stop()}}),t)})))()},show_resize_volume_click:function(e){this.$refs.ResizeVolumeComponentRef.init(e)},show_clone_volume_click:function(e){this.$refs.CloneVolumeComponentRef.init(e),this.show_type=1},show_migrate_volume_click:function(e){this.$refs.MigrateVolumeComponentRef.init(e),this.show_type=2},show_create_volume_template_click:function(e){this.$refs.CreateVolumeTemplateComponentRef.init(e)},show_guest_info:function(e){this.$refs.GuestInfoComponentRef.initGuestId(e),this.show_type=3},show_storage_info:function(e){this.$refs.StorageInfoComponentRef.init(e),this.show_type=4},destroy_volume:function(e){var t=this;this.$confirm("删除磁盘, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,h.lp)({volumeId:e.volumeId}).then((function(e){0===e.code?(t.notify_volume_update(e.data),t.go_back()):t.$notify.error({title:"错误",message:"删除磁盘失败:".concat(e.message)})}))}))["catch"]((function(){}))},dispatch_notify_message:function(e){if(2===e.type&&this.show_volume.volumeId===e.id){var t=e.data;0==t.code?this.refresh_volume(t.data):2000001==t.code&&this.go_back()}}}},f=m;var g=o(1001),w=(0,g.Z)(f,s,n,!1,null,null,null);const v=w.exports},29924:(e,t,o)=>{"use strict";o.d(t,{FX:()=>Ce,M8:()=>Ke,vJ:()=>Ae,uT:()=>oe,go:()=>ye,is:()=>ke,MP:()=>ee,_g:()=>We,sS:()=>ze,Az:()=>fe,Ld:()=>S,XY:()=>f,Lc:()=>g,sT:()=>k,LA:()=>Z,w1:()=>$e,ql:()=>ae,Z8:()=>Je,o6:()=>U,Mn:()=>z,rL:()=>j,Jf:()=>G,H$:()=>et,ng:()=>Ge,yl:()=>me,de:()=>B,df:()=>C,s4:()=>y,EY:()=>x,U5:()=>I,tM:()=>re,YX:()=>He,ye:()=>P,c4:()=>q,GE:()=>Ne,lp:()=>te,n4:()=>Xe,PX:()=>Se,DZ:()=>Te,fQ:()=>M,NV:()=>je,c3:()=>Le,hI:()=>Oe,c$:()=>le,Xj:()=>de,iN:()=>_e,z2:()=>ce,XR:()=>ue,KF:()=>K,vZ:()=>X,kI:()=>Pe,HW:()=>d,Bb:()=>b,a0:()=>F,yj:()=>h,jR:()=>p,I2:()=>H,TQ:()=>ne,Pu:()=>se,$G:()=>Me,nQ:()=>R,_u:()=>E,kH:()=>De,IC:()=>pe,BE:()=>O,A8:()=>D,jW:()=>he,lE:()=>Be,Rm:()=>J,Mm:()=>$,Kw:()=>qe,pH:()=>Ze,Tb:()=>ve,Ct:()=>W,oR:()=>Ye,v_:()=>Ve,vi:()=>xe,Mj:()=>Qe,A6:()=>ie,rd:()=>Fe,ol:()=>A,pz:()=>w,dZ:()=>Q,qB:()=>ge,Qm:()=>Ie,XN:()=>T,fj:()=>v,vA:()=>N,a$:()=>Ee,h8:()=>Ue,K5:()=>Y,NU:()=>we,X:()=>be,Jj:()=>m,C5:()=>L,MT:()=>V,eV:()=>Re});var s=o(45226),n=o(27594),a=(o(41539),o(23157),o(57658),o(19265)),i=o(93069),r=o.n(i),l=o(58543),c=o(67986),u=function(){function e(){(0,s.Z)(this,e),this.baseUrl=""}return(0,n.Z)(e,[{key:"getInsideConfig",value:function(){var e={baseURL:c.BASEURL,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Token":localStorage.getItem("X-Token")}};return e}},{key:"destroy",value:function(e){delete this.queue[e]}},{key:"interceptors",value:function(e,t){var o=this;e.interceptors.request.use((function(e){return"get"!==e.method.toLowerCase()?e.data=r().stringify(e.data):e.data=!0,e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){var t=e.data;if(401===t.code){var o=window.location.hash.toLowerCase();return o&&!o.startsWith("#/login")&&localStorage.setItem("X-Back",window.location.href),l.Z.push({path:"/login"}),e.data}return e.data}),(function(e){o.destroy(t);var s=e.response;if(s){var n=s.status,a=null;switch(n){case 400:a="请求参数错误";break;case 401:a="未授权或token过期，请登录";break;case 413:a="资源大小超过限制";break;case 403:a="跨域访问已被拒绝";break;case 404:a="请求地址出错: ".concat(s.config.url);break;case 408:a="请求超时";break;case 405:a="请求方法不正确";break;case 500:a="服务器内部错误";break;case 501:a="服务器未实现";break;case 502:a="网关错误";break;case 503:a="该服务不可用";break;case 504:a="网关超时";break;case 505:a="HTTP版本不受支持";break;default:a="未知错误status:".concat(n)}return console.log(a),Promise.reject(e)}return Promise.reject(e)}))}},{key:"request",value:function(e){var t=a.Z.create(),o=Object.assign({},e,this.getInsideConfig());return this.interceptors(t,o.url),t(o)}}]),e}();const _=new u;var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/network/component",params:e})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/network/all",params:e})},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/network/info",params:e})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/network/component/slave/update",data:e,method:"POST"})},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/network/create",data:e,method:"PUT"})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/network/component/create",data:e,method:"PUT"})},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/network/maintenance",data:e,method:"POST"})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/network/register",data:e,method:"POST"})},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/network/destroy",data:e,method:"DELETE"})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/network/nat/list",params:e})},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/network/nat/create",data:e,method:"PUT"})},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/network/nat/destroy",data:e,method:"DELETE"})},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/network/component/destroy",data:e,method:"DELETE"})},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/dns/destroy",data:e,method:"DELETE"})},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/host/all",params:e})},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/host/info",params:e})},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/host/create",data:e,method:"PUT"})},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/host/maintenance",data:e,method:"POST"})},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/host/register",data:e,method:"POST"})},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/dns/list",params:e})},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/dns/create",data:e,method:"PUT"})},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/host/destroy",data:e,method:"DELETE"})},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/storage/all",params:e})},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/storage/info",params:e})},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/storage/create",data:e,method:"PUT"})},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/storage/maintenance",data:e,method:"POST"})},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/storage/register",data:e,method:"POST"})},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/storage/destroy",data:e,method:"DELETE"})},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/storage/support/category/update",data:e,method:"POST"})},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/template/all",params:e})},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/template/info",params:e})},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/template/create",data:e,method:"PUT"})},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/template/script",data:e,method:"POST"})},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/template/volume/create",data:e,method:"PUT"})},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/template/download",data:e,method:"POST"})},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/template/destroy",data:e,method:"DELETE"})},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/volume/all",params:e})},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/volume/not/attach/all",params:e})},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/volume/info",params:e})},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/volume/create",data:e,method:"PUT"})},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/volume/migrate",data:e,method:"PUT"})},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/volume/resize",data:e,method:"POST"})},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/volume/clone",data:e,method:"PUT"})},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/volume/destroy",data:e,method:"DELETE"})},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/volume/destroy/batch",data:e,method:"DELETE"})},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/scheme/all",params:e})},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/scheme/info",params:e})},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/scheme/create",data:e,method:"PUT"})},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/scheme/modify",data:e,method:"POST"})},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/scheme/destroy",data:e,method:"DELETE"})},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/info",params:e})},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/vnc/password",params:e})},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/volume",params:e})},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/network",params:e})},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/all",params:e})},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/system",params:e})},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/user",params:e})},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/destroy",data:e,method:"DELETE"})},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/create",data:e,method:"PUT"})},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/reinstall",data:e,method:"POST"})},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/start",data:e,method:"POST"})},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/migrate",data:e,method:"POST"})},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/start/batch",data:e,method:"POST"})},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/shutdown",data:e,method:"POST"})},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/shutdown/batch",data:e,method:"POST"})},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/reboot",data:e,method:"POST"})},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/modify",data:e,method:"POST"})},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/cd/attach",data:e,method:"POST"})},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/cd/detach",data:e,method:"POST"})},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/disk/attach",data:e,method:"POST"})},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/disk/detach",data:e,method:"POST"})},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/network/attach",data:e,method:"POST"})},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/guest/network/detach",data:e,method:"POST"})},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/user/oauth2/login",data:e,method:"POST"})},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/user/login",data:e,method:"POST"})},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/user/list",data:e,method:"GET"})},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/user/register",data:e,method:"PUT"})},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/user/state/update",data:e,method:"POST"})},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/user/password/reset",data:e,method:"POST"})},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/user/password/modify",data:e,method:"POST"})},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/user/destroy",data:e,method:"DELETE"})},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/user/login/signature",params:e})},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/user/signature",params:e})},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/config",data:e,method:"GET"})},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/group/all",params:e})},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/group/create",data:e,method:"PUT"})},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/group/update",data:e,method:"POST"})},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/group/destroy",data:e,method:"DELETE"})},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/ssh/all",params:e})},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/ssh/import",data:e,method:"PUT"})},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/ssh/create",data:e,method:"PUT"})},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/ssh/destroy",data:e,method:"DELETE"})},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"/api/ssh/download/key",data:e,method:"POST"})},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/config/search",params:e})},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/config/create",data:e,method:"PUT"})},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/config/update",data:e,method:"POST"})},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({url:"api/config/destroy",data:e,method:"DELETE"})}},67986:e=>{e.exports={BASEURL:"."}},73412:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});o(57658),o(34553),o(40561),o(89554),o(41539),o(54747);var s=o(45226),n=o(27594),a=o(54503),i=(o(92222),o(83710),o(38862),o(32564),o(23157),o(58543)),r=function(){function e(){(0,s.Z)(this,e),(0,a.Z)(this,"notify_list",[]),(0,a.Z)(this,"connect_notify_list",[])}return(0,n.Z)(e,[{key:"init",value:function(t){var o=this;if(!e.instance){var s;s="https:"===window.location.protocol?"wss":"ws";var n="".concat(s,"://").concat(window.location.host,"/api/ws/");console.log(new Date,"开始连接通信服务器..."),e.instance=new WebSocket(n),e.instance.onopen=function(){console.log(new Date,"通信服务器连接成功,发送认证信息");var t={command:100,data:{token:localStorage.getItem("X-Token")}};e.instance.send(JSON.stringify(t))},e.instance.onerror=function(){console.log(new Date,"出现错误，断开链接，重新开始连接..."),e.instance.close(),e.instance=void 0,setTimeout((function(){o.init(t)}),3e3)},e.instance.onclose=function(){console.log(new Date,"断开链接,等待链接..."),e.instance=void 0,setTimeout((function(){o.init(t)}),3e3)}}e.instance.onmessage=function(e){if(e.data){var o=JSON.parse(e.data);if(101==o.command)console.log(new Date,"WebSocket 登录认证成功."),t.handle_connect();else if(102==o.command){console.log(new Date,"WebSocket 登录认证Token错误.");var s=window.location.hash.toLowerCase();s&&!s.startsWith("#/login")&&localStorage.setItem("X-Back",window.location.href),i.Z.push({path:"/login"})}else 103==o.command&&t.handle_notify_message(o.data)}}}}]),e}();(0,a.Z)(r,"instance",void 0);const l=new r,c={data:function(){return{}},methods:{init_notify:function(){l.init(this)},subscribe_notify:function(e,t){l.notify_list.push({k:e,n:t})},unsubscribe_notify:function(e){var t=l.notify_list.findIndex((function(t){return t.k===e}));t>=0&&l.notify_list.splice(t,1)},subscribe_connect_notify:function(e,t){l.connect_notify_list.push({k:e,n:t})},unsubscribe_connect_notify:function(e){var t=l.connect_notify_list.findIndex((function(t){return t.k===e}));t>=0&&l.connect_notify_list.splice(t,1)},handle_notify_message:function(e){l.notify_list.forEach((function(t){t.n(e)}))},handle_connect:function(){l.connect_notify_list.forEach((function(e){e.n()}))}}}},42173:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});o(56977),o(83710),o(9653),o(74916),o(77601),o(15306),o(24603),o(28450),o(88386),o(39714),o(83650);const s={methods:{get_bridge_type:function(e){switch(e.bridgeType){case 0:return"基础桥接";case 1:return"OpenSwitch";default:return"未知桥接[".concat(e.bridgeType,"]")}},get_bootstrap_type_name:function(e){switch(e.bootstrapType){case 0:return"BIOS";case 1:return"UEFI";default:return"UNKNOW"}},get_system_category_name:function(e){switch(e.systemCategory){case 100:return"Linux";case 200:return"Unix";case 300:return"Windows";case 400:return"Android";case 101:return"Centos";case 102:return"Ubuntu";case 103:return"Deepin";case 104:return"RedHat";case 105:return"Debian";case 106:return"OpenEuler";case 107:return"UOS";case 108:return"Oracle Linux";default:return"Unknown"}},get_system_category_image:function(e){switch(e.systemCategory){case 100:return o(59662);case 200:return o(16130);case 300:return o(22195);case 400:return o(92771);case 101:return o(54227);case 102:return o(76628);case 103:return o(2369);case 104:return o(15397);case 105:return o(83330);case 106:return o(46709);case 107:return o(6899);case 108:return o(59519);default:return o(59662)}},get_guest_status:function(e){switch(e.status){case 0:return"正在创建";case 1:return"正在启动";case 2:return"正在运行";case 3:return"正在停止";case 4:return"已停止";case 5:return"重启中";case 6:return"虚拟机错误";case 7:return"正在迁移";case 8:return"正在销毁";default:return"未知状态[".concat(e.status,"]")}},get_host_status:function(e){switch(e.status){case 0:return"正在创建";case 1:return"在线";case 2:return"离线";case 3:return"正在维护";case 4:return"主机错误";default:return"未知状态[".concat(e.status,"]")}},get_network_status:function(e){switch(e.status){case 1:return"正在注册";case 2:return"已就绪";case 3:return"正在维护";case 4:return"正在销毁";case 5:return"正在安装";case 6:return"网络错误";default:return"未知状态[".concat(e.status,"]")}},get_network_type:function(e){switch(e.type){case 0:return"基础网络";case 1:return"Vlan网络";default:return"未知类型[".concat(e.type,"]")}},get_snapshot_status:function(e){switch(e.status){case 0:return"正在创建";case 1:return"已就绪";case 2:return"快照错误";case 3:return"正在删除";default:return"未知状态[".concat(e.status,"]")}},get_storage_status:function(e){switch(e.status){case 0:return"正在创建";case 1:return"已就绪";case 2:return"正在维护";case 3:return"正在销毁";case 4:return"存储池错误";default:return"未知状态[".concat(e.status,"]")}},get_memory_display_size:function(e){return e>=1048576?(e/1048576).toFixed(2)+" GB":e>=1024?(e/1024).toFixed(2)+"  MB":e+" KB"},get_template_status:function(e){switch(e.status){case 0:return"正在创建";case 1:return"下载中";case 2:return"已就绪";case 3:return"模版错误";case 4:return"正在销毁";default:return"未知状态[".concat(e.status,"]")}},get_template_type:function(e){switch(e.templateType){case 0:return"ISO 文件";case 1:return"系统模版";case 2:return"用户模版";default:return"未知模版[".concat(e.templateType,"]")}},get_volume_status:function(e){switch(e.status){case 0:return"正在创建";case 1:return"已就绪";case 2:return"正在挂载";case 3:return"正在卸载";case 4:return"正在克隆";case 5:return"创建模版";case 6:return"创建快照";case 7:return"正在迁移";case 8:return"正在扩容";case 9:return"正在销毁";case 10:return"磁盘错误";default:return"未知状态[".concat(e.status,"]")}},get_component_type:function(e){switch(e){case 1:return"Route";case 2:return"Nat";default:return"未知"}},get_support_category_html:function(e){var t="";return 1==(1&e)&&(t+='<el-tag style="margin-right: 10px;background-color: #f0f9eb;border-color: #e1f3d8;color: #67c23a;padding: 0 10px;line-height: 30px;border-width: 1px;border-style: solid; border-radius: 4px;box-sizing: border-box; white-space: nowrap;">模版</el-tag>'),2==(2&e)&&(t+='<el-tag style="background-color: #f0f9eb;border-color: #e1f3d8;color: #67c23a;padding: 0 10px;line-height: 30px;border-width: 1px;border-style: solid; border-radius: 4px;box-sizing: border-box; white-space: nowrap;">磁盘</el-tag>'),t},get_volume_display_size:function(e){return e>=1099511627776?(e/1099511627776).toFixed(2)+" TB":e>=1073741824?(e/1073741824).toFixed(2)+" GB":e>=1048576?(e/1048576).toFixed(2)+" MB":e>=1024?(e/1024).toFixed(2)+"  KB":e+"  bytes"},parse_date:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";if(!e)return"";e=new Date(Number(e));var o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?o[s]:("00"+o[s]).substr((""+o[s]).length)));return t}}}},70750:(e,t,o)=>{"use strict";o(66992),o(88674),o(19601),o(17727);var s=o(27195),n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e.isFullScreen?e._e():t("el-header",{staticStyle:{"background-color":"#34495e",padding:"0",color:"white"},attrs:{height:"60px"}},[t("el-container",{staticStyle:{height:"60px"}},[t("div",{staticStyle:{cursor:"pointer",width:"200px",height:"100%"},on:{click:function(t){return e.go_route("/")}}},[t("img",{staticStyle:{width:"32px",height:"32px","margin-left":"20px","margin-top":"18px",float:"left"},attrs:{src:o(66949)}}),t("div",{staticStyle:{"font-size":"18px","line-height":"50px","font-weight":"bold","margin-left":"60px","margin-top":"8px"}},[e._v("KVM Cloud")])]),t("div",{staticStyle:{padding:"0",float:"right","margin-top":"0px",width:"100%","margin-right":"10px"}},[t("el-link",{staticClass:"right_menu",attrs:{underline:!1},on:{click:function(t){return e.menu_select("quit")}}},[e._v("退出")]),t("el-link",{staticClass:"right_menu",attrs:{underline:!1},on:{click:function(t){return e.menu_select("password")}}},[e._v("修改密码")]),t("el-link",{staticClass:"right_menu",attrs:{underline:!1},on:{click:function(t){return e.menu_select("support")}}},[e._v("联系&支持")])],1)])],1),t("el-container",{staticClass:"main-container"},[e.isFullScreen?e._e():t("el-aside",{class:e.isCollapse?"main-aside-collapsed":"main-aside",staticStyle:{margin:"0",padding:"0"}},[e.isFullScreen?e._e():t("el-button",{staticStyle:{width:"100%",color:"white","background-color":"#334157",border:"none","font-size":"16px"},attrs:{size:"small",icon:e.isCollapse?"el-icon-s-unfold":"el-icon-s-fold"},on:{click:e.shrinkMenu}}),t("el-menu",{staticStyle:{border:"none"},attrs:{collapse:e.isCollapse,"default-active":this.$route.path,router:"","collapse-transition":!1,"background-color":"#334157","text-color":"#fff","active-text-color":"#ffd04b"}},e._l(e.nav_menu_data,(function(o,s){return t("el-menu-item",{key:s,attrs:{index:o.path}},[t("i",{class:o.icon}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(o.title))])])})),1)],1),t("el-main",{class:e.isFullScreen?"full_screen_class":"",staticStyle:{margin:"0",padding:"0"}},[t("router-view")],1)],1),t("el-dialog",{attrs:{title:"修改密码",visible:e.update_password_dialog_visible,center:"",width:"400px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.update_password_dialog_visible=t}}},[t("el-form",{attrs:{model:e.update_password,"label-position":"right","label-width":"80px"}},[t("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[t("el-input",{attrs:{type:"password","show-password":!0},model:{value:e.update_password.oldPassword,callback:function(t){e.$set(e.update_password,"oldPassword",t)},expression:"update_password.oldPassword"}})],1),t("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[t("el-input",{attrs:{type:"password","show-password":!0},model:{value:e.update_password.newPassword,callback:function(t){e.$set(e.update_password,"newPassword",t)},expression:"update_password.newPassword"}})],1),t("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[t("el-input",{attrs:{type:"password","show-password":!0},model:{value:e.update_password.confirmPassword,callback:function(t){e.$set(e.update_password,"confirmPassword",t)},expression:"update_password.confirmPassword"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.update_user_password_click}},[e._v("确 定")]),t("el-button",{on:{click:function(t){e.update_password_dialog_visible=!1}}},[e._v("取 消")])],1)],1)],1),t("el-dialog",{attrs:{title:"联系&支持",visible:e.support_dialog_visible,center:"",width:"450px"},on:{"update:visible":function(t){e.support_dialog_visible=t}}},[t("el-tabs",{model:{value:e.supportActiveName,callback:function(t){e.supportActiveName=t},expression:"supportActiveName"}},[t("el-tab-pane",{attrs:{label:"联系作者",name:"concat"}},[t("div",{staticStyle:{"font-size":"15px","line-height":"30px"}},[t("div",[e._v("    本产品开源免费，遵从Apache2.0协议，个人或企业内部可自由的接入和使用。")]),t("br"),t("div",[e._v("    为了保证性能，请使用SSD创建存储。数据无价，做删除操作前务必三思，建议对核心数据采用异备方案。")]),t("br"),t("div",[e._v("    如果您在使用中遇到问题或相关建议，请提交issue。如遇紧急问题也可添加作者QQ(153391689)寻求帮助。")]),t("br"),t("div",[e._v("    开源不易，如果KVM Cloud对您带来了帮助，请给作者买杯咖啡吧 :)")]),t("br")])]),t("el-tab-pane",{attrs:{label:"微信捐赠",name:"wx"}},[t("div",{staticClass:"wx"})]),t("el-tab-pane",{attrs:{label:"支付宝捐赠",name:"zfb"}},[t("div",{staticClass:"zfb"})])],1)],1)],1)},a=[],i=(o(57658),o(29924));const r={provide:function(){var e=this;return{check_full_screen:function(t){e.isFullScreen=t}}},data:function(){return{isFullScreen:!1,update_password_dialog_visible:!1,support_dialog_visible:!1,supportActiveName:"concat",update_password:{oldPassword:"",newPassword:"",confirmPassword:"",nonce:""},path:"",isCollapse:!0,nav_menu_data:[{path:"/",title:"主页",icon:"el-icon-house"},{path:"/Guest",title:"虚拟机管理",icon:"el-icon-s-platform"},{path:"/Host",title:"主机管理",icon:"el-icon-monitor"},{path:"/Network",title:"网络管理",icon:"el-icon-platform-eleme"},{path:"/Storage",title:"存储池管理",icon:"el-icon-coin"},{path:"/Template",title:"模版管理",icon:"el-icon-price-tag"},{path:"/Ssh",title:"密钥管理",icon:"el-icon-key"},{path:"/Scheme",title:"计算方案",icon:"el-icon-cpu"},{path:"/Volume",title:"磁盘管理",icon:"el-icon-bank-card"},{path:"/Group",title:"群组管理",icon:"el-icon-folder"},{path:"/User",title:"用户管理",icon:"el-icon-s-custom"},{path:"/Config",title:"系统配置",icon:"el-icon-s-tools"}]}},created:function(){this.isCollapse="0"!==localStorage.getItem("menu_is_collapse")},methods:{go_route:function(e){this.$router.push({path:e})},shrinkMenu:function(){this.isCollapse=!this.isCollapse,localStorage.setItem("menu_is_collapse",this.isCollapse?"1":"0")},menu_select:function(e){var t=this;switch(e){case"support":this.support_dialog_visible=!0;break;case"password":this.update_password.oldPassword="",this.update_password.newPassword="",this.update_password.confirmPassword="",this.update_password.nonce="",this.update_password_dialog_visible=!0;break;case"quit":this.$confirm("退出登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){localStorage.removeItem("X-Token"),t.$router.push({path:"/Login"})}))["catch"]((function(){}));break}},update_user_password_click:function(){var e=this;this.update_password.newPassword==this.update_password.confirmPassword?(0,i.c3)().then((function(t){if(0===t.code){var o=window.sha256_digest(window.sha256_digest(e.update_password.oldPassword+":"+t.data.signature)+":"+t.data.nonce),s=t.data.nonce,n=window.sha256_digest(e.update_password.newPassword+":"+t.data.signature),a={oldPassword:o,newPassword:n,nonce:s};(0,i.Mj)(a).then((function(t){0!==t.code?e.$notify.error({title:"错误",message:"修改密码失败:".concat(t.message)}):e.update_password_dialog_visible=!1}))}else e.$notify.error({title:"错误",message:"修改密码失败:".concat(t.message)})})):this.$notify.error({title:"错误",duration:3e3,message:"新密码与旧密码不一致"})}}},l=r;var c=o(1001),u=(0,c.Z)(l,n,a,!1,null,null,null);const _=u.exports;var d=o(58543),p=o(90408);s["default"].use(p.ZP);const h=new p.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});var m=o(85114),f=o.n(m);s["default"].use(f()),s["default"].config.productionTip=!1,s["default"].prototype.$websocket=void 0,new s["default"]({router:d.Z,store:h,render:function(e){return e(_)}}).$mount("#app")},58543:(e,t,o)=>{"use strict";o.d(t,{Z:()=>rs});var s=o(27195),n=o(42241),a=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-main",[t("el-card",{directives:[{name:"show",rawName:"v-show",value:0===this.show_type,expression:"this.show_type === 0"}],staticClass:"box-card"},[t("el-row",{staticClass:"clearfix",staticStyle:{height:"20px"},attrs:{slot:"header"},slot:"header"},[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.show_create_network}},[e._v("创建网络")])],1),t("el-row",[t("el-table",{staticStyle:{width:"100%"},attrs:{"v-loading":e.data_loading,data:e.networks,border:""}},[t("el-table-column",{attrs:{label:"ID",prop:"networkId",width:"80"}}),t("el-table-column",{attrs:{label:"名称",prop:"name","min-width":"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"桥接网卡",prop:"bridge","min-width":"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"桥接方式",prop:"bridgeType",width:"120"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",[e._v(e._s(e.get_bridge_type(o.row)))])]}}])}),t("el-table-column",{attrs:{label:"子网",prop:"subnet","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.subnet)+"/"+e._s(e.netmask2CIDR(t.row.mask)))]}}])}),t("el-table-column",{attrs:{label:"网络类型",prop:"type",width:"100"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",[e._v(e._s(e.get_network_type(o.row)))])]}}])}),t("el-table-column",{attrs:{label:"状态",prop:"status",width:"80"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",{attrs:{type:2===o.row.status?"success":"danger"}},[e._v(e._s(e.get_network_status(o.row)))])]}}])}),t("el-table-column",{attrs:{label:"操作","min-width":"380"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"",size:"mini"},on:{click:function(t){return e.show_network_info_click(o.row)}}},[e._v("网络详情")]),t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.register_network(o.row)}}},[e._v("重新注册")]),3!==o.row.status?t("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.pasue_network(o.row)}}},[e._v("开始维护")]):e._e(),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.destroy_network(o.row)}}},[e._v("销毁网络")])]}}])})],1)],1)],1),t("NetworkInfoComponent",{directives:[{name:"show",rawName:"v-show",value:1===this.show_type,expression:"this.show_type === 1"}],ref:"NetworkInfoComponentRef",on:{onNetworkUpdate:e.update_network_info,back:function(t){return e.show_network_list()}}}),t("CreateNetworkComponent",{directives:[{name:"show",rawName:"v-show",value:2===this.show_type,expression:"this.show_type === 2"}],ref:"CreateNetworkComponentRef",on:{onNetworkUpdate:e.update_network_info,back:function(t){return e.show_network_list()}}})],1)],1)],1)},i=[],r=o(51907),l=o(85617),c=(o(68309),o(41539),o(69600),o(21249),o(9653),o(96647),o(83710),o(39714),o(69826),o(34553),o(57658),o(40561),o(42173)),u=o(29924),_=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{directives:[{name:"show",rawName:"v-show",value:0===this.show_type,expression:"this.show_type === 0"},{name:"loading",rawName:"v-loading",value:e.network_loading,expression:"network_loading"}]},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{attrs:{content:"网络详情"},on:{back:e.on_back_click}})],1),t("el-row",{staticStyle:{"text-align":"left",margin:"20px 0"}},[t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.register_network(e.show_network)}}},[e._v("重新注册")]),3!==e.show_network.status?t("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.pasue_network(e.show_network)}}},[e._v("开始维护")]):e._e(),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.destroy_network(e.show_network)}}},[e._v("销毁网络")])],1),t("el-row",[t("el-descriptions",{attrs:{column:2,size:"medium",border:""}},[t("el-descriptions-item",{attrs:{label:"ID"}},[e._v(e._s(e.show_network.networkId))]),t("el-descriptions-item",{attrs:{label:"名称"}},[e._v(e._s(e.show_network.name))]),t("el-descriptions-item",{attrs:{label:"起始IP"}},[e._v(e._s(e.show_network.startIp))]),t("el-descriptions-item",{attrs:{label:"结束IP"}},[e._v(e._s(e.show_network.endIp))]),t("el-descriptions-item",{attrs:{label:"网关地址"}},[e._v(e._s(e.show_network.gateway))]),t("el-descriptions-item",{attrs:{label:"子网掩码"}},[e._v(e._s(e.show_network.mask))]),t("el-descriptions-item",{attrs:{label:"子网地址"}},[e._v(e._s(e.show_network.subnet))]),t("el-descriptions-item",{attrs:{label:"广播地址"}},[e._v(e._s(e.show_network.broadcast))]),t("el-descriptions-item",{attrs:{label:"DNS"}},[e._v(e._s(e.show_network.dns))]),t("el-descriptions-item",{attrs:{label:"搜索域"}},[e._v(e._s(e.show_network.domain))]),t("el-descriptions-item",{attrs:{label:"桥接网卡"}},[e._v(e._s(e.show_network.bridge))]),t("el-descriptions-item",{attrs:{label:"桥接方式"}},[t("el-tag",[e._v(e._s(e.get_bridge_type(e.show_network)))])],1),t("el-descriptions-item",{attrs:{label:"网络类型"}},[e._v(e._s(e.get_network_type(e.show_network)))]),1===e.show_network.type?t("el-descriptions-item",{attrs:{label:"VLAN ID"}},[e._v(e._s(e.show_network.vlanId))]):e._e(),1===e.show_network.type?t("el-descriptions-item",{attrs:{label:"基础网络"}},[t("el-button",{attrs:{type:"text"}},[e._v(e._s(e.get_parent_network(e.show_network).name))])],1):e._e(),t("el-descriptions-item",{attrs:{label:"Pool ID"}},[e._v(e._s(e.show_network.poolId))]),t("el-descriptions-item",{attrs:{label:"网络状态"}},[t("el-tag",{attrs:{type:2===e.show_network.status?"success":"danger"}},[e._v(e._s(e.get_network_status(e.show_network)))])],1)],1),t("br"),t("el-card",[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("系统组件")]),t("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){e.dialog_create_network_component_visible=!0}}},[e._v("添加组件")])],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.components,size:"small",border:""}},[t("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("系统虚拟机列表")]),2===o.row.componentType?t("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.show_network_component_nat_list(o.row)}}},[e._v("Nat转发管理")]):e._e(),1===o.row.componentType?t("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.show_network_dns_list()}}},[e._v("Dns管理")]):e._e()],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:o.row.guests,size:"small",border:""}},[t("el-table-column",{attrs:{label:"ID",prop:"guestId",width:"100"}}),t("el-table-column",{attrs:{label:"实例名",prop:"name","min-width":"150"}}),t("el-table-column",{attrs:{label:"名称",prop:"description","min-width":"150"}}),t("el-table-column",{attrs:{label:"IP地址",prop:"guestIp","min-width":"150"}}),t("el-table-column",{attrs:{label:"状态",prop:"status","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",{attrs:{type:2===o.row.status?"success":"danger"}},[e._v(e._s(e.get_guest_status(o.row)))])]}}],null,!0)}),t("el-table-column",{attrs:{label:"操作","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.go_guest_info(o.row.guestId)}}},[e._v("详情")])]}}],null,!0)})],1)],1)]}}])}),t("el-table-column",{attrs:{label:"ID",prop:"componentId",width:"80"}}),t("el-table-column",{attrs:{label:"类型",prop:"guestId",width:"80"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",{attrs:{size:"small"}},[e._v(e._s(e.get_component_type(o.row.componentType)))])]}}])}),t("el-table-column",{attrs:{label:"VIP",prop:"componentVip","min-width":"200"}}),t("el-table-column",{attrs:{label:"Base VIP",prop:"basicComponentVip","min-width":"200"}}),t("el-table-column",{attrs:{label:"Slave 数量",prop:"componentSlaveNumber","min-width":"80"}}),t("el-table-column",{attrs:{label:"状态",prop:"guestIp","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(o){return e._l(o.row.guests,(function(e){return t("span",{key:e.guestId},[t("i",{class:2===e.status?"el-icon-success":"el-icon-error",style:2===e.status?"color: #67c23a":"color:#F56C6C"})])}))}}])}),t("el-table-column",{attrs:{label:"操作",prop:"guestIp","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return e.show_update_component_slave_number(o.row)}}},[e._v("修改Slave数量")]),1!=o.row.componentType?t("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(t){return e.destroy_network_component(o.row)}}},[e._v("删除")]):e._e()]}}])})],1)],1)],1)],1),t("GuestInfoComponent",{directives:[{name:"show",rawName:"v-show",value:1===this.show_type,expression:"this.show_type === 1"}],ref:"GuestInfoComponentRef",on:{back:function(t){e.show_type=0},onGuestUpdate:e.update_guest_info}}),t("el-dialog",{attrs:{title:"创建内部解析",visible:e.dialog_create_network_dns_visible,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialog_create_network_dns_visible=t}}},[t("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.create_network_dns,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"域名",prop:"name"}},[t("el-input",{model:{value:e.create_network_dns.domain,callback:function(t){e.$set(e.create_network_dns,"domain",t)},expression:"create_network_dns.domain"}})],1),t("el-form-item",{attrs:{label:"IP",prop:"cpu"}},[t("el-input",{model:{value:e.create_network_dns.ip,callback:function(t){e.$set(e.create_network_dns,"ip",t)},expression:"create_network_dns.ip"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.create_network_dns_click}},[e._v("创建")]),t("el-button",{on:{click:function(t){e.dialog_create_network_dns_visible=!1}}},[e._v("取消")])],1)],1)],1),t("el-dialog",{attrs:{title:"创建组件",visible:e.dialog_create_network_component_visible,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialog_create_network_component_visible=t}}},[t("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.create_network_componet,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"组件类型",prop:"componentType"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.create_network_componet.componentType,callback:function(t){e.$set(e.create_network_componet,"componentType",t)},expression:"create_network_componet.componentType"}},[t("el-option",{attrs:{label:"Nat网关",value:2}})],1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.create_network_component}},[e._v("创建")]),t("el-button",{on:{click:function(t){e.dialog_create_network_component_visible=!1}}},[e._v("取消")])],1)],1)],1),t("el-dialog",{attrs:{title:"Dns管理",visible:e.dialog_network_dns_visible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialog_network_dns_visible=t}}},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.dialog_create_network_dns_visible=!0}}},[e._v("新建Dns记录")]),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.network_dns_list,"max-height":"300",height:"300"}},[t("el-table-column",{attrs:{label:"IP",prop:"ip",width:"300"}}),t("el-table-column",{attrs:{label:"Domain",prop:"domain"}}),t("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.destroy_network_dns(o.row.id)}}},[e._v("删除")])]}}])})],1)],1),t("el-dialog",{attrs:{title:"Nat管理",visible:e.dialog_network_component_nat_visible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialog_network_component_nat_visible=t}}},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.dialog_create_network_component_nat_visible=!0}}},[e._v("新建转发")]),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.network_component_nat_list,"max-height":"300",height:"300"}},[t("el-table-column",{attrs:{label:"ID",prop:"natId"}}),t("el-table-column",{attrs:{label:"协议",prop:"protocol"}}),t("el-table-column",{attrs:{label:"本地端口",prop:"localPort"}}),t("el-table-column",{attrs:{label:"目标IP",prop:"remoteIp"}}),t("el-table-column",{attrs:{label:"目标端口",prop:"remotePort"}}),t("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.destroy_network_componet_nat(o.row.natId)}}},[e._v("删除")])]}}])})],1)],1),t("el-dialog",{attrs:{title:"创建Nat",visible:e.dialog_create_network_component_nat_visible,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialog_create_network_component_nat_visible=t}}},[t("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.create_network_component_nat,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"组件ID",prop:"componentId"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.create_network_component_nat.componentId,callback:function(t){e.$set(e.create_network_component_nat,"componentId",t)},expression:"create_network_component_nat.componentId"}})],1),t("el-form-item",{attrs:{label:"协议",prop:"protocol"}},[t("el-select",{model:{value:e.create_network_component_nat.protocol,callback:function(t){e.$set(e.create_network_component_nat,"protocol",t)},expression:"create_network_component_nat.protocol"}},[t("el-option",{attrs:{label:"tcp",value:"tcp"}}),t("el-option",{attrs:{label:"udp",value:"udp"}})],1)],1),t("el-form-item",{attrs:{label:"本地端口",prop:"localPort"}},[t("el-input",{model:{value:e.create_network_component_nat.localPort,callback:function(t){e.$set(e.create_network_component_nat,"localPort",t)},expression:"create_network_component_nat.localPort"}})],1),t("el-form-item",{attrs:{label:"目标IP",prop:"remoteIp"}},[t("el-input",{model:{value:e.create_network_component_nat.remoteIp,callback:function(t){e.$set(e.create_network_component_nat,"remoteIp",t)},expression:"create_network_component_nat.remoteIp"}})],1),t("el-form-item",{attrs:{label:"目标端口",prop:"remotePort"}},[t("el-input",{model:{value:e.create_network_component_nat.remotePort,callback:function(t){e.$set(e.create_network_component_nat,"remotePort",t)},expression:"create_network_component_nat.remotePort"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.create_network_nat_click}},[e._v("创建")]),t("el-button",{on:{click:function(t){e.dialog_create_network_component_nat_visible=!1}}},[e._v("取消")])],1)],1)],1),t("el-dialog",{attrs:{title:"修改Slave数量",visible:e.dialog_component_nat_change_slave_number_visible,width:"320px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialog_component_nat_change_slave_number_visible=t}}},[t("el-form",{staticClass:"demo-ruleForm",staticStyle:{width:"100%"},attrs:{model:e.update_component_slave_number,"label-width":"70px"}},[t("el-form-item",{attrs:{label:"数量",prop:"number"}},[t("el-input-number",{attrs:{min:0,max:10,label:"Slave数量"},model:{value:e.update_component_slave_number.number,callback:function(t){e.$set(e.update_component_slave_number,"number",t)},expression:"update_component_slave_number.number"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.update_component_slave_number_click}},[e._v("修改")]),t("el-button",{on:{click:function(t){e.dialog_component_nat_change_slave_number_visible=!1}}},[e._v("取消")])],1)],1)],1)],1)},d=[],p=o(86080),h=(o(57327),o(89554),o(54747),o(73412)),m=o(10614);const f={name:"NetworkInfoComponent",data:function(){return{dialog_component_nat_change_slave_number_visible:!1,dialog_network_dns_visible:!1,dialog_create_network_dns_visible:!1,dialog_create_network_component_visible:!1,dialog_network_component_nat_visible:!1,dialog_create_network_component_nat_visible:!1,network_loading:!1,system_guests:[],networks:[],components:[],network_dns_list:[],network_component_nat_list:[],show_type:0,update_component_slave_number:{componentId:0,number:0},create_network_dns:{networkId:0,domain:"",ip:""},create_network_component_nat:{componentId:0,protocol:"tcp",localPort:"",remoteIp:"",remotePort:""},create_network_componet:{networkId:0,componentType:2},show_network:{networkId:0,name:"",startIp:"",endIp:"",gateway:"",mask:"",subnet:"",broadcast:"",bridge:"",dns:"",domain:"",type:0,vlanId:100,basicNetworkId:""},show_network_id:0}},components:{GuestInfoComponent:m.Z},mixins:[h.Z,c.Z],created:function(){this.show_network_id=0,this.subscribe_notify(this.$options.name,this.dispatch_notify_message),this.subscribe_connect_notify(this.$options.name,this.reload_page),this.init_notify()},beforeDestroy:function(){this.unsubscribe_notify(this.$options.name),this.unsubscribe_connect_notify(this.$options.name),this.show_network_id=0},computed:{},methods:{on_back_click:function(){this.show_network_id=0,this.$emit("back")},on_notify_update_networkt_info:function(e){this.refresh_network(e),this.$emit("onNetworkUpdate",e)},refresh_network:function(e){this.show_network.networkId==e.networkId&&(this.show_network=e)},show_network_component_nat_list:function(e){var t=this;return(0,l.Z)((0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!t.dialog_network_component_nat_visible){o.next=2;break}return o.abrupt("return");case 2:return t.dialog_network_component_nat_visible=!0,t.create_network_component_nat.componentId=e.componentId,t.network_component_nat_list=[],o.next=7,(0,u.Bb)({componentId:e.componentId}).then((function(e){0===e.code&&(t.network_component_nat_list=e.data,t.$forceUpdate())}));case 7:case"end":return o.stop()}}),o)})))()},show_network_dns_list:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.dialog_network_dns_visible){t.next=2;break}return t.abrupt("return");case 2:return e.dialog_network_dns_visible=!0,e.network_dns_list=[],t.next=6,(0,u.a0)({networkId:e.show_network_id}).then((function(t){0===t.code&&(e.network_dns_list=t.data)}));case 6:case"end":return t.stop()}}),t)})))()},show_update_component_slave_number:function(e){this.update_component_slave_number.componentId=e.componentId,this.update_component_slave_number.number=e.componentSlaveNumber,this.dialog_component_nat_change_slave_number_visible=!0},update_component_slave_number_click:function(){var e=this;(0,u.Jj)(this.update_component_slave_number).then((function(t){0!==t.code?e.$notify.error({title:"错误",message:"更改网络组件数量失败:".concat(t.message)}):e.dialog_component_nat_change_slave_number_visible=0}))},get_component_guest:function(e){return this.system_guests.filter((function(t){return t.componentId===e}))},refresh_component_guest:function(){var e=this;this.components.forEach((function(t,o){e.$set(e.components,o,(0,p.Z)((0,p.Z)({},t),{},{guests:e.get_component_guest(t.componentId)}))}))},go_guest_info:function(e){this.show_type=1,this.$refs.GuestInfoComponentRef.initGuestId(e)},init_network:function(e,t){var o=this;return(0,l.Z)((0,r.Z)().mark((function s(){return(0,r.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return o.show_type=0,e&&(o.networks=e),o.show_network=t,o.system_guests=[],o.network_dns_list=[],o.create_network_dns.networkId=t.networkId,o.create_network_dns.domain="",o.create_network_dns.ip="",o.show_network_id=t.networkId,o.create_network_componet.networkId=t.networkId,s.next=12,o.load_system_guest(t);case 12:return s.next=14,o.load_system_component(t);case 14:case"end":return s.stop()}}),s)})))()},reload_page:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.show_network_id>0)){t.next=5;break}return e.show_type=0,e.network_loading=!0,t.next=5,(0,u.yj)({networkId:e.show_network_id}).then((function(t){e.network_loading=!1,0===t.code?e.init_network(null,t.data):e.$alert("获取网络信息失败:".concat(t.message),"提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"返回",type:"error"}).then((function(){e.on_back_click()}))["catch"]((function(){e.on_back_click()}))}))["finally"]((function(){e.network_loading=!1}));case 5:case"end":return t.stop()}}),t)})))()},init:function(e){var t=this;return(0,l.Z)((0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.show_network_id=e,t.reload_page();case 2:case"end":return o.stop()}}),o)})))()},load_system_component:function(e){var t=this;return(0,l.Z)((0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.components=[],o.next=3,(0,u.HW)({networkId:e.networkId}).then((function(e){0===e.code&&(t.components=e.data,t.refresh_component_guest())}));case 3:case"end":return o.stop()}}),o)})))()},load_system_guest:function(e){var t=this;return(0,l.Z)((0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.system_guests=[],t.network_loading=!0,o.next=4,(0,u.IC)({networkId:e.networkId}).then((function(e){0===e.code&&(t.system_guests=e.data.map((function(e){return(0,p.Z)((0,p.Z)({},e),{},{guests:[]})})),t.refresh_component_guest())}))["finally"]((function(){t.network_loading=!1}));case 4:case"end":return o.stop()}}),o)})))()},get_parent_network:function(e){var t=this.networks.find((function(t){return t.networkId===e.basicNetworkId}));return t||{name:"-"}},delete_guest:function(e){var t=this.system_guests.findIndex((function(t){return t.guestId===e}));t>=0&&(this.system_guests.splice(t,1),this.refresh_component_guest(),this.$forceUpdate())},update_guest_info:function(e){if(0===e.type&&e.networkId===this.show_network.networkId){var t=this.system_guests.findIndex((function(t){return t.guestId===e.guestId}));t>=0?this.$set(this.system_guests,t,e):this.system_guests.push(e),this.refresh_component_guest(),this.$forceUpdate()}},pasue_network:function(e){var t=this;this.$confirm("维护网络, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.pz)({networkId:e.networkId}).then((function(e){0===e.code?t.on_notify_update_networkt_info(e.data):t.$notify.error({title:"错误",message:"暂停网络失败:".concat(e.message)})}))}))["catch"]((function(){}))},register_network:function(e){var t=this;this.$confirm("重新注册网络, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.fj)({networkId:e.networkId}).then((function(e){0===e.code?t.on_notify_update_networkt_info(e.data):t.$notify.error({title:"错误",message:"注册网络失败:".concat(e.message)})}))}))["catch"]((function(){}))},create_network_dns_click:function(){var e=this;(0,u.LA)(this.create_network_dns).then((function(t){if(0===t.code){e.create_network_dns.domain="",e.create_network_dns.ip="";var o=e.network_dns_list.findIndex((function(e){return e.id===t.data.id}));o<0&&e.network_dns_list.push(t.data),e.dialog_create_network_dns_visible=!1}else e.$notify.error({title:"错误",message:"添加内部Dns失败:".concat(t.message)})}))},create_network_nat_click:function(){var e=this;(0,u.sT)(this.create_network_component_nat).then((function(t){0===t.code?(e.create_network_component_nat.localPort="",e.create_network_component_nat.remoteIp="",e.create_network_component_nat.remotePort="",e.create_network_component_nat.protocol="tcp",e.network_component_nat_list.push(t.data),e.dialog_create_network_component_nat_visible=!1):e.$notify.error({title:"错误",message:"添加Nat转发失败:".concat(t.message)})}))},create_network_component:function(){var e=this;(0,u.Lc)(this.create_network_componet).then((function(t){if(0===t.code){var o=e.components.findIndex((function(e){return e.componentId===t.data.componentId}));o<0&&(e.components.push((0,p.Z)((0,p.Z)({},t.data),{},{guest:[]})),e.refresh_component_guest()),e.dialog_create_network_component_visible=!1}else e.$notify.error({title:"错误",message:"添加系统组件失败:".concat(t.message)})}))},destroy_network_componet_nat:function(e){var t=this;this.$confirm("删除nat记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.U5)({natId:e}).then((function(o){if(0===o.code){var s=t.network_component_nat_list.findIndex((function(t){return t.natId===e}));s>=0&&t.network_component_nat_list.splice(s,1)}else t.$notify.error({title:"错误",message:"删除dnat记录失败:".concat(o.message)})}))}))["catch"]((function(){}))},destroy_network_dns:function(e){var t=this;this.$confirm("删除dns记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.df)({dnsId:e}).then((function(o){if(0===o.code){var s=t.network_dns_list.findIndex((function(t){return t.id===e}));s>=0&&t.network_dns_list.splice(s,1)}else t.$notify.error({title:"错误",message:"删除网络Dns失败:".concat(o.message)})}))}))["catch"]((function(){}))},destroy_network:function(e){var t=this;this.$confirm("销毁网络, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.s4)({networkId:e.networkId}).then((function(e){0===e.code?t.on_back_click():t.$notify.error({title:"错误",message:"删除网络失败:".concat(e.message)})}))}))["catch"]((function(){}))},destroy_network_component:function(e){var t=this;this.$confirm("销毁网络组件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.EY)({componentId:e.componentId}).then((function(o){if(0===o.code){var s=t.components.findIndex((function(t){return t.componentId===e.componentId}));s>=0&&t.components.splice(s,1)}else t.$notify.error({title:"错误",message:"销毁网络组件失败:".concat(o.message)})}))}))["catch"]((function(){}))},dispatch_notify_message:function(e){if(3===e.type&&this.show_network.networkId===e.id){var t=e.data;0==t.code?this.refresh_network(t.data):2000001==t.code&&this.on_back_click()}else if(1===e.type){var o=e.data;0==o.code?this.update_guest_info(o.data):2000001==o.code&&this.delete_guest(e.id)}else if(10===e.type){var s=e.data;if(0==s.code&&s.data.networkId==this.show_network.networkId){var n=this.network_dns_list.findIndex((function(t){return t.id===e.id}));n>=0?this.$set(this.network_dns_list,n,s.data):this.network_dns_list.push(s.data)}else if(11000001==s.code){var a=this.network_dns_list.findIndex((function(t){return t.id===e.id}));a>=0&&this.network_dns_list.splice(a,1)}}else if(11===e.type){var i=e.data;if(0==i.code&&i.data.networkId==this.show_network.networkId){var r=this.components.findIndex((function(t){return t.componentId===e.id}));if(r>=0){var l=this.components[r];this.$set(this.components,r,(0,p.Z)((0,p.Z)({},i.data),{},{guests:l.guests,is_show:l.is_show}))}else this.components.push(i.data);this.refresh_component_guest()}else if(1000003==i.code){var c=this.components.findIndex((function(t){return t.componentId===e.id}));c>=0&&this.components.splice(c,1)}}}}},g=f;var w=o(1001),v=(0,w.Z)(g,_,d,!1,null,"01bb2861",null);const y=v.exports;var b=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"创建网络"},on:{back:function(t){return e.on_back_click()}}})],1),t("el-row",[t("el-form",{ref:"createForm",staticClass:"demo-ruleForm",attrs:{model:e.create_network,"label-width":"100px"}},[t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"网络名称",prop:"name"}},[t("el-input",{model:{value:e.create_network.name,callback:function(t){e.$set(e.create_network,"name",t)},expression:"create_network.name"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"网络类型",prop:"type"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.create_network.type,callback:function(t){e.$set(e.create_network,"type",t)},expression:"create_network.type"}},[t("el-option",{attrs:{label:"基础网络",value:0}}),t("el-option",{attrs:{label:"Vlan网络(只允许OpenSitch方式)",value:1}})],1)],1)],1)],1),t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"起始IP",prop:"startIp"}},[t("el-input",{model:{value:e.create_network.startIp,callback:function(t){e.$set(e.create_network,"startIp",t)},expression:"create_network.startIp"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"结束IP",prop:"endIp"}},[t("el-input",{model:{value:e.create_network.endIp,callback:function(t){e.$set(e.create_network,"endIp",t)},expression:"create_network.endIp"}})],1)],1)],1),1===e.create_network.type?t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"网关类型",prop:"mask"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.gateway_type,callback:function(t){e.gateway_type=t},expression:"gateway_type"}},[t("el-option",{attrs:{label:"模拟网关",value:0}}),t("el-option",{attrs:{label:"硬件网关",value:1}})],1)],1)],1),t("el-col",{attrs:{span:8}},[1==e.gateway_type?t("el-form-item",{attrs:{label:"网关地址",prop:"gateway"}},[t("el-input",{model:{value:e.create_network.gateway,callback:function(t){e.$set(e.create_network,"gateway",t)},expression:"create_network.gateway"}})],1):e._e()],1)],1):e._e(),t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"子网掩码",prop:"mask"}},[t("el-input",{model:{value:e.create_network.mask,callback:function(t){e.$set(e.create_network,"mask",t)},expression:"create_network.mask"}})],1)],1),0===e.create_network.type?t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"网关地址",prop:"gateway"}},[t("el-input",{model:{value:e.create_network.gateway,callback:function(t){e.$set(e.create_network,"gateway",t)},expression:"create_network.gateway"}})],1)],1):e._e(),1===e.create_network.type?t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"VLAN ID",prop:"vlanId"}},[t("el-input",{model:{value:e.create_network.vlanId,callback:function(t){e.$set(e.create_network,"vlanId",t)},expression:"create_network.vlanId"}})],1)],1):e._e()],1),t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"子网地址",prop:"subnet"}},[t("el-input",{model:{value:e.create_network.subnet,callback:function(t){e.$set(e.create_network,"subnet",t)},expression:"create_network.subnet"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"广播地址",prop:"broadcast"}},[t("el-input",{model:{value:e.create_network.broadcast,callback:function(t){e.$set(e.create_network,"broadcast",t)},expression:"create_network.broadcast"}})],1)],1)],1),t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"DNS",prop:"dns"}},[t("el-input",{model:{value:e.create_network.dns,callback:function(t){e.$set(e.create_network,"dns",t)},expression:"create_network.dns"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"搜索域",prop:"domain"}},[t("el-input",{model:{value:e.create_network.domain,callback:function(t){e.$set(e.create_network,"domain",t)},expression:"create_network.domain"}})],1)],1)],1),t("el-row",{attrs:{gutter:24}},[0===e.create_network.type?t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"桥接网卡",prop:"bridge"}},[t("el-input",{model:{value:e.create_network.bridge,callback:function(t){e.$set(e.create_network,"bridge",t)},expression:"create_network.bridge"}})],1)],1):e._e(),0===e.create_network.type?t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"桥接方式",prop:"bridgeType"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.create_network.bridgeType,callback:function(t){e.$set(e.create_network,"bridgeType",t)},expression:"create_network.bridgeType"}},[t("el-option",{attrs:{label:"基础桥接",value:0}}),t("el-option",{attrs:{label:"OpenSwitch桥接",value:1}})],1)],1)],1):e._e(),1===e.create_network.type?t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"基础网络",prop:"basicNetworkId"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择基础网络"},model:{value:e.create_network.basicNetworkId,callback:function(t){e.$set(e.create_network,"basicNetworkId",t)},expression:"create_network.basicNetworkId"}},e._l(e.networks,(function(e){return t("el-option",{directives:[{name:"show",rawName:"v-show",value:0===e.type,expression:"item.type === 0"}],key:e.networkId,attrs:{label:e.name,value:e.networkId}})})),1)],1)],1):e._e()],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.create_network_click}},[e._v("立即创建")]),t("el-button",{on:{click:e.on_back_click}},[e._v("取消")])],1)],1)],1)],1)},k=[];const I={data:function(){return{networks:[],create_network:{name:"",startIp:"",endIp:"",gateway:"",mask:"",subnet:"",broadcast:"",bridge:"",bridgeType:0,dns:"",type:0,domain:"cj.kvm.internal",vlanId:100,basicNetworkId:""},gateway_type:0}},methods:{on_back_click:function(){this.$emit("back")},on_notify_update_network:function(e){this.$emit("onNetworkUpdate",e)},init:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$refs["createForm"]&&e.$refs["createForm"].resetFields(),e.gateway_type=0,t.next=4,(0,u.jR)().then((function(t){0==t.code&&(e.networks=t.data)}))["finally"]((function(){e.data_loading=!1}));case 4:case"end":return t.stop()}}),t)})))()},create_network_click:function(){var e=this;0===this.create_network.type&&(this.create_network.vlanId=0,this.create_network.basicNetworkId=0),1===this.create_network.type&&0===this.gateway_type&&(this.create_network.gateway=""),(0,u.XY)(this.create_network).then((function(t){0===t.code?(e.on_notify_update_network(t.data),e.on_back_click()):e.$notify.error({title:"错误",message:"创建网络失败:".concat(t.message)})}))}}},x=I;var C=(0,w.Z)(x,b,k,!1,null,null,null);const X=C.exports,K={name:"NetworkView",components:{NetworkInfoComponent:y,CreateNetworkComponent:X},data:function(){return{data_loading:!1,show_type:-1,networks:[]}},mounted:function(){this.show_type=0,this.init_view()},created:function(){this.subscribe_notify(this.$options.name,this.dispatch_notify_message),this.subscribe_connect_notify(this.$options.name,this.reload_page),this.init_notify()},beforeDestroy:function(){this.unsubscribe_notify(this.$options.name),this.unsubscribe_connect_notify(this.$options.name)},mixins:[h.Z,c.Z],methods:{reload_page:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init_view();case 1:case"end":return t.stop()}}),t)})))()},init_view:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.data_loading=!0,t.next=3,(0,u.jR)().then((function(t){0==t.code&&(e.networks=t.data)}))["finally"]((function(){e.data_loading=!1}));case 3:case"end":return t.stop()}}),t)})))()},netmask2CIDR:function(e){return e.split(".").map(Number).map((function(e){return(e>>>0).toString(2)})).join("").split("1").length-1},get_parent_network:function(e){var t=this.networks.find((function(t){return t.networkId===e.basicNetworkId}));return t||{name:"-"}},update_network_info:function(e){var t=this.networks.findIndex((function(t){return t.networkId===e.networkId}));t>=0?this.$set(this.networks,t,e):this.networks.push(e),this.$refs.NetworkInfoComponentRef.refresh_network(e)},dispatch_notify_message:function(e){if(3===e.type){var t=e.data;if(0==t.code)this.update_network_info(t.data);else if(1000001==t.code){var o=this.networks.findIndex((function(t){return t.networkId===e.id}));o>=0&&this.networks.splice(o,1)}this.$forceUpdate()}},show_network_list:function(){this.show_type=0},show_create_network:function(){this.$refs.CreateNetworkComponentRef.init(),this.show_type=2},show_network_info_click:function(e){this.$refs.NetworkInfoComponentRef.init_network(this.networks,e),this.show_type=1},pasue_network:function(e){var t=this;this.$confirm("维护网络, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.pz)({networkId:e.networkId}).then((function(e){0===e.code?t.update_network_info(e.data):t.$notify.error({title:"错误",message:"暂停网络失败:".concat(e.message)})}))}))["catch"]((function(){}))},register_network:function(e){var t=this;this.$confirm("重新注册网络, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.fj)({networkId:e.networkId}).then((function(e){0===e.code?t.update_network_info(e.data):t.$notify.error({title:"错误",message:"注册网络失败:".concat(e.message)})}))}))["catch"]((function(){}))},destroy_network:function(e){var t=this;this.$confirm("销毁网络, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.s4)({networkId:e.networkId}).then((function(e){0===e.code?(t.update_network_info(e.data),t.show_type=0):t.$notify.error({title:"错误",message:"删除网络失败:".concat(e.message)})}))}))["catch"]((function(){}))}}},S=K;var A=(0,w.Z)(S,a,i,!1,null,"55d4ee13",null);const T=A.exports;var F=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-main",[t("el-card",{directives:[{name:"show",rawName:"v-show",value:0===this.show_type,expression:"this.show_type === 0"}],staticClass:"box-card"},[t("el-row",{staticClass:"clearfix",staticStyle:{height:"20px"},attrs:{slot:"header"},slot:"header"},[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.show_create_host}},[e._v("创建主机")])],1),t("el-row",[t("el-table",{staticStyle:{width:"100%"},attrs:{"v-loading":e.data_loading,data:e.hosts,border:""}},[t("el-table-column",{attrs:{label:"ID",prop:"hostId",width:"80"}}),t("el-table-column",{attrs:{label:"名称",prop:"displayName","min-width":"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"主机IP",prop:"hostIp",width:"120"}}),t("el-table-column",{attrs:{label:"CPU",prop:"hostIp","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"已使用:"+e.row.allocationCpu+"核 / 总共:"+e.row.totalCpu+"核",placement:"top"}},[t("el-progress",{attrs:{color:"#67C23A",percentage:e.row.totalCpu<=0?0:Math.min(100,Math.floor(100*e.row.allocationCpu/e.row.totalCpu))}})],1)]}}])}),t("el-table-column",{attrs:{label:"内存",prop:"hostIp","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"已使用:"+e.get_memory_display_size(o.row.allocationMemory)+" / 总共:"+e.get_memory_display_size(o.row.totalMemory),placement:"top"}},[t("el-progress",{attrs:{color:"#67C23A",percentage:o.row.totalMemory<=0?0:Math.min(100,Math.floor(100*o.row.allocationMemory/o.row.totalMemory))}})],1)]}}])}),t("el-table-column",{attrs:{label:"状态",prop:"status",width:"100"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",{attrs:{type:1===o.row.status?"success":"danger"}},[e._v(e._s(e.get_host_status(o.row)))])]}}])}),t("el-table-column",{attrs:{label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"",size:"mini"},on:{click:function(t){return e.show_host_info_click(o.row)}}},[e._v("主机详情")]),t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.register_host(o.row)}}},[e._v("重新注册")]),3!==o.row.status?t("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.pasue_host(o.row)}}},[e._v("开始维护")]):e._e(),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.destroy_host(o.row)}}},[e._v("销毁主机")])]}}])})],1)],1)],1),t("HostInfoComponent",{directives:[{name:"show",rawName:"v-show",value:1===this.show_type,expression:"this.show_type === 1"}],ref:"HostInfoComponentRef",on:{back:e.show_host_list,onHostUpdate:e.update_host_info}}),t("CreateHostComponent",{directives:[{name:"show",rawName:"v-show",value:2===this.show_type,expression:"this.show_type === 2"}],ref:"CreateHostComponentRef",on:{back:e.show_host_list,onHostUpdate:e.update_host_info}})],1)],1)],1)},Z=[],B=o(89961),E=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"创建主机"},on:{back:function(t){return e.on_back_click()}}})],1),t("el-row",[t("el-form",{ref:"createForm",staticClass:"demo-ruleForm",attrs:{model:e.create_host,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"显示名称",prop:"displayName"}},[t("el-input",{model:{value:e.create_host.displayName,callback:function(t){e.$set(e.create_host,"displayName",t)},expression:"create_host.displayName"}})],1),t("el-form-item",{attrs:{label:"主机IP",prop:"hostIp"}},[t("el-input",{model:{value:e.create_host.hostIp,callback:function(t){e.$set(e.create_host,"hostIp",t)},expression:"create_host.hostIp"}})],1),t("el-form-item",{attrs:{label:"网卡名称",prop:"nic"}},[t("el-input",{model:{value:e.create_host.nic,callback:function(t){e.$set(e.create_host,"nic",t)},expression:"create_host.nic"}})],1),t("el-form-item",{attrs:{label:"通信地址",prop:"uri"}},[t("el-input",{model:{value:e.create_host.uri,callback:function(t){e.$set(e.create_host,"uri",t)},expression:"create_host.uri"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.create_host_click}},[e._v("立即创建")]),t("el-button",{on:{click:e.on_back_click}},[e._v("取消")])],1)],1)],1)],1)},R=[];const U={data:function(){return{create_host:{displayName:"",hostIp:"",nic:"",uri:""}}},methods:{on_back_click:function(){this.$emit("back")},on_notify_update_host_info:function(e){this.$emit("onHostUpdate",e)},init:function(){this.$refs["createForm"]&&this.$refs["createForm"].resetFields()},create_host_click:function(){var e=this;(0,u.Ld)(this.create_host).then((function(t){0===t.code?(e.on_notify_update_host_info(t.data),e.on_back_click()):e.$notify.error({title:"错误",message:"创建主机失败:".concat(t.message)})}))}}},Q=U;var N=(0,w.Z)(Q,E,R,!1,null,null,null);const P=N.exports,L={name:"hostView",components:{HostInfoComponent:B.Z,CreateHostComponent:P},data:function(){return{data_loading:!1,show_type:-1,hosts:[]}},mixins:[h.Z,c.Z],mounted:function(){this.show_type=0,this.init_view()},created:function(){this.subscribe_notify(this.$options.name,this.dispatch_notify_message),this.subscribe_connect_notify(this.$options.name,this.reload_page),this.init_notify()},beforeDestroy:function(){this.unsubscribe_notify(this.$options.name),this.unsubscribe_connect_notify(this.$options.name)},methods:{reload_page:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init_view();case 1:case"end":return t.stop()}}),t)})))()},init_view:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.data_loading=!0,t.next=3,(0,u.vZ)().then((function(t){0==t.code&&(e.hosts=t.data)}))["finally"]((function(){e.data_loading=!1}));case 3:case"end":return t.stop()}}),t)})))()},show_host_list:function(){this.show_type=0},show_create_host:function(){this.$refs.CreateHostComponentRef.init(),this.show_type=2},show_host_info_click:function(e){this.show_host=e,this.$refs.HostInfoComponentRef.init_host(e),this.show_type=1},update_host_info:function(e){var t=this.hosts.findIndex((function(t){return t.hostId===e.hostId}));t>=0?this.$set(this.hosts,t,e):this.hosts.push(e),this.$refs.HostInfoComponentRef.refresh_host(e)},dispatch_notify_message:function(e){if(4===e.type){var t=e.data;if(0==t.code)this.update_host_info(t.data);else if(7000001==t.code){var o=this.hosts.findIndex((function(t){return t.hostId===e.id}));o>=0&&this.hosts.splice(o,1)}}},pasue_host:function(e){var t=this;this.$confirm("维护主机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.ol)({hostId:e.hostId}).then((function(e){0===e.code?t.update_host_info(e.data):t.$notify.error({title:"错误",message:"暂停主机失败:".concat(e.message)})}))}))["catch"]((function(){}))},register_host:function(e){var t=this;this.$confirm("重新注册主机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.XN)({hostId:e.hostId}).then((function(e){0===e.code?t.update_host_info(e.data):t.$notify.error({title:"错误",message:"注册主机失败:".concat(e.message)})}))}))["catch"]((function(){}))},destroy_host:function(e){var t=this;this.$confirm("删除当前主机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.de)({hostId:e.hostId}).then((function(o){if(0===o.code){var s=t.hosts.findIndex((function(t){return t.hostId===e.hostId}));s>=0&&t.hosts.splice(s,1),t.show_type=0}else t.$notify.error({title:"错误",message:"删除主机失败:".concat(o.message)})}))}))["catch"]((function(){}))}}},D=L;var O=(0,w.Z)(D,F,Z,!1,null,"4ceae3a9",null);const z=O.exports;var V=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-main",[t("el-card",{directives:[{name:"show",rawName:"v-show",value:0===this.show_type,expression:"this.show_type === 0"}],staticClass:"box-card"},[t("el-row",{staticClass:"clearfix",staticStyle:{height:"20px"},attrs:{slot:"header",border:""},slot:"header"},[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.show_create_storage}},[e._v("创建存储池")])],1),t("el-row",[t("el-table",{staticStyle:{width:"100%"},attrs:{"v-loading":e.data_loading,data:e.storages,border:""}},[t("el-table-column",{attrs:{label:"ID",prop:"storageId",width:"80"}}),t("el-table-column",{attrs:{label:"名称",prop:"description","min-width":"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"允许范围",prop:"supportCategory","min-width":"120","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(o){return[t("div",{domProps:{innerHTML:e._s(e.get_support_category_html(o.row.supportCategory))}})]}}])}),t("el-table-column",{attrs:{label:"类型",prop:"type",width:"100"}}),t("el-table-column",{attrs:{label:"容量",prop:"capacity","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"已用:"+e.get_volume_display_size(o.row.allocation)+" / 总共:"+e.get_volume_display_size(o.row.capacity),placement:"top"}},[t("el-progress",{attrs:{color:"#67C23A",percentage:o.row.capacity<=0?0:Math.floor(100*o.row.allocation/o.row.capacity)}})],1)]}}])}),t("el-table-column",{attrs:{label:"状态",prop:"status","min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",{attrs:{type:1===o.row.status?"success":"danger"}},[e._v(e._s(e.get_storage_status(o.row)))])]}}])}),t("el-table-column",{attrs:{label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"",size:"mini"},on:{click:function(t){return e.show_storage_info_click(o.row)}}},[e._v("存储池详情")]),t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.register_storage(o.row)}}},[e._v("重新注册")]),2!==o.row.status?t("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.pasue_storage(o.row)}}},[e._v("开始维护")]):e._e(),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.destroy_storage(o.row)}}},[e._v("销毁存储池")])]}}])})],1)],1)],1),t("StorageInfoComponent",{directives:[{name:"show",rawName:"v-show",value:1===this.show_type,expression:"this.show_type === 1"}],ref:"StorageInfoComponentRef",on:{back:function(t){return e.show_storage_list()},onStorageUpdate:e.update_storate_info}}),t("CreateStorageComponent",{directives:[{name:"show",rawName:"v-show",value:2===this.show_type,expression:"this.show_type === 2"}],ref:"CreateStorageComponentRef",on:{back:function(t){return e.show_storage_list()},onStorageUpdate:e.update_storate_info}})],1)],1)],1)},G=[],M=o(13992),q=(o(82526),o(41817),function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"创建存储池"},on:{back:function(t){return e.on_back_click()}}})],1),t("el-row",[t("el-form",{ref:"createForm",staticClass:"demo-ruleForm",attrs:{model:e.create_storage,"label-width":"150px"}},[t("el-form-item",{attrs:{label:"名称",prop:"description"}},[t("el-input",{model:{value:e.create_storage.description,callback:function(t){e.$set(e.create_storage,"description",t)},expression:"create_storage.description"}})],1),t("el-form-item",{attrs:{label:"存储池类型",prop:"type"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.create_storage.type,callback:function(t){e.$set(e.create_storage,"type",t)},expression:"create_storage.type"}},[t("el-option",{attrs:{label:"NFS",value:"nfs"}}),t("el-option",{attrs:{label:"Glusterfs",value:"glusterfs"}}),t("el-option",{attrs:{label:"Ceph Rbd",value:"ceph-rbd"}})],1)],1),"nfs"===e.create_storage.type?t("el-form-item",{attrs:{label:"路径",prop:"path"}},[t("el-input",{model:{value:e.create_storage.path,callback:function(t){e.$set(e.create_storage,"path",t)},expression:"create_storage.path"}})],1):e._e(),"glusterfs"===this.create_storage.type?t("el-form-item",{attrs:{label:"Glusterfs磁盘名",prop:"path"}},[t("el-input",{model:{value:e.create_storage.volume,callback:function(t){e.$set(e.create_storage,"volume",t)},expression:"create_storage.volume"}})],1):e._e(),"ceph-rbd"===this.create_storage.type?t("el-form-item",{attrs:{label:"存储池",prop:"path"}},[t("el-input",{model:{value:e.create_storage.pool,callback:function(t){e.$set(e.create_storage,"pool",t)},expression:"create_storage.pool"}})],1):e._e(),"ceph-rbd"===this.create_storage.type?t("el-form-item",{attrs:{label:"用户",prop:"path"}},[t("el-input",{model:{value:e.create_storage.username,callback:function(t){e.$set(e.create_storage,"username",t)},expression:"create_storage.username"}})],1):e._e(),"ceph-rbd"===this.create_storage.type?t("el-form-item",{attrs:{label:"密钥",prop:"path"}},[t("el-input",{model:{value:e.create_storage.secret,callback:function(t){e.$set(e.create_storage,"secret",t)},expression:"create_storage.secret"}})],1):e._e(),"nfs"===e.create_storage.type?t("el-form-item",{attrs:{label:"NFS地址",prop:"uri"}},[t("el-input",{model:{value:e.create_storage.uri,callback:function(t){e.$set(e.create_storage,"uri",t)},expression:"create_storage.uri"}})],1):e._e(),"glusterfs"===this.create_storage.type?t("el-form-item",{attrs:{label:"Glusterfs地址",prop:"uri"}},[t("el-input",{model:{value:e.create_storage.uri,callback:function(t){e.$set(e.create_storage,"uri",t)},expression:"create_storage.uri"}})],1):e._e(),"ceph-rbd"===this.create_storage.type?t("el-form-item",{attrs:{label:"Ceph地址",prop:"uri"}},[t("el-input",{model:{value:e.create_storage.uri,callback:function(t){e.$set(e.create_storage,"uri",t)},expression:"create_storage.uri"}})],1):e._e(),t("el-form-item",{attrs:{label:"允许范围"}},[t("el-checkbox-group",{model:{value:e.storage_support_category_select,callback:function(t){e.storage_support_category_select=t},expression:"storage_support_category_select"}},[t("el-checkbox",{attrs:{label:1}},[e._v("模版")]),t("el-checkbox",{attrs:{label:2}},[e._v("磁盘")])],1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.create_storage_click}},[e._v("立即创建")]),t("el-button",{on:{click:e.on_back_click}},[e._v("取消")])],1)],1)],1)],1)}),$=[];o(38862);const H={data:function(){return{storage_support_category_select:[1,2],create_storage:{supportCategory:0,description:"",type:"nfs",param:"",volume:"",path:"",pool:"",username:"",secret:"",uri:""}}},methods:{on_back_click:function(){this.$emit("back")},on_notify_update_scheme:function(e){this.$emit("onStorageUpdate",e)},init:function(){this.$refs["createForm"]&&this.$refs["createForm"].resetFields()},create_storage_click:function(){var e=this,t=0;this.storage_support_category_select.forEach((function(e){t|=e}));var o={description:this.create_storage.description,name:this.create_storage.name,type:this.create_storage.type,supportCategory:t,param:"{}"};if("nfs"===this.create_storage.type)o.param=JSON.stringify({path:this.create_storage.path,uri:this.create_storage.uri});else if("glusterfs"===this.create_storage.type)o.param=JSON.stringify({volume:this.create_storage.volume,uri:this.create_storage.uri});else{if("ceph-rbd"!==this.create_storage.type)return void this.$notify.error({title:"错误",message:"不支持的存储池:".concat(this.create_storage.type)});o.param=JSON.stringify({pool:this.create_storage.pool,username:this.create_storage.username,secret:this.create_storage.secret,uri:this.create_storage.uri})}(0,u.o6)(o).then((function(t){0===t.code?(e.on_notify_update_scheme(t.data),e.on_back_click()):e.$notify.error({title:"错误",message:"创建存储池失败:".concat(t.message)})}))}}},J=H;var j=(0,w.Z)(J,q,$,!1,null,null,null);const W=j.exports,Y={name:"storageView",components:{StorageInfoComponent:M.Z,CreateStorageComponent:W},data:function(){return{data_loading:!1,show_type:-1,show_storage:{},storages:[]}},mixins:[h.Z,c.Z],mounted:function(){this.show_type=0,this.init_view()},created:function(){this.subscribe_notify(this.$options.name,this.dispatch_notify_message),this.subscribe_connect_notify(this.$options.name,this.reload_page),this.init_notify()},beforeDestroy:function(){this.unsubscribe_notify(this.$options.name),this.unsubscribe_connect_notify(this.$options.name)},methods:{reload_page:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init_view();case 1:case"end":return t.stop()}}),t)})))()},init_view:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.data_loading=!0,t.next=3,(0,u._u)().then((function(t){0==t.code&&(e.storages=t.data)}))["finally"]((function(){e.data_loading=!1}));case 3:case"end":return t.stop()}}),t)})))()},update_storate_info:function(e){var t=this.storages.findIndex((function(t){return t.storageId===e.storageId}));t>=0?this.$set(this.storages,t,e):this.storages.push(e)},dispatch_notify_message:function(e){if(7===e.type){var t=e.data;if(0==t.code)this.update_storate_info(t.data);else if(3000001==t.code){var o=this.storages.findIndex((function(t){return t.storageId===e.id}));o>=0&&this.storages.splice(o,1)}}},show_storage_list:function(){this.show_type=0},show_create_storage:function(){this.$refs.CreateStorageComponentRef.init(),this.show_type=2},show_storage_info_click:function(e){this.$refs.StorageInfoComponentRef.init_storage(e),this.show_type=1},pasue_storage:function(e){var t=this;this.$confirm("暂停存储池, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.dZ)({storageId:e.storageId}).then((function(e){0===e.code?t.update_storate_info(e.data):t.$notify.error({title:"错误",message:"暂停存储池失败:".concat(e.message)})}))}))["catch"]((function(){}))},register_storage:function(e){var t=this;this.$confirm("重新注册存储池, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.vA)({storageId:e.storageId}).then((function(o){0===o.code?e.status=0:t.$notify.error({title:"错误",message:"注册存储池失败:".concat(o.message)})}))}))["catch"]((function(){}))},destroy_storage:function(e){var t=this;this.$confirm("删除存储池, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.ye)({storageId:e.storageId}).then((function(e){0===e.code?(t.update_storate_info(e.data),t.show_type=0):t.$notify.error({title:"错误",message:"删除存储池失败:".concat(e.message)})}))}))["catch"]((function(){}))}}},ee=Y;var te=(0,w.Z)(ee,V,G,!1,null,"7938e8df",null);const oe=te.exports;o(82772);var se=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-main",[t("el-card",{directives:[{name:"show",rawName:"v-show",value:0===this.show_type,expression:"this.show_type === 0"}],staticClass:"box-card"},[t("el-row",{staticClass:"clearfix",staticStyle:{height:"20px"},attrs:{slot:"header"},slot:"header"},[t("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:e.selectTemplateType,callback:function(t){e.selectTemplateType=t},expression:"selectTemplateType"}},e._l(e.templatesFilterType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.show_create_template}},[e._v("创建模版")])],1),t("el-row",[t("el-table",{staticStyle:{width:"100%"},attrs:{"v-loading":e.data_loading,data:e.show_table_templates,border:""}},[t("el-table-column",{attrs:{label:"ID",prop:"templateId",width:"80"}}),t("el-table-column",{attrs:{label:"名称",prop:"name","min-width":"200","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"类型",prop:"type",width:"100"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",[e._v(e._s(e.get_template_type(o.row)))])]}}])}),t("el-table-column",{attrs:{label:"状态",prop:"status",width:"120"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",{attrs:{type:2===o.row.status?"success":"danger"}},[e._v(e._s(e.get_template_status(o.row)))])]}}])}),t("el-table-column",{attrs:{label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(o){return[2===o.row.templateType?t("el-button",{attrs:{type:"",size:"mini"},on:{click:function(t){return e.show_template_script(o.row)}}},[e._v("初始化脚本")]):e._e(),t("el-button",{attrs:{type:"",size:"mini"},on:{click:function(t){return e.show_template_info(o.row)}}},[e._v("模版详情")]),0===o.row.uri.indexOf("http://")||0===o.row.uri.indexOf("https://")?t("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.download_template(o.row)}}},[e._v("重新下载")]):e._e(),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.destroy_template(o.row)}}},[e._v("销毁模版")])]}}])})],1)],1)],1),t("el-card",{directives:[{name:"show",rawName:"v-show",value:1===this.show_type,expression:"this.show_type === 1"}],staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{attrs:{content:"模版详情"},on:{back:e.show_template_list}})],1),t("el-row",{staticStyle:{"text-align":"left",margin:"20px 0"}},[!e.show_template.uri||0!==e.show_template.uri.indexOf("http://")&&0!==e.show_template.uri.indexOf("https://")?e._e():t("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.download_template(e.show_template)}}},[e._v("重新下载")]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.destroy_template(e.show_template)}}},[e._v("销毁模版")])],1),t("el-row",[t("el-descriptions",{attrs:{column:2,size:"medium",border:""}},[t("el-descriptions-item",{attrs:{label:"ID"}},[e._v(e._s(e.show_template.templateId))]),t("el-descriptions-item",{attrs:{label:"模版名"}},[e._v(e._s(e.show_template.name))]),e.show_template.uri&&0===e.show_template.uri.indexOf("http")?t("el-descriptions-item",{attrs:{label:"下载地址"}},[e._v(e._s(e.show_template.uri))]):e._e(),e.show_template.uri&&0===e.show_template.uri.indexOf("http")?t("el-descriptions-item",{attrs:{label:"MD5"}},[e._v(e._s(e.show_template.md5))]):e._e(),t("el-descriptions-item",{attrs:{label:"模版类型"}},[t("el-tag",[e._v(e._s(e.get_template_type(e.show_template)))])],1),t("el-descriptions-item",{attrs:{label:"状态"}},[t("el-tag",{attrs:{type:2===e.show_template.status?"success":"danger"}},[e._v(e._s(e.get_template_status(e.show_template)))])],1)],1)],1)],1),t("el-card",{directives:[{name:"show",rawName:"v-show",value:2===this.show_type,expression:"this.show_type === 2"}],staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"创建模版"},on:{back:function(t){return e.show_template_list()}}})],1),t("el-row",[t("el-form",{ref:"createForm",staticClass:"demo-ruleForm",attrs:{model:e.create_template,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"名称",prop:"name"}},[t("el-input",{model:{value:e.create_template.name,callback:function(t){e.$set(e.create_template,"name",t)},expression:"create_template.name"}})],1),t("el-form-item",{attrs:{label:"模版类型",prop:"templateType"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.create_template.templateType,callback:function(t){e.$set(e.create_template,"templateType",t)},expression:"create_template.templateType"}},[t("el-option",{attrs:{label:"ISO",value:0}}),t("el-option",{attrs:{label:"系统模版",value:1}}),t("el-option",{attrs:{label:"用户模版",value:2}})],1)],1),t("el-form-item",{attrs:{label:" 下载地址",prop:"uri"}},[t("el-input",{model:{value:e.create_template.uri,callback:function(t){e.$set(e.create_template,"uri",t)},expression:"create_template.uri"}})],1),t("el-form-item",{attrs:{label:"文件MD5",prop:"uri"}},[t("el-input",{model:{value:e.create_template.md5,callback:function(t){e.$set(e.create_template,"md5",t)},expression:"create_template.md5"}})],1),2===e.create_template.templateType?t("el-form-item",{attrs:{label:"初始化脚本"}},[t("el-input",{attrs:{rows:10,type:"textarea"},model:{value:e.create_template.script,callback:function(t){e.$set(e.create_template,"script",t)},expression:"create_template.script"}})],1):e._e(),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.create_template_click}},[e._v("立即创建")]),t("el-button",{on:{click:e.show_template_list}},[e._v("取消")])],1)],1)],1)],1)],1)],1),t("ShowTemplateScript",{ref:"ShowTemplateScriptComponentRef"})],1)},ne=[],ae=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.title,"close-on-click-modal":!1,visible:e.dialog_visiable,width:"600px"},on:{"update:visible":function(t){e.dialog_visiable=t}}},[t("el-form",{attrs:{model:e.template}},[t("el-form-item",{attrs:{label:""}},[t("el-input",{attrs:{rows:10,type:"textarea"},model:{value:e.template.script,callback:function(t){e.$set(e.template,"script",t)},expression:"template.script"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialog_visiable=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.save_template_click}},[e._v("更 新")])],1)],1)},ie=[];const re={data:function(){return{dialog_visiable:!1,title:"",template:{templateId:0,script:""}}},methods:{init:function(e){var t=this;return(0,l.Z)((0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.template.templateId=e.templateId,t.template.script=e.script,t.title="初始化脚本[".concat(e.name,"]"),t.dialog_visiable=!0;case 4:case"end":return o.stop()}}),o)})))()},save_template_click:function(){var e=this;(0,u.MT)(this.template).then((function(t){0===t.code?(e.$emit("onTemplateUpdate",t.data),e.dialog_visiable=!1):e.$notify.error({title:"错误",message:"更新初始化脚本失败:".concat(t.message)})}))}}},le=re;var ce=(0,w.Z)(le,ae,ie,!1,null,null,null);const ue=ce.exports,_e={name:"templateView",components:{ShowTemplateScript:ue},data:function(){return{data_loading:!1,show_type:0,show_template:{},create_template:{name:"",templateType:0,uri:"",md5:"",script:"#cloud-config\n"},templates:[],templatesFilterType:[{value:-1,label:"全部"},{value:0,label:"ISO镜像文件"},{value:1,label:"系统模版"},{value:2,label:"用户模版"}],selectTemplateType:-1}},mixins:[h.Z,c.Z],mounted:function(){this.init_view()},created:function(){this.subscribe_notify(this.$options.name,this.dispatch_notify_message),this.subscribe_connect_notify(this.$options.name,this.reload_page),this.init_notify()},beforeDestroy:function(){this.unsubscribe_notify(this.$options.name),this.unsubscribe_connect_notify(this.$options.name)},computed:{show_table_templates:function(){var e=this;return this.templates.filter((function(t){return-1===e.selectTemplateType||t.templateType===e.selectTemplateType}))}},methods:{reload_page:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init_view();case 1:case"end":return t.stop()}}),t)})))()},init_view:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.data_loading=!0,t.next=3,(0,u.A8)().then((function(t){0==t.code&&(e.templates=t.data)}))["finally"]((function(){e.data_loading=!1}));case 3:case"end":return t.stop()}}),t)})))()},show_template_list:function(){this.show_type=0},show_create_template:function(){this.$refs["createForm"]&&this.$refs["createForm"].resetFields(),this.show_type=2},show_template_info:function(e){this.show_template=e,this.show_type=1},show_template_script:function(e){this.$refs.ShowTemplateScriptComponentRef.init(e)},update_template_info:function(e){var t=this.templates.findIndex((function(t){return t.templateId===e.templateId}));t>=0?this.$set(this.templates,t,e):this.templates.push(e),this.show_template&&this.show_template.templateId===e.templateId&&(this.show_template=e)},dispatch_notify_message:function(e){if(5===e.type){var t=e.data;if(0==t.code)this.update_template_info(t.data);else if(5000001==t.code){var o=this.templates.findIndex((function(t){return t.templateId===e.id}));o>=0&&this.templates.splice(o,1)}}},create_template_click:function(){var e=this,t={name:this.create_template.name,templateType:this.create_template.templateType,uri:this.create_template.uri,md5:this.create_template.md5,script:this.create_template.script};(0,u.Mn)(t).then((function(t){0===t.code?(e.update_template_info(t.data),e.show_type=0):e.$notify.error({title:"错误",message:"创建模版失败:".concat(t.message)})}))},download_template:function(e){var t=this;this.$confirm("重新下载模版, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.fQ)({templateId:e.templateId}).then((function(e){0===e.code?t.update_template_info(e.data):t.$notify.error({title:"错误",message:"重新下载模版失败:".concat(e.message)})}))}))["catch"]((function(){}))},destroy_template:function(e){var t=this;this.$confirm("删除模版, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.c4)({templateId:e.templateId}).then((function(e){0===e.code?(t.update_template_info(e.data),t.show_type=0):t.$notify.error({title:"错误",message:"删除模版失败:".concat(e.message)})}))}))["catch"]((function(){}))}}},de=_e;var pe=(0,w.Z)(de,se,ne,!1,null,"02f389e2",null);const he=pe.exports;var me=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-main",[t("el-card",{directives:[{name:"show",rawName:"v-show",value:0===this.show_type,expression:"this.show_type === 0"}],staticClass:"box-card"},[t("el-row",{staticClass:"clearfix",staticStyle:{height:"30px"},attrs:{slot:"header"},slot:"header"},[t("div",{staticStyle:{float:"left"}},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-form-item",[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.show_create_volume}},[e._v("创建磁盘")])],1),t("el-form-item",[t("el-button",{staticClass:"el-icon-delete",attrs:{size:"mini",disabled:!e.select_volumes.length,type:"danger"},on:{click:e.batch_destroy_volume_click}},[e._v("批量删除")])],1),t("el-form-item",{attrs:{label:"存储池"}},[t("el-select",{staticStyle:{width:"100%"},on:{change:e.update_show_page},model:{value:e.select_storage_id,callback:function(t){e.select_storage_id=t},expression:"select_storage_id"}},[t("el-option",{attrs:{label:"全部",value:0}}),e._l(this.storages,(function(e){return t("el-option",{key:e.storageId,attrs:{label:e.description,value:e.storageId}})}))],2)],1),t("el-form-item",[t("el-input",{staticStyle:{float:"right","max-width":"300px","margin-bottom":"10px"},attrs:{placeholder:"请输入搜索关键字"},on:{input:e.on_key_word_change},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1)],1)],1)]),t("el-row",[t("el-table",{ref:"volumeTable",staticStyle:{width:"100%"},attrs:{"v-loading":!0,data:e.show_table_volumes,border:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{label:"ID",prop:"volumeId",width:"80"}}),t("el-table-column",{attrs:{label:"名称",prop:"description","min-width":"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"磁盘类型",prop:"type",width:"100"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",[e._v(e._s(o.row.type))])]}}])}),t("el-table-column",{attrs:{label:"磁盘空间",prop:"capacity",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.get_volume_display_size(t.row.capacity))+" ")]}}])}),t("el-table-column",{attrs:{label:"物理空间",prop:"allocation",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.get_volume_display_size(t.row.allocation))+" ")]}}])}),t("el-table-column",{attrs:{label:"挂载机器",prop:"allocation","min-width":"120","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(o){return[o.row.attach?t("el-button",{attrs:{type:"text",underline:!1},on:{click:function(t){return e.show_guest_info(o.row.attach.guestId)}}},[e._v(e._s(o.row.attach?o.row.attach.description:"-"))]):e._e(),o.row.attach?e._e():t("span",[e._v(e._s(o.row.attach?o.row.attach.description:"-"))])]}}])}),t("el-table-column",{attrs:{label:"状态",prop:"status",width:"100"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",{attrs:{type:1===o.row.status?"success":"danger"}},[e._v(e._s(e.get_volume_status(o.row)))])]}}])}),t("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-dropdown",{attrs:{size:"small","split-button":"",placement:"bottom-end",type:"primary"},on:{click:function(t){return e.show_volume_info(o.row)},command:e.menu_command_click}},[e._v(" 磁盘管理 "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:{volume:o.row,command:"info"}}},[e._v("磁盘详情")]),t("el-dropdown-item",{attrs:{command:{volume:o.row,command:"resize"},divided:""}},[e._v("扩容磁盘")]),t("el-dropdown-item",{attrs:{command:{volume:o.row,command:"clone"}}},[e._v("克隆磁盘")]),t("el-dropdown-item",{attrs:{command:{volume:o.row,command:"migrate"}}},[e._v("迁移磁盘")]),t("el-dropdown-item",{attrs:{command:{volume:o.row,command:"template"}}},[e._v("创建模版")]),t("el-dropdown-item",{attrs:{command:{volume:o.row,command:"destroy"},divided:""}},[e._v("销毁磁盘")])],1)],1)]}}])})],1),t("el-pagination",{attrs:{"current-page":e.current_page,"page-size":e.page_size,"page-sizes":[5,10,20,50,100,200],total:e.total_size,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.on_page_size_change,"current-change":e.on_current_page_change}})],1)],1),t("VolumeInfoComponent",{directives:[{name:"show",rawName:"v-show",value:1===this.show_type,expression:"this.show_type === 1"}],ref:"VolumeInfoComponentRef",on:{back:function(t){return e.show_volume_list()},onVolumeUpdate:e.update_volume_info}}),t("el-card",{directives:[{name:"show",rawName:"v-show",value:2===this.show_type,expression:"this.show_type === 2"}],staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"创建磁盘"},on:{back:function(t){return e.show_volume_list()}}})],1),t("el-row",[t("el-form",{ref:"createForm",staticClass:"demo-ruleForm",attrs:{model:e.create_volume,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"名称",prop:"description"}},[t("el-input",{model:{value:e.create_volume.description,callback:function(t){e.$set(e.create_volume,"description",t)},expression:"create_volume.description"}})],1),t("el-form-item",{attrs:{label:"存储池",prop:"type"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.create_volume.storageId,callback:function(t){e.$set(e.create_volume,"storageId",t)},expression:"create_volume.storageId"}},[t("el-option",{attrs:{label:"随机",value:0}}),e._l(this.storages.filter((function(e){return 1===e.status&&2===(2&e.supportCategory)})),(function(e){return t("el-option",{key:e.storageId,attrs:{label:e.description,value:e.storageId}})}))],2)],1),t("el-form-item",{attrs:{label:"磁盘大小(GB)",prop:"volumeSize"}},[e._v(" © "),t("el-input",{model:{value:e.create_volume.volumeSize,callback:function(t){e.$set(e.create_volume,"volumeSize",t)},expression:"create_volume.volumeSize"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.create_volume_click}},[e._v("立即创建")]),t("el-button",{on:{click:e.show_volume_list}},[e._v("取消")])],1)],1)],1)],1),t("CloneVolumeComponent",{directives:[{name:"show",rawName:"v-show",value:3===this.show_type,expression:"this.show_type === 3"}],ref:"CloneVolumeComponentRef",on:{back:function(t){return e.show_volume_list()},onVolumeUpdate:e.update_volume_info}}),t("MigrateVolumeComponent",{directives:[{name:"show",rawName:"v-show",value:4===this.show_type,expression:"this.show_type === 4"}],ref:"MigrateVolumeComponentRef",on:{back:function(t){return e.show_volume_list()},onVolumeUpdate:e.update_volume_info}}),t("GuestInfoComponent",{directives:[{name:"show",rawName:"v-show",value:6===this.show_type,expression:"this.show_type === 6"}],ref:"GuestInfoComponentRef",on:{back:e.show_volume_list}}),t("ResizeVolumeComponent",{ref:"ResizeVolumeComponentRef",on:{onVolumeUpdate:e.update_volume_info}}),t("CreateVolumeTemplateComponent",{ref:"CreateVolumeTemplateComponentRef"})],1)],1)],1)},fe=[],ge=(o(73210),o(26699),o(32023),o(92622)),we=o(51699),ve=o(80270),ye=o(99797),be=o(250);const ke={name:"volumeView",components:{GuestInfoComponent:m.Z,ResizeVolumeComponent:ge.Z,CreateVolumeTemplateComponent:we.Z,CloneVolumeComponent:ve.Z,MigrateVolumeComponent:ye.Z,VolumeInfoComponent:be.Z},data:function(){return{data_loading:!1,show_type:-1,select_storage_id:0,create_volume:{description:"",storageId:0,volumeSize:100},keyword:"",volumes:[],storages:[],select_volumes:[],current_page:1,page_size:10,total_size:0}},mixins:[h.Z,c.Z],mounted:function(){this.show_type=0,this.init_view()},created:function(){this.subscribe_notify(this.$options.name,this.dispatch_notify_message),this.subscribe_connect_notify(this.$options.name,this.reload_page),this.init_notify()},beforeDestroy:function(){this.unsubscribe_notify(this.$options.name),this.unsubscribe_connect_notify(this.$options.name)},computed:{show_table_volumes:function(){return this.volumes.filter((function(e){return void 0===e.isShow||e.isShow}))}},methods:{handleSelectionChange:function(e){this.select_volumes=e},reload_page:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init_view();case 1:case"end":return t.stop()}}),t)})))()},init_view:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.data_loading=!0,t.next=3,(0,u._u)().then((function(t){0==t.code&&(e.storages=t.data)}));case 3:return t.next=5,(0,u.Mm)().then((function(t){0==t.code&&(e.volumes=t.data,e.update_show_page())}))["finally"]((function(){e.data_loading=!1}));case 5:case"end":return t.stop()}}),t)})))()},on_current_page_change:function(e){this.current_page=e,this.update_show_page()},on_page_size_change:function(e){this.page_size=e,this.update_show_page()},show_guest_info:function(e){this.$refs.GuestInfoComponentRef.initGuestId(e),this.show_type=6},on_key_word_change:function(){this.current_page=1,this.update_show_page()},update_show_page:function(){var e=this,t=0,o=this.page_size*(this.current_page-1),s=this.page_size*this.current_page;this.volumes.forEach((function(n,a){var i=!0,r=e.keyword.trim().toLowerCase();if(""!==r){var l=n.attach?n.attach.description.toLowerCase():"";i=""+n.volumeId===r||n.description.toLowerCase().indexOf(r)>=0||l.indexOf(r)>=0}var c=!0;e.select_storage_id>0&&(c=n.storageId===e.select_storage_id),i&&c?(t++,n.isShow=!(t<=o||t>s)):n.isShow=!1,e.$set(e.volumes,a,n)})),this.total_size=t},get_storage_name:function(e){var t=this.storages.find((function(t){return t.storageId===e}))||{description:"-"};return t.description},update_volume_info:function(e){var t=this,o=this.select_volumes.map((function(e){return e.volumeId})),s=this.volumes.findIndex((function(t){return t.volumeId===e.volumeId}));if(s>=0)this.$set(this.volumes,s,e);else{var n=this.page_size*(this.current_page-1);this.volumes.splice(n,0,e)}this.update_show_page(),this.$nextTick((function(){t.volumes.forEach((function(e){o.includes(e.volumeId)&&e.isShow&&t.$refs.volumeTable.toggleRowSelection(e)}))})),this.$refs.VolumeInfoComponentRef.refresh_volume(e)},dispatch_notify_message:function(e){var t=this;if(2===e.type){var o=e.data;if(0==o.code)this.update_volume_info(o.data);else if(4000001==o.code){var s=this.select_volumes.map((function(e){return e.volumeId})),n=this.volumes.findIndex((function(t){return t.volumeId===e.id}));n>=0&&this.volumes.splice(n,1),this.$nextTick((function(){t.volumes.forEach((function(e){s.includes(e.volumeId)&&e.isShow&&t.$refs.volumeTable.toggleRowSelection(e)}))}))}}},show_volume_list:function(){this.show_type=0},show_create_volume:function(){this.$refs["createForm"]&&this.$refs["createForm"].resetFields(),this.show_type=2},show_volume_info:function(e){var t=this;return(0,l.Z)((0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.$refs.VolumeInfoComponentRef.init_volume(e),t.show_type=1;case 2:case"end":return o.stop()}}),o)})))()},create_volume_click:function(){var e=this;(0,u.rL)(this.create_volume).then((function(t){0===t.code?(e.update_volume_info(t.data),e.show_type=0):e.$notify.error({title:"错误",message:"创建磁盘失败:".concat(t.message)})}))},update_volume_status:function(e,t){var o=this.volumes.find((function(t){return t.volumeId===e}));o&&(o.status=t)},menu_command_click:function(e){switch(e.command){case"info":this.show_volume_info(e.volume);break;case"resize":this.show_resize_volume_click(e.volume);break;case"snapshote":this.show_create_volume_snapshot_click(e.volume);break;case"clone":this.show_clone_volume_click(e.volume);break;case"migrate":this.show_migrate_volume_click(e.volume);break;case"template":this.show_create_volume_template_click(e.volume);break;case"destroy":this.destroy_volume(e.volume);break}},show_clone_volume_click:function(e){this.$refs.CloneVolumeComponentRef.init(e),this.show_type=3},show_migrate_volume_click:function(e){this.$refs.MigrateVolumeComponentRef.init(e),this.show_type=4},show_create_volume_template_click:function(e){this.$refs.CreateVolumeTemplateComponentRef.init(e)},show_resize_volume_click:function(e){this.$refs.ResizeVolumeComponentRef.init(e)},show_create_volume_snapshot_click:function(e){this.$refs.CreateVolumeSnapshotComponentRef.init(e)},destroy_volume:function(e){var t=this;this.$confirm("删除磁盘, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){console.log(e),(0,u.lp)({volumeId:e.volumeId}).then((function(e){0===e.code?(t.update_volume_info(e.data),t.show_type=0):t.$notify.error({title:"错误",message:"删除磁盘失败:".concat(e.message)})}))}))["catch"]((function(){}))},batch_destroy_volume_click:function(){var e=this;this.$confirm("批量删除所选磁盘, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e.select_volumes.map((function(e){return e.volumeId})).join(",");(0,u.uT)({volumeIds:t}).then((function(t){0===t.code?t.data.filter((function(t){e.update_volume_info(t)})):e.$notify.error({title:"错误",message:"批量删除磁盘:".concat(t.message)})}))}))["catch"]((function(){}))}}},Ie=ke;var xe=(0,w.Z)(Ie,me,fe,!1,null,"7f4a2a3e",null);const Ce=xe.exports;var Xe=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-main",[t("el-card",{directives:[{name:"show",rawName:"v-show",value:0===this.show_type,expression:"this.show_type === 0"}],staticClass:"box-card"},[t("el-row",{staticClass:"clearfix",staticStyle:{height:"20px"},attrs:{slot:"header"},slot:"header"},[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.show_crate_scheme_info_click}},[e._v("创建计算方案")])],1),t("el-row",[t("el-table",{staticStyle:{width:"100%"},attrs:{"v-loading":e.data_loading,data:e.schemes,border:""}},[t("el-table-column",{attrs:{label:"ID",prop:"schemeId",width:"80"}}),t("el-table-column",{attrs:{label:"名称",prop:"name","min-width":"200","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"CPU",prop:"cpu",width:"120"}}),t("el-table-column",{attrs:{label:"内存",prop:"memory",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.get_memory_display_size(t.row.memory))+" ")]}}])}),t("el-table-column",{attrs:{label:"操作","min-width":"380"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"",size:"mini"},on:{click:function(t){return e.show_scheme_info_click(o.row)}}},[e._v("详情")]),t("el-button",{attrs:{type:"",size:"mini"},on:{click:function(t){return e.show_modify_scheme(o.row)}}},[e._v("修改")]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.destroy_scheme(o.row)}}},[e._v("删除")])]}}])})],1)],1)],1),t("SchemeInfoComponent",{directives:[{name:"show",rawName:"v-show",value:1===this.show_type,expression:"this.show_type === 1"}],ref:"SchemeInfoComponentRef",on:{back:function(t){return e.show_scheme_list()},onSchemeUpdate:e.update_scheme_info}}),t("CreateSchemeComponent",{directives:[{name:"show",rawName:"v-show",value:2===this.show_type,expression:"this.show_type === 2"}],ref:"CreateSchemeComponentRef",on:{back:function(t){return e.show_scheme_list()},onSchemeUpdate:e.update_scheme_info}}),t("ModifySchemeComponent",{directives:[{name:"show",rawName:"v-show",value:3===this.show_type,expression:"this.show_type === 3"}],ref:"ModifySchemeComponentRef",on:{back:function(t){return e.show_scheme_list()},onSchemeUpdate:e.update_scheme_info}})],1)],1)],1)},Ke=[],Se=o(85879),Ae=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"创建计算方案"},on:{back:function(t){return e.on_back_click()}}})],1),t("el-row",[t("el-form",{ref:"createForm",staticClass:"demo-ruleForm",attrs:{model:e.create_scheme,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"名称",prop:"name"}},[t("el-input",{model:{value:e.create_scheme.name,callback:function(t){e.$set(e.create_scheme,"name",t)},expression:"create_scheme.name"}})],1),t("el-form-item",{attrs:{label:"CPU",prop:"cpu"}},[t("el-input",{model:{value:e.create_scheme.cpu,callback:function(t){e.$set(e.create_scheme,"cpu",t)},expression:"create_scheme.cpu"}})],1),t("el-form-item",{attrs:{label:"内存(MB)",prop:"memory"}},[t("el-input",{model:{value:e.create_scheme.memory,callback:function(t){e.$set(e.create_scheme,"memory",t)},expression:"create_scheme.memory"}})],1),t("el-form-item",{attrs:{label:"配额(Share)",prop:"share"}},[t("el-input",{model:{value:e.create_scheme.share,callback:function(t){e.$set(e.create_scheme,"share",t)},expression:"create_scheme.share"}})],1),t("el-form-item",{attrs:{label:"Cores",prop:"cores"}},[t("el-input",{model:{value:e.create_scheme.cores,callback:function(t){e.$set(e.create_scheme,"cores",t)},expression:"create_scheme.cores"}})],1),t("el-form-item",{attrs:{label:"Sockets",prop:"sockets"}},[t("el-input",{model:{value:e.create_scheme.sockets,callback:function(t){e.$set(e.create_scheme,"sockets",t)},expression:"create_scheme.sockets"}})],1),t("el-form-item",{attrs:{label:"Threads",prop:"threads"}},[t("el-input",{model:{value:e.create_scheme.threads,callback:function(t){e.$set(e.create_scheme,"threads",t)},expression:"create_scheme.threads"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.create_scheme_click}},[e._v("立即创建")]),t("el-button",{on:{click:e.on_back_click}},[e._v("取消")])],1)],1)],1)],1)},Te=[];const Fe={data:function(){return{create_scheme:{name:"",cpu:1,memory:512,share:0,sockets:0,cores:0,threads:0}}},methods:{on_back_click:function(){this.$emit("back")},on_notify_update_scheme:function(e){this.$emit("onSchemeUpdate",e)},init:function(){this.$refs["createForm"]&&this.$refs["createForm"].resetFields()},create_scheme_click:function(){var e=this;(0,u.ql)(this.create_scheme).then((function(t){0===t.code?(e.on_notify_update_scheme(t.data),e.on_back_click()):e.$notify.error({title:"错误",message:"创建计算方案失败:".concat(t.message)})}))}}},Ze=Fe;var Be=(0,w.Z)(Ze,Ae,Te,!1,null,null,null);const Ee=Be.exports;var Re=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"修改计算方案"},on:{back:function(t){return e.on_back_click()}}})],1),t("el-row",[t("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.modify_scheme,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"名称",prop:"name"}},[t("el-input",{model:{value:e.modify_scheme.name,callback:function(t){e.$set(e.modify_scheme,"name",t)},expression:"modify_scheme.name"}})],1),t("el-form-item",{attrs:{label:"CPU",prop:"cpu"}},[t("el-input",{model:{value:e.modify_scheme.cpu,callback:function(t){e.$set(e.modify_scheme,"cpu",t)},expression:"modify_scheme.cpu"}})],1),t("el-form-item",{attrs:{label:"内存(MB)",prop:"memory"}},[t("el-input",{model:{value:e.modify_scheme.memory,callback:function(t){e.$set(e.modify_scheme,"memory",t)},expression:"modify_scheme.memory"}})],1),t("el-form-item",{attrs:{label:"配额(Share)",prop:"share"}},[t("el-input",{model:{value:e.modify_scheme.share,callback:function(t){e.$set(e.modify_scheme,"share",t)},expression:"modify_scheme.share"}})],1),t("el-form-item",{attrs:{label:"Cores",prop:"cores"}},[t("el-input",{model:{value:e.modify_scheme.cores,callback:function(t){e.$set(e.modify_scheme,"cores",t)},expression:"modify_scheme.cores"}})],1),t("el-form-item",{attrs:{label:"Sockets",prop:"sockets"}},[t("el-input",{model:{value:e.modify_scheme.sockets,callback:function(t){e.$set(e.modify_scheme,"sockets",t)},expression:"modify_scheme.sockets"}})],1),t("el-form-item",{attrs:{label:"Threads",prop:"threads"}},[t("el-input",{model:{value:e.modify_scheme.threads,callback:function(t){e.$set(e.modify_scheme,"threads",t)},expression:"modify_scheme.threads"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.modify_scheme_click}},[e._v("修改")]),t("el-button",{on:{click:e.on_back_click}},[e._v("取消")])],1)],1)],1)],1)},Ue=[];const Qe={data:function(){return{modify_scheme:{schemeId:0,name:"",cpu:1,memory:512,share:0,sockets:0,cores:0,threads:0}}},methods:{on_back_click:function(){this.$emit("back")},on_notify_update_scheme:function(e){this.$emit("onSchemeUpdate",e)},init:function(e){this.modify_scheme.schemeId=e.schemeId,this.modify_scheme.name=e.name,this.modify_scheme.cpu=e.cpu,this.modify_scheme.memory=e.memory/1024,this.modify_scheme.speed=e.speed,this.modify_scheme.sockets=e.sockets,this.modify_scheme.cores=e.cores,this.modify_scheme.threads=e.threads},modify_scheme_click:function(){var e=this;this.$confirm("修改计算方案, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.A6)(e.modify_scheme).then((function(t){0===t.code?(e.on_notify_update_scheme(t.data),e.on_back_click()):e.$notify.error({title:"错误",message:"修改计算方案失败:".concat(t.message)})}))}))["catch"]((function(){}))}}},Ne=Qe;var Pe=(0,w.Z)(Ne,Re,Ue,!1,null,null,null);const Le=Pe.exports,De={name:"schemeView",components:{SchemeInfoComponent:Se.Z,CreateSchemeComponent:Ee,ModifySchemeComponent:Le},data:function(){return{data_loading:!1,current_scheme_id:0,show_type:-1,show_scheme:{},schemes:[]}},mixins:[h.Z,c.Z],mounted:function(){this.show_type=0,this.init_view()},created:function(){this.subscribe_notify(this.$options.name,this.dispatch_notify_message),this.subscribe_connect_notify(this.$options.name,this.reload_page),this.init_notify()},beforeDestroy:function(){this.unsubscribe_notify(this.$options.name),this.unsubscribe_connect_notify(this.$options.name)},methods:{reload_page:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init_view();case 1:case"end":return t.stop()}}),t)})))()},init_view:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.data_loading=!0,t.next=3,(0,u.Pu)().then((function(t){0==t.code&&(e.schemes=t.data)}))["finally"]((function(){e.data_loading=!1}));case 3:case"end":return t.stop()}}),t)})))()},update_scheme_info:function(e){var t=this.schemes.findIndex((function(t){return t.schemeId===e.schemeId}));t>=0?this.$set(this.schemes,t,e):this.schemes.push(e),this.$refs.SchemeInfoComponentRef.init_scheme(e),this.$forceUpdate()},dispatch_notify_message:function(e){if(8===e.type){var t=e.data;if(0==t.code)this.update_scheme_info(t.data);else if(8000001==t.code){var o=this.schemes.findIndex((function(t){return t.schemeId===e.id}));o>=0&&this.schemes.splice(o,1)}this.$forceUpdate()}},show_scheme_list:function(){this.show_type=0},show_crate_scheme_info_click:function(){this.$refs.CreateSchemeComponentRef.init(),this.show_type=2},show_modify_scheme:function(e){this.$refs.ModifySchemeComponentRef.init(e),this.show_type=3},show_scheme_info_click:function(e){this.show_scheme=e,this.$refs.SchemeInfoComponentRef.init_scheme(e),this.show_type=1},destroy_scheme:function(e){var t=this;this.$confirm("删除计算方案, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.tM)({schemeId:e.schemeId}).then((function(o){if(0===o.code){var s=t.schemes.findIndex((function(t){return t.schemeId===e.schemeId}));s>=0&&t.schemes.splice(s,1),t.show_type=0}else t.$notify.error({title:"错误",message:"删除计算方案失败:".concat(o.message)})}))}))["catch"]((function(){}))}}},Oe=De;var ze=(0,w.Z)(Oe,Xe,Ke,!1,null,"75d77d65",null);const Ve=ze.exports;var Ge=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-main",[t("el-card",{directives:[{name:"show",rawName:"v-show",value:0===this.show_type,expression:"this.show_type === 0"}],staticClass:"box-card"},[t("el-row",{staticClass:"clearfix",staticStyle:{height:"20px"},attrs:{slot:"header"},slot:"header"},[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.show_crate_group_click}},[e._v("创建群组")])],1),t("el-row",[t("el-table",{staticStyle:{width:"100%"},attrs:{"v-loading":e.data_loading,data:e.groups,border:""}},[t("el-table-column",{attrs:{label:"ID",prop:"groupId","min-width":"100"}}),t("el-table-column",{attrs:{label:"名称",prop:"groupName","min-width":"400","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"操作","min-width":"400"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"",size:"mini"},on:{click:function(t){return e.show_modify_group(o.row)}}},[e._v("修改")]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.destroy_group(o.row)}}},[e._v("删除")])]}}])})],1)],1)],1),t("CreateGroupComponent",{directives:[{name:"show",rawName:"v-show",value:1===this.show_type,expression:"this.show_type === 1"}],ref:"CreateGroupComponentRef",on:{back:function(t){return e.show_group_list()},onGroupUpdate:e.update_group}}),t("ModifyGroupComponent",{directives:[{name:"show",rawName:"v-show",value:2===this.show_type,expression:"this.show_type === 2"}],ref:"ModifyGroupComponentRef",on:{back:function(t){return e.show_group_list()},onGroupUpdate:e.update_group}})],1)],1)],1)},Me=[],qe=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"创建群组"},on:{back:function(t){return e.on_back_click()}}})],1),t("el-row",[t("el-form",{ref:"createForm",staticClass:"demo-ruleForm",attrs:{model:e.create_group,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"名称",prop:"groupName"}},[t("el-input",{model:{value:e.create_group.groupName,callback:function(t){e.$set(e.create_group,"groupName",t)},expression:"create_group.groupName"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.create_group_click}},[e._v("立即创建")]),t("el-button",{on:{click:e.on_back_click}},[e._v("取消")])],1)],1)],1)],1)},$e=[];const He={data:function(){return{create_group:{groupName:""}}},methods:{on_back_click:function(){this.$emit("back")},on_notify_update_group:function(e){this.$emit("onGroupUpdate",e)},init:function(){this.$refs["createForm"]&&this.$refs["createForm"].resetFields()},create_group_click:function(){var e=this;(0,u.sS)(this.create_group).then((function(t){0===t.code?(e.on_notify_update_group(t.data),e.on_back_click()):e.$notify.error({title:"错误",message:"创建群组失败:".concat(t.message)})}))}}},Je=He;var je=(0,w.Z)(Je,qe,$e,!1,null,null,null);const We=je.exports;var Ye=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"修改群组"},on:{back:function(t){return e.on_back_click()}}})],1),t("el-row",[t("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.modify_group,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"名称",prop:"name"}},[t("el-input",{model:{value:e.modify_group.groupName,callback:function(t){e.$set(e.modify_group,"groupName",t)},expression:"modify_group.groupName"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.modify_group_click}},[e._v("修改")]),t("el-button",{on:{click:e.on_back_click}},[e._v("取消")])],1)],1)],1)],1)},et=[];const tt={data:function(){return{modify_group:{groupId:0,groupName:""}}},methods:{on_back_click:function(){this.$emit("back")},on_notify_update_group:function(e){this.$emit("onSchemeUpdate",e)},init:function(e){this.modify_group.groupId=e.groupId,this.modify_group.groupName=e.groupName},modify_group_click:function(){var e=this;this.$confirm("修改群组, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.v_)(e.modify_group).then((function(t){0===t.code?(e.on_notify_update_group(t.data),e.on_back_click()):e.$notify.error({title:"错误",message:"修改群组失败:".concat(t.message)})}))}))["catch"]((function(){}))}}},ot=tt;var st=(0,w.Z)(ot,Ye,et,!1,null,null,null);const nt=st.exports,at={name:"groupView",components:{CreateGroupComponent:We,ModifyGroupComponent:nt},data:function(){return{data_loading:!1,current_group_id:0,show_type:-1,show_group:{},groups:[]}},mixins:[h.Z,c.Z],mounted:function(){this.show_type=0,this.init_view()},created:function(){this.subscribe_notify(this.$options.name,this.dispatch_notify_message),this.subscribe_connect_notify(this.$options.name,this.reload_page),this.init_notify()},beforeDestroy:function(){this.unsubscribe_notify(this.$options.name),this.unsubscribe_connect_notify(this.$options.name)},methods:{reload_page:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init_view();case 1:case"end":return t.stop()}}),t)})))()},init_view:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.data_loading=!0,t.next=3,(0,u.hI)().then((function(t){0==t.code&&(e.groups=t.data)}))["finally"]((function(){e.data_loading=!1}));case 3:case"end":return t.stop()}}),t)})))()},update_group:function(e){var t=this.groups.findIndex((function(t){return t.groupId===e.groupId}));t>=0?this.$set(this.groups,t,e):this.groups.push(e),this.$forceUpdate()},dispatch_notify_message:function(e){if(9===e.type){var t=e.data;if(0==t.code)this.update_group(t.data);else if(10000001==t.code){var o=this.groups.findIndex((function(t){return t.groupId===e.id}));o>=0&&this.groups.splice(o,1)}this.$forceUpdate()}},show_group_list:function(){this.show_type=0},show_crate_group_click:function(){this.show_type=1,this.$refs.CreateGroupComponentRef.init()},show_modify_group:function(e){this.$refs.ModifyGroupComponentRef.init(e),this.show_type=2},destroy_group:function(e){var t=this;this.$confirm("删除群组, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.ng)({groupId:e.groupId}).then((function(o){if(0===o.code){var s=t.groups.findIndex((function(t){return t.groupId===e.groupId}));s>=0&&t.groups.splice(s,1),t.show_type=0}else t.$notify.error({title:"错误",message:"删除群组失败:".concat(o.message)})}))}))["catch"]((function(){}))}}},it=at;var rt=(0,w.Z)(it,Ge,Me,!1,null,"1cce04de",null);const lt=rt.exports;var ct=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-main",[t("el-card",{directives:[{name:"show",rawName:"v-show",value:0===this.show_type,expression:"this.show_type === 0"}],staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-form-item",[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.show_create_guest_click}},[e._v("创建虚拟机")]),t("el-button",{attrs:{size:"mini",disabled:!e.select_guests.length,type:"success",icon:"el-icon-video-play"},on:{click:e.batch_start_guest_click}},[e._v("批量启动")]),t("el-button",{attrs:{size:"mini",disabled:!e.select_guests.length,type:"danger",icon:"el-icon-video-pause"},on:{click:e.batch_stop_guest_click}},[e._v("批量停止")])],1),t("el-form-item",[t("el-form",{attrs:{inline:!0}},[t("el-form-item",{attrs:{label:"群组"}},[t("el-select",{attrs:{size:"mini"},on:{change:e.update_guest_show_page},model:{value:e.select_group_id,callback:function(t){e.select_group_id=t},expression:"select_group_id"}},[t("el-option",{attrs:{label:"全部",value:-1}}),e._l(this.groups,(function(e){return t("el-option",{key:e.groupId,attrs:{label:e.groupName,value:e.groupId}})}))],2)],1),t("el-form-item",{attrs:{label:"运行主机"}},[t("el-select",{attrs:{size:"mini"},on:{change:e.update_guest_show_page},model:{value:e.select_host_id,callback:function(t){e.select_host_id=t},expression:"select_host_id"}},[t("el-option",{attrs:{label:"全部",value:0}}),e._l(this.hosts,(function(e){return t("el-option",{key:e.hostId,attrs:{label:e.displayName,value:e.hostId}})}))],2)],1),t("el-form-item",[t("el-input",{attrs:{placeholder:"请输入搜索关键字",size:"mini"},on:{input:e.on_key_word_change},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1)],1)],1)],1)],1),t("el-row",[t("el-table",{ref:"guestTable",staticStyle:{width:"100%"},attrs:{"v-loading":e.data_loading,data:e.show_table_guests,border:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{label:"ID",prop:"guestId",width:"80"}}),t("el-table-column",{attrs:{label:"实例名",prop:"name","min-width":"180","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"系统",prop:"systemCategory",width:"100"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.get_system_category_name(o.row),placement:"bottom"}},[t("img",{staticStyle:{width:"24px",height:"24px",float:"left"},attrs:{src:e.get_system_category_image(o.row)}})])]}}])}),t("el-table-column",{attrs:{label:"名称",prop:"description","min-width":"180","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"IP地址",prop:"guestIp",width:"150"}}),t("el-table-column",{attrs:{label:"固件",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.get_bootstrap_type_name(t.row))+" ")]}}])}),t("el-table-column",{attrs:{label:"配置",prop:"cpu",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.cpu)+"核/"+e._s(e.get_memory_display_size(t.row.memory)))]}}])}),t("el-table-column",{attrs:{label:"类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",[e._v(e._s(0===o.row.type?"系统主机":"用户主机"))])]}}])}),t("el-table-column",{attrs:{label:"状态",prop:"status",width:"100"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",{attrs:{type:2===o.row.status?"success":"danger"}},[e._v(e._s(e.get_guest_status(o.row)))])]}}])}),t("el-table-column",{attrs:{label:"操作","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-dropdown",{attrs:{size:"small","split-button":"",placement:"bottom-end",type:"primary"},on:{click:function(t){return e.show_guest_info_click(o.row)},command:e.menu_command_click}},[e._v(" 虚拟机管理 "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:{guest:o.row,command:"info"}}},[e._v("虚拟机详情")]),t("el-dropdown-item",{attrs:{command:{guest:o.row,command:"start"},divided:"",disabled:4!==o.row.status}},[e._v("启动虚拟机")]),t("el-dropdown-item",{attrs:{command:{guest:o.row,command:"stop"},disabled:2!==o.row.status}},[e._v("停止虚拟机")]),t("el-dropdown-item",{attrs:{command:{guest:o.row,command:"vnc"},disabled:2!==o.row.status&&1!==o.row.status}},[e._v("远程桌面")]),t("el-dropdown-item",{attrs:{command:{guest:o.row,command:"reboot"},disabled:2!==o.row.status}},[e._v("重启虚拟机")]),0!==o.row.type?t("el-dropdown-item",{attrs:{command:{guest:o.row,command:"attach_cd"},disabled:0!==o.row.cdRoom}},[e._v("挂载光驱")]):e._e(),0!==o.row.type?t("el-dropdown-item",{attrs:{command:{guest:o.row,command:"detach_cd"},disabled:0===o.row.cdRoom}},[e._v("卸载光驱")]):e._e(),t("el-dropdown-item",{attrs:{command:{guest:o.row,command:"destroy"},divided:""}},[e._v("销毁虚拟机")])],1)],1)]}}])})],1),t("el-pagination",{attrs:{"current-page":e.current_page,"page-size":e.page_size,"page-sizes":[5,10,20,50,100,200],total:e.total_size,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.on_page_size_change,"current-change":e.on_current_page_change}})],1)],1),t("GuestInfoComponent",{directives:[{name:"show",rawName:"v-show",value:1===this.show_type,expression:"this.show_type === 1"}],ref:"GuestInfoComponentRef",on:{back:e.show_guest_list_page,onGuestUpdate:e.update_guest_info}}),t("CreateGuestComponent",{directives:[{name:"show",rawName:"v-show",value:2===this.show_type,expression:"this.show_type === 2"}],ref:"CreateGuestComponentRef",on:{back:e.show_guest_list_page,onGuestUpdate:e.update_guest_info}})],1)],1),t("AttachCdRoomComponent",{ref:"AttachCdRoomComponentRef",on:{onGuestUpdate:e.update_guest_info}}),t("StartGuestComponent",{ref:"StartGuestComponentRef",on:{onGuestUpdate:e.update_guest_info}}),t("StopGuestComponent",{ref:"StopGuestComponentRef",on:{onGuestUpdate:e.update_guest_info}})],1)},ut=[],_t=o(23698),dt=(o(92222),o(32636)),pt=o(62606),ht=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"创建虚拟机"},on:{back:e.on_back_click}})],1),t("el-row",[t("el-form",{ref:"createForm",staticClass:"demo-ruleForm",attrs:{model:e.create_guest,"label-width":"100px"}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"名称",prop:"description"}},[t("el-input",{model:{value:e.create_guest.description,callback:function(t){e.$set(e.create_guest,"description",t)},expression:"create_guest.description"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"总线方式"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"总线方式"},model:{value:e.create_guest.busType,callback:function(t){e.$set(e.create_guest,"busType",t)},expression:"create_guest.busType"}},[t("el-option",{attrs:{label:"virtio",value:"virtio"}}),t("el-option",{attrs:{label:"ide",value:"ide"}}),t("el-option",{attrs:{label:"scsi",value:"scsi"}}),t("el-option",{attrs:{label:"sata",value:"sata"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"固件类型"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.create_guest.bootstrapType,callback:function(t){e.$set(e.create_guest,"bootstrapType",t)},expression:"create_guest.bootstrapType"}},[t("el-option",{attrs:{label:"BIOS",value:0}}),t("el-option",{attrs:{label:"UEFI",value:1}})],1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"配置"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择虚拟机配置"},model:{value:e.create_guest.schemeId,callback:function(t){e.$set(e.create_guest,"schemeId",t)},expression:"create_guest.schemeId"}},e._l(this.schemes,(function(e){return t("el-option",{key:e.schemeId,attrs:{label:e.name,value:e.schemeId}})})),1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"存储池"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.create_guest.storageId,callback:function(t){e.$set(e.create_guest,"storageId",t)},expression:"create_guest.storageId"}},[t("el-option",{attrs:{label:"随机",value:0}}),e._l(this.storages,(function(e){return t("el-option",{key:e.storageId,attrs:{label:e.description,value:e.storageId}})}))],2)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"运行主机"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.create_guest.hostId,callback:function(t){e.$set(e.create_guest,"hostId",t)},expression:"create_guest.hostId"}},[t("el-option",{attrs:{label:"随机",value:0}}),e._l(e.select_host,(function(e){return t("el-option",{key:e.hostId,attrs:{label:e.displayName,value:e.hostId}})}))],2)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"网络"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择网络"},model:{value:e.create_guest.networkId,callback:function(t){e.$set(e.create_guest,"networkId",t)},expression:"create_guest.networkId"}},e._l(this.networks,(function(e){return t("el-option",{key:e.networkId,attrs:{label:e.name,value:e.networkId}})})),1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"网络驱动"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择网卡驱动"},model:{value:e.create_guest.networkDeviceType,callback:function(t){e.$set(e.create_guest,"networkDeviceType",t)},expression:"create_guest.networkDeviceType"}},[t("el-option",{attrs:{label:"virtio",value:"virtio"}}),t("el-option",{attrs:{label:"rtl8139",value:"rtl8139"}}),t("el-option",{attrs:{label:"e1000",value:"e1000"}})],1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"安装方式"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择安装方式"},model:{value:e.create_guest.type,callback:function(t){e.$set(e.create_guest,"type",t)},expression:"create_guest.type"}},[t("el-option",{attrs:{label:"ISO镜像",value:0}}),t("el-option",{attrs:{label:"模版安装",value:1}}),t("el-option",{attrs:{label:"现有磁盘",value:3}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"操作系统"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"操作系统"},model:{value:e.create_guest.systemCategory,callback:function(t){e.$set(e.create_guest,"systemCategory",t)},expression:"create_guest.systemCategory"}},[t("el-option",{attrs:{label:"Centos",value:101}}),t("el-option",{attrs:{label:"Ubuntu",value:102}}),t("el-option",{attrs:{label:"Windows",value:300}}),t("el-option",{attrs:{label:"Deepin",value:103}}),t("el-option",{attrs:{label:"RedHat",value:104}}),t("el-option",{attrs:{label:"Debian",value:105}}),t("el-option",{attrs:{label:"OpenEuler",value:106}}),t("el-option",{attrs:{label:"UOS",value:107}}),t("el-option",{attrs:{label:"OracleLinux",value:108}}),t("el-option",{attrs:{label:"Linux",value:100}}),t("el-option",{attrs:{label:"Unix",value:200}}),t("el-option",{attrs:{label:"Android",value:400}})],1)],1)],1),t("el-col",{attrs:{span:8}},[0===e.create_guest.type?t("el-form-item",{attrs:{label:"ISO模版"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择光盘镜像"},model:{value:e.create_guest.isoTemplateId,callback:function(t){e.$set(e.create_guest,"isoTemplateId",t)},expression:"create_guest.isoTemplateId"}},e._l(this.iso_template,(function(e){return t("el-option",{key:e.templateId,attrs:{label:e.name,value:e.templateId}})})),1)],1):e._e(),1===e.create_guest.type?t("el-form-item",{attrs:{label:"系统模版"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择模版"},model:{value:e.create_guest.diskTemplateId,callback:function(t){e.$set(e.create_guest,"diskTemplateId",t)},expression:"create_guest.diskTemplateId"}},e._l(this.disk_template,(function(e){return t("el-option",{key:e.templateId,attrs:{label:e.name,value:e.templateId}})})),1)],1):e._e(),3===e.create_guest.type?t("el-form-item",{attrs:{label:"可用磁盘"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择系统磁盘"},model:{value:e.create_guest.volumeId,callback:function(t){e.$set(e.create_guest,"volumeId",t)},expression:"create_guest.volumeId"}},e._l(this.attach_volumes,(function(e){return t("el-option",{key:e.volumeId,attrs:{label:e.description,value:e.volumeId}})})),1)],1):e._e()],1)],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"群组"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择群组"},model:{value:e.create_guest.groupId,callback:function(t){e.$set(e.create_guest,"groupId",t)},expression:"create_guest.groupId"}},e._l(this.groups,(function(e){return t("el-option",{key:e.groupId,attrs:{label:e.groupName,value:e.groupId}})})),1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"磁盘大小"}},[t("el-input",{attrs:{disabled:0!==e.create_guest.type&&1!==e.create_guest.type},model:{value:e.create_guest.size,callback:function(t){e.$set(e.create_guest,"size",t)},expression:"create_guest.size"}},[t("template",{slot:"append"},[e._v("GB")])],2)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"主机名"}},[t("el-input",{attrs:{disabled:1!==e.create_guest.type||300==e.create_guest.systemCategory},model:{value:e.meta_config.hostName,callback:function(t){e.$set(e.meta_config,"hostName",t)},expression:"meta_config.hostName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"密码"}},[t("el-input",{attrs:{"show-password":!0,type:"password",disabled:1!==e.create_guest.type||300==e.create_guest.systemCategory},model:{value:e.user_config.password,callback:function(t){e.$set(e.user_config,"password",t)},expression:"user_config.password"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"登录密钥"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"登录密钥",disabled:1!==e.create_guest.type||300==e.create_guest.systemCategory},model:{value:e.user_config.sshId,callback:function(t){e.$set(e.user_config,"sshId",t)},expression:"user_config.sshId"}},e._l(this.sshs,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.create_guest_click}},[e._v("立即创建")]),t("el-button",{on:{click:e.on_back_click}},[e._v("取消")])],1)],1)],1)],1)},mt=[];const ft={data:function(){return{create_guest:{type:0,groupId:0,description:"",busType:"virtio",hostId:0,schemeId:"",networkId:"",networkDeviceType:"virtio",isoTemplateId:"",diskTemplateId:"",volumeId:"",storageId:0,systemCategory:101,size:100,bootstrapType:0},meta_config:{hostName:""},user_config:{password:"",sshId:0},iso_template:[],attach_volumes:[],disk_template:[],storages:[],schemes:[],hosts:[],networks:[],groups:[],sshs:[{id:0,name:"无"}]}},computed:{select_host:function(){var e=this;return this.hosts.filter((function(t){return 0===e.create_guest.bootstrapType||(!(1!==e.create_guest.bootstrapType||!t.uefiType||""==t.uefiType||!t.uefiPath||""==t.uefiPath)||(t.hostId===e.create_guest.hostId&&(e.create_guest.hostId=0),!1))}))}},methods:{on_back_click:function(){this.$emit("back")},load_all_attach_volumes:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.I2)().then((function(t){0===t.code&&(e.attach_volumes=t.data)}));case 2:case"end":return t.stop()}}),t)})))()},load_all_template:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.A8)().then((function(t){0===t.code&&(e.iso_template=t.data.filter((function(e){return 0==e.templateType&&2===e.status})),e.disk_template=t.data.filter((function(e){return 2==e.templateType&&2===e.status})))}));case 2:case"end":return t.stop()}}),t)})))()},load_all_storage:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u._u)().then((function(t){0==t.code&&(e.storages=t.data.filter((function(e){return 1==e.status&&2===(2&e.supportCategory)})))}));case 2:case"end":return t.stop()}}),t)})))()},load_all_ssh:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.$G)().then((function(t){0==t.code&&(e.sshs=[{id:0,name:"无"}].concat((0,_t.Z)(t.data)))}));case 2:case"end":return t.stop()}}),t)})))()},load_all_networks:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.jR)().then((function(t){0===t.code&&(e.networks=t.data.filter((function(e){return 2===e.status})))}));case 2:case"end":return t.stop()}}),t)})))()},load_all_host:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.vZ)().then((function(t){0===t.code&&(e.hosts=t.data.filter((function(e){return 1==e.status})))}));case 2:case"end":return t.stop()}}),t)})))()},load_all_schemes:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.Pu)().then((function(t){0===t.code&&(e.schemes=t.data)}));case 2:case"end":return t.stop()}}),t)})))()},load_all_groups:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.hI)().then((function(t){0===t.code&&(e.groups=[{groupId:0,groupName:"默认"}].concat((0,_t.Z)(t.data)))}));case 2:case"end":return t.stop()}}),t)})))()},init:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.load_all_attach_volumes(),e.load_all_host(),e.load_all_template(),e.load_all_storage(),e.load_all_schemes(),e.load_all_networks(),e.load_all_groups(),e.load_all_ssh(),e.$refs["createForm"]&&e.$refs["createForm"].resetFields(),e.create_guest.isoTemplateId="",e.create_guest.diskTemplateId="",e.create_guest.volumeId="",e.create_guest.type=0,e.create_guest.groupId=0,e.create_guest.systemCategory=101,e.create_guest.bootstrapType=0,e.user_config.password="",e.user_config.sshId=0,e.meta_config.hostName="";case 19:case"end":return t.stop()}}),t)})))()},create_guest_click:function(){var e=this;switch(this.create_guest.type){case 0:this.create_guest.diskTemplateId=0,this.create_guest.volumeId=0,this.create_guest.password="";break;case 1:this.create_guest.isoTemplateId=0,this.create_guest.volumeId=0;break;case 2:this.create_guest.isoTemplateId=0,this.create_guest.diskTemplateId=0,this.create_guest.volumeId=0,this.create_guest.size=0;break;case 3:this.create_guest.isoTemplateId=0,this.create_guest.diskTemplateId=0,this.create_guest.size=0;break}var t={},o={};this.meta_config.hostName&&(t=(0,p.Z)((0,p.Z)({},o),{},{hostname:this.meta_config.hostName,"local-hostname":this.meta_config.hostName})),this.user_config.password&&(o=(0,p.Z)((0,p.Z)({},o),{},{password:this.user_config.password})),this.user_config.sshId>0&&(o=(0,p.Z)((0,p.Z)({},o),{},{sshId:this.user_config.sshId+""}));var s=(0,p.Z)((0,p.Z)({},this.create_guest),{},{metaData:JSON.stringify(t),userData:JSON.stringify(o)});(0,u.Az)(s).then((function(t){0===t.code?(e.$emit("onGuestUpdate",t.data),e.$nextTick((function(){e.on_back_click()}))):e.$notify.error({title:"错误",message:"创建虚拟机失败:".concat(t.message)})}))}}},gt=ft;var wt=(0,w.Z)(gt,ht,mt,!1,null,"35df8b10",null);const vt=wt.exports;var yt=o(37441);const bt={name:"guestView",components:{StartGuestComponent:dt.Z,StopGuestComponent:pt.Z,GuestInfoComponent:m.Z,CreateGuestComponent:vt,AttachCdRoomComponent:yt.Z},data:function(){return{data_loading:!1,select_host_id:0,select_group_id:-1,show_type:-1,keyword:"",guests:[],storages:[],hosts:[],select_guests:[],groups:[],current_page:1,page_size:10,total_size:0}},mixins:[h.Z,c.Z],mounted:function(){this.show_type=0,this.init_view()},created:function(){this.subscribe_notify(this.$options.name,this.dispatch_notify_message),this.subscribe_connect_notify(this.$options.name,this.reload_page),this.init_notify()},beforeDestroy:function(){this.unsubscribe_notify(this.$options.name),this.unsubscribe_connect_notify(this.$options.name)},computed:{show_table_guests:function(){return this.guests.filter((function(e){return void 0===e.isShow||e.isShow}))}},methods:{handleSelectionChange:function(e){this.select_guests=e},reload_page:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init_view();case 1:case"end":return t.stop()}}),t)})))()},init_view:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.data_loading=!0,t.next=3,(0,u.jW)().then((function(t){0==t.code&&(e.guests=t.data,e.update_guest_show_page())}))["finally"]((function(){e.data_loading=!1}));case 3:return t.next=5,e.load_all_host();case 5:return t.next=7,e.load_all_groups();case 7:case"end":return t.stop()}}),t)})))()},load_all_host:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.vZ)().then((function(t){0===t.code&&(e.hosts=t.data.filter((function(e){return 1==e.status})))}));case 2:case"end":return t.stop()}}),t)})))()},load_all_groups:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.hI)().then((function(t){0===t.code&&(e.groups=[{groupId:0,groupName:"默认"}].concat((0,_t.Z)(t.data)))}));case 2:case"end":return t.stop()}}),t)})))()},on_key_word_change:function(){this.current_page=1,this.update_guest_show_page()},on_current_page_change:function(e){this.current_page=e,this.update_guest_show_page()},on_page_size_change:function(e){this.page_size=e,this.update_guest_show_page()},update_guest_show_page:function(){var e=this,t=0,o=this.page_size*(this.current_page-1),s=this.page_size*this.current_page;this.guests.forEach((function(n,a){var i=!0,r=e.keyword.trim().toLowerCase();""!==r&&(i=""+n.guestId===r||n.description.toLowerCase().indexOf(r)>=0||n.name.toLowerCase().indexOf(r)>=0||n.guestIp.toLowerCase().indexOf(r)>=0);var l=!0;e.select_host_id>0&&(l=n.hostId===e.select_host_id);var c=!0;e.select_group_id>-1&&(c=n.groupId===e.select_group_id),i&&l&&c?(t++,n.isShow=!(t<=o||t>s)):n.isShow=!1,e.$set(e.guests,a,n)})),this.total_size=t},update_guest_info:function(e){var t=this;return(0,l.Z)((0,r.Z)().mark((function o(){var s,n,a;return(0,r.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:s=t.select_guests.map((function(e){return e.guestId})),n=t.guests.findIndex((function(t){return t.guestId===e.guestId})),n>=0?t.$set(t.guests,n,e):1===e.type&&(a=t.page_size*(t.current_page-1),t.guests.splice(a,0,e)),t.update_guest_show_page(),t.$nextTick((function(){t.guests.forEach((function(e){s.includes(e.guestId)&&e.isShow&&t.$refs.guestTable.toggleRowSelection(e)}))}));case 5:case"end":return o.stop()}}),o)})))()},dispatch_notify_message:function(e){var t=this;if(1===e.type){var o=e.data;if(0==o.code)this.update_guest_info(o.data);else if(2000001==o.code){var s=this.select_guests.map((function(e){return e.guestId})),n=this.guests.findIndex((function(t){return t.guestId===e.id}));n>=0&&this.guests.splice(n,1),this.$nextTick((function(){t.guests.forEach((function(e){s.includes(e.guestId)&&e.isShow&&t.$refs.guestTable.toggleRowSelection(e)}))}))}}},show_guest_list_page:function(){this.show_type=0},show_host_back:function(){this.show_type=1},show_create_guest_click:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.CreateGuestComponentRef.init(),e.show_type=2;case 2:case"end":return t.stop()}}),t)})))()},reboot_guest_click:function(e){var t=this;this.$confirm("重启当前虚拟机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.Qm)({guestId:e.guestId}).then((function(e){0===e.code?t.update_guest_info(e.data):t.$notify.error({title:"错误",message:"重启虚拟机失败:".concat(e.message)})}))}))["catch"]((function(){}))},detach_guest_cd_room_click:function(e){var t=this;(0,u.n4)({guestId:e.guestId}).then((function(e){0===e.code?(t.update_guest_info(e.data),t.stop_dialog_visiable=!1):t.$notify.error({title:"错误",message:"卸载虚拟机光驱失败:".concat(e.message)})}))},menu_command_click:function(e){switch(e.command){case"info":this.show_guest_info_click(e.guest);break;case"start":this.show_start_guest_click(e.guest);break;case"reboot":this.reboot_guest_click(e.guest);break;case"stop":this.show_stop_guest_click(e.guest);break;case"detach_cd":this.detach_guest_cd_room_click(e.guest);break;case"attach_cd":this.show_attach_cd_room_click(e.guest);break;case"vnc":this.vnc_click(e.guest);break;case"destroy":this.destroy_guest(e.guest);break}},show_guest_info_click:function(e){var t=this;return(0,l.Z)((0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.$refs.GuestInfoComponentRef.init(e),t.show_type=1;case 2:case"end":return o.stop()}}),o)})))()},show_start_guest_click:function(e){var t=this;return(0,l.Z)((0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.$refs.StartGuestComponentRef.init(e);case 1:case"end":return o.stop()}}),o)})))()},show_stop_guest_click:function(e){this.$refs.StopGuestComponentRef.init(e)},show_attach_cd_room_click:function(e){this.$refs.AttachCdRoomComponentRef.init(e)},vnc_click:function(e){var t=this.$router.resolve({path:"/Vnc",query:{id:e.guestId,description:e.description}}),o=t.href;window.open(o,"_blank")},destroy_guest:function(e){var t=this;this.$confirm("删除当前虚拟机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.yl)({guestId:e.guestId}).then((function(e){0===e.code?(t.update_guest_info(e.data),t.show_type=0):t.$notify.error({title:"错误",message:"删除虚拟机失败:".concat(e.message)})}))}))["catch"]((function(){}))},batch_start_guest_click:function(){var e=this;this.$confirm("启动所选虚拟机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e.select_guests.map((function(e){return e.guestId})).join(",");(0,u.go)({guestIds:t}).then((function(t){0===t.code?t.data.filter((function(t){e.update_guest_info(t)})):e.$notify.error({title:"错误",message:"批量启动虚拟机失败:".concat(t.message)})}))}))["catch"]((function(){}))},batch_stop_guest_click:function(){var e=this;this.$confirm("停止所选虚拟机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e.select_guests.map((function(e){return e.guestId})).join(",");(0,u.is)({guestIds:t}).then((function(t){0===t.code?t.data.filter((function(t){e.update_guest_info(t)})):e.$notify.error({title:"错误",message:"批量停止虚拟机失败:".concat(t.message)})}))}))["catch"]((function(){}))}}},kt=bt;var It=(0,w.Z)(kt,ct,ut,!1,null,"fc35f83e",null);const xt=It.exports;var Ct=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vnc-container"},[t("el-container",[t("el-header",{staticClass:"toolbar",attrs:{height:"40px"}},[t("div",{staticClass:"brand"},[t("img",{staticClass:"brand-logo",attrs:{src:o(66949)}}),t("span",{staticClass:"brand-name"},[e._v("KVM Cloud")])]),t("div",{staticClass:"controls"},[t("div",{staticClass:"status"},[e._v(" "+e._s(e.connectionStatus)+" ")])])]),t("el-container",[t("el-aside",{staticClass:"keybord-tools",attrs:{width:e.sidebarWidth}},[t("div",{staticClass:"toggle-button",on:{click:e.toggleCollapse}},[t("i",{class:e.isCollapse?"el-icon-s-unfold":"el-icon-s-fold"})]),t("el-container",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapse,expression:"!isCollapse"}]},[t("el-header",{attrs:{height:"30px"}},[t("el-select",{staticStyle:{"margin-left":"10px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.activeInputType,callback:function(t){e.activeInputType=t},expression:"activeInputType"}},e._l(e.inputTypes,(function(e,o){return t("el-option",{key:o,attrs:{label:e.label,value:o}})})),1)],1),t("el-main",[0===e.activeInputType?t("KeyboardLetters",{on:{"send-key":e.sendKey}}):e._e(),1===e.activeInputType?t("KeyboardNumbers",{on:{"send-key":e.sendKey}}):e._e(),2===e.activeInputType?t("KeyboardSymbols",{on:{"send-shift-key":e.sendShiftKey,"send-key":e.sendKey}}):e._e(),3===e.activeInputType?t("KeyboardFunctions",{on:{"send-key":e.sendKey}}):e._e(),4===e.activeInputType?t("KeyboardController",{on:{"send-controller-key":e.sendControllerKey}}):e._e()],1),[0,1,2,3].includes(e.activeInputType)?t("el-footer",[t("KeyboardGlobal",{on:{"send-key":e.sendKey}})],1):e._e()],1)],1),t("el-main",{staticClass:"vnc-container"},[t("div",{ref:"vncContainer"})])],1)],1)],1)},Xt=[],Kt=(o(21703),o(78066));const St={data:function(){return{XK_VoidSymbol:16777215,XK_BackSpace:65288,XK_Tab:65289,XK_Linefeed:65290,XK_Clear:65291,XK_Return:65293,XK_Pause:65299,XK_Scroll_Lock:65300,XK_Sys_Req:65301,XK_Escape:65307,XK_Delete:65535,XK_Multi_key:65312,XK_Codeinput:65335,XK_SingleCandidate:65340,XK_MultipleCandidate:65341,XK_PreviousCandidate:65342,XK_Kanji:65313,XK_Muhenkan:65314,XK_Henkan_Mode:65315,XK_Henkan:65315,XK_Romaji:65316,XK_Hiragana:65317,XK_Katakana:65318,XK_Hiragana_Katakana:65319,XK_Zenkaku:65320,XK_Hankaku:65321,XK_Zenkaku_Hankaku:65322,XK_Touroku:65323,XK_Massyo:65324,XK_Kana_Lock:65325,XK_Kana_Shift:65326,XK_Eisu_Shift:65327,XK_Eisu_toggle:65328,XK_Kanji_Bangou:65335,XK_Zen_Koho:65341,XK_Mae_Koho:65342,XK_Home:65360,XK_Left:65361,XK_Up:65362,XK_Right:65363,XK_Down:65364,XK_Prior:65365,XK_Page_Up:65365,XK_Next:65366,XK_Page_Down:65366,XK_End:65367,XK_Begin:65368,XK_Select:65376,XK_Print:65377,XK_Execute:65378,XK_Insert:65379,XK_Undo:65381,XK_Redo:65382,XK_Menu:65383,XK_Find:65384,XK_Cancel:65385,XK_Help:65386,XK_Break:65387,XK_Mode_switch:65406,XK_script_switch:65406,XK_Num_Lock:65407,XK_KP_Space:65408,XK_KP_Tab:65417,XK_KP_Enter:65421,XK_KP_F1:65425,XK_KP_F2:65426,XK_KP_F3:65427,XK_KP_F4:65428,XK_KP_Home:65429,XK_KP_Left:65430,XK_KP_Up:65431,XK_KP_Right:65432,XK_KP_Down:65433,XK_KP_Prior:65434,XK_KP_Page_Up:65434,XK_KP_Next:65435,XK_KP_Page_Down:65435,XK_KP_End:65436,XK_KP_Begin:65437,XK_KP_Insert:65438,XK_KP_Delete:65439,XK_KP_Equal:65469,XK_KP_Multiply:65450,XK_KP_Add:65451,XK_KP_Separator:65452,XK_KP_Subtract:65453,XK_KP_Decimal:65454,XK_KP_Divide:65455,XK_KP_0:65456,XK_KP_1:65457,XK_KP_2:65458,XK_KP_3:65459,XK_KP_4:65460,XK_KP_5:65461,XK_KP_6:65462,XK_KP_7:65463,XK_KP_8:65464,XK_KP_9:65465,XK_F1:65470,XK_F2:65471,XK_F3:65472,XK_F4:65473,XK_F5:65474,XK_F6:65475,XK_F7:65476,XK_F8:65477,XK_F9:65478,XK_F10:65479,XK_F11:65480,XK_L1:65480,XK_F12:65481,XK_L2:65481,XK_F13:65482,XK_L3:65482,XK_F14:65483,XK_L4:65483,XK_F15:65484,XK_L5:65484,XK_F16:65485,XK_L6:65485,XK_F17:65486,XK_L7:65486,XK_F18:65487,XK_L8:65487,XK_F19:65488,XK_L9:65488,XK_F20:65489,XK_L10:65489,XK_F21:65490,XK_R1:65490,XK_F22:65491,XK_R2:65491,XK_F23:65492,XK_R3:65492,XK_F24:65493,XK_R4:65493,XK_F25:65494,XK_R5:65494,XK_F26:65495,XK_R6:65495,XK_F27:65496,XK_R7:65496,XK_F28:65497,XK_R8:65497,XK_F29:65498,XK_R9:65498,XK_F30:65499,XK_R10:65499,XK_F31:65500,XK_R11:65500,XK_F32:65501,XK_R12:65501,XK_F33:65502,XK_R13:65502,XK_F34:65503,XK_R14:65503,XK_F35:65504,XK_R15:65504,XK_Shift_L:65505,XK_Shift_R:65506,XK_Control_L:65507,XK_Control_R:65508,XK_Caps_Lock:65509,XK_Shift_Lock:65510,XK_Meta_L:65511,XK_Meta_R:65512,XK_Alt_L:65513,XK_Alt_R:65514,XK_Super_L:65515,XK_Super_R:65516,XK_Hyper_L:65517,XK_Hyper_R:65518,XK_ISO_Level3_Shift:65027,XK_ISO_Next_Group:65032,XK_ISO_Prev_Group:65034,XK_ISO_First_Group:65036,XK_ISO_Last_Group:65038,XK_space:32,XK_exclam:33,XK_quotedbl:34,XK_numbersign:35,XK_dollar:36,XK_percent:37,XK_ampersand:38,XK_apostrophe:39,XK_quoteright:39,XK_parenleft:40,XK_parenright:41,XK_asterisk:42,XK_plus:43,XK_comma:44,XK_minus:45,XK_period:46,XK_slash:47,XK_0:48,XK_1:49,XK_2:50,XK_3:51,XK_4:52,XK_5:53,XK_6:54,XK_7:55,XK_8:56,XK_9:57,XK_colon:58,XK_semicolon:59,XK_less:60,XK_equal:61,XK_greater:62,XK_question:63,XK_at:64,XK_A:65,XK_B:66,XK_C:67,XK_D:68,XK_E:69,XK_F:70,XK_G:71,XK_H:72,XK_I:73,XK_J:74,XK_K:75,XK_L:76,XK_M:77,XK_N:78,XK_O:79,XK_P:80,XK_Q:81,XK_R:82,XK_S:83,XK_T:84,XK_U:85,XK_V:86,XK_W:87,XK_X:88,XK_Y:89,XK_Z:90,XK_bracketleft:91,XK_backslash:92,XK_bracketright:93,XK_asciicircum:94,XK_underscore:95,XK_grave:96,XK_quoteleft:96,XK_a:97,XK_b:98,XK_c:99,XK_d:100,XK_e:101,XK_f:102,XK_g:103,XK_h:104,XK_i:105,XK_j:106,XK_k:107,XK_l:108,XK_m:109,XK_n:110,XK_o:111,XK_p:112,XK_q:113,XK_r:114,XK_s:115,XK_t:116,XK_u:117,XK_v:118,XK_w:119,XK_x:120,XK_y:121,XK_z:122,XK_braceleft:123,XK_bar:124,XK_braceright:125,XK_asciitilde:126,XK_nobreakspace:160,XK_exclamdown:161,XK_cent:162,XK_sterling:163,XK_currency:164,XK_yen:165,XK_brokenbar:166,XK_section:167,XK_diaeresis:168,XK_copyright:169,XK_ordfeminine:170,XK_guillemotleft:171,XK_notsign:172,XK_hyphen:173,XK_registered:174,XK_macron:175,XK_degree:176,XK_plusminus:177,XK_twosuperior:178,XK_threesuperior:179,XK_acute:180,XK_mu:181,XK_paragraph:182,XK_periodcentered:183,XK_cedilla:184,XK_onesuperior:185,XK_masculine:186,XK_guillemotright:187,XK_onequarter:188,XK_onehalf:189,XK_threequarters:190,XK_questiondown:191,XK_Agrave:192,XK_Aacute:193,XK_Acircumflex:194,XK_Atilde:195,XK_Adiaeresis:196,XK_Aring:197,XK_AE:198,XK_Ccedilla:199,XK_Egrave:200,XK_Eacute:201,XK_Ecircumflex:202,XK_Ediaeresis:203,XK_Igrave:204,XK_Iacute:205,XK_Icircumflex:206,XK_Idiaeresis:207,XK_ETH:208,XK_Eth:208,XK_Ntilde:209,XK_Ograve:210,XK_Oacute:211,XK_Ocircumflex:212,XK_Otilde:213,XK_Odiaeresis:214,XK_multiply:215,XK_Oslash:216,XK_Ooblique:216,XK_Ugrave:217,XK_Uacute:218,XK_Ucircumflex:219,XK_Udiaeresis:220,XK_Yacute:221,XK_THORN:222,XK_Thorn:222,XK_ssharp:223,XK_agrave:224,XK_aacute:225,XK_acircumflex:226,XK_atilde:227,XK_adiaeresis:228,XK_aring:229,XK_ae:230,XK_ccedilla:231,XK_egrave:232,XK_eacute:233,XK_ecircumflex:234,XK_ediaeresis:235,XK_igrave:236,XK_iacute:237,XK_icircumflex:238,XK_idiaeresis:239,XK_eth:240,XK_ntilde:241,XK_ograve:242,XK_oacute:243,XK_ocircumflex:244,XK_otilde:245,XK_odiaeresis:246,XK_division:247,XK_oslash:248,XK_ooblique:248,XK_ugrave:249,XK_uacute:250,XK_ucircumflex:251,XK_udiaeresis:252,XK_yacute:253,XK_thorn:254,XK_ydiaeresis:255,XK_Hangul:65329,XK_Hangul_Hanja:65332,XK_Hangul_Jeonja:65336,XF86XK_ModeLock:269025025,XF86XK_MonBrightnessUp:269025026,XF86XK_MonBrightnessDown:269025027,XF86XK_KbdLightOnOff:269025028,XF86XK_KbdBrightnessUp:269025029,XF86XK_KbdBrightnessDown:269025030,XF86XK_Standby:269025040,XF86XK_AudioLowerVolume:269025041,XF86XK_AudioMute:269025042,XF86XK_AudioRaiseVolume:269025043,XF86XK_AudioPlay:269025044,XF86XK_AudioStop:269025045,XF86XK_AudioPrev:269025046,XF86XK_AudioNext:269025047,XF86XK_HomePage:269025048,XF86XK_Mail:269025049,XF86XK_Start:269025050,XF86XK_Search:269025051,XF86XK_AudioRecord:269025052,XF86XK_Calculator:269025053,XF86XK_Memo:269025054,XF86XK_ToDoList:269025055,XF86XK_Calendar:269025056,XF86XK_PowerDown:269025057,XF86XK_ContrastAdjust:269025058,XF86XK_RockerUp:269025059,XF86XK_RockerDown:269025060,XF86XK_RockerEnter:269025061,XF86XK_Back:269025062,XF86XK_Forward:269025063,XF86XK_Stop:269025064,XF86XK_Refresh:269025065,XF86XK_PowerOff:269025066,XF86XK_WakeUp:269025067,XF86XK_Eject:269025068,XF86XK_ScreenSaver:269025069,XF86XK_WWW:269025070,XF86XK_Sleep:269025071,XF86XK_Favorites:269025072,XF86XK_AudioPause:269025073,XF86XK_AudioMedia:269025074,XF86XK_MyComputer:269025075,XF86XK_VendorHome:269025076,XF86XK_LightBulb:269025077,XF86XK_Shop:269025078,XF86XK_History:269025079,XF86XK_OpenURL:269025080,XF86XK_AddFavorite:269025081,XF86XK_HotLinks:269025082,XF86XK_BrightnessAdjust:269025083,XF86XK_Finance:269025084,XF86XK_Community:269025085,XF86XK_AudioRewind:269025086,XF86XK_BackForward:269025087,XF86XK_Launch0:269025088,XF86XK_Launch1:269025089,XF86XK_Launch2:269025090,XF86XK_Launch3:269025091,XF86XK_Launch4:269025092,XF86XK_Launch5:269025093,XF86XK_Launch6:269025094,XF86XK_Launch7:269025095,XF86XK_Launch8:269025096,XF86XK_Launch9:269025097,XF86XK_LaunchA:269025098,XF86XK_LaunchB:269025099,XF86XK_LaunchC:269025100,XF86XK_LaunchD:269025101,XF86XK_LaunchE:269025102,XF86XK_LaunchF:269025103,XF86XK_ApplicationLeft:269025104,XF86XK_ApplicationRight:269025105,XF86XK_Book:269025106,XF86XK_CD:269025107,XF86XK_Calculater:269025108,XF86XK_Clear:269025109,XF86XK_Close:269025110,XF86XK_Copy:269025111,XF86XK_Cut:269025112,XF86XK_Display:269025113,XF86XK_DOS:269025114,XF86XK_Documents:269025115,XF86XK_Excel:269025116,XF86XK_Explorer:269025117,XF86XK_Game:269025118,XF86XK_Go:269025119,XF86XK_iTouch:269025120,XF86XK_LogOff:269025121,XF86XK_Market:269025122,XF86XK_Meeting:269025123,XF86XK_MenuKB:269025125,XF86XK_MenuPB:269025126,XF86XK_MySites:269025127,XF86XK_New:269025128,XF86XK_News:269025129,XF86XK_OfficeHome:269025130,XF86XK_Open:269025131,XF86XK_Option:269025132,XF86XK_Paste:269025133,XF86XK_Phone:269025134,XF86XK_Q:269025136,XF86XK_Reply:269025138,XF86XK_Reload:269025139,XF86XK_RotateWindows:269025140,XF86XK_RotationPB:269025141,XF86XK_RotationKB:269025142,XF86XK_Save:269025143,XF86XK_ScrollUp:269025144,XF86XK_ScrollDown:269025145,XF86XK_ScrollClick:269025146,XF86XK_Send:269025147,XF86XK_Spell:269025148,XF86XK_SplitScreen:269025149,XF86XK_Support:269025150,XF86XK_TaskPane:269025151,XF86XK_Terminal:269025152,XF86XK_Tools:269025153,XF86XK_Travel:269025154,XF86XK_UserPB:269025156,XF86XK_User1KB:269025157,XF86XK_User2KB:269025158,XF86XK_Video:269025159,XF86XK_WheelButton:269025160,XF86XK_Word:269025161,XF86XK_Xfer:269025162,XF86XK_ZoomIn:269025163,XF86XK_ZoomOut:269025164,XF86XK_Away:269025165,XF86XK_Messenger:269025166,XF86XK_WebCam:269025167,XF86XK_MailForward:269025168,XF86XK_Pictures:269025169,XF86XK_Music:269025170,XF86XK_Battery:269025171,XF86XK_Bluetooth:269025172,XF86XK_WLAN:269025173,XF86XK_UWB:269025174,XF86XK_AudioForward:269025175,XF86XK_AudioRepeat:269025176,XF86XK_AudioRandomPlay:269025177,XF86XK_Subtitle:269025178,XF86XK_AudioCycleTrack:269025179,XF86XK_CycleAngle:269025180,XF86XK_FrameBack:269025181,XF86XK_FrameForward:269025182,XF86XK_Time:269025183,XF86XK_Select:269025184,XF86XK_View:269025185,XF86XK_TopMenu:269025186,XF86XK_Red:269025187,XF86XK_Green:269025188,XF86XK_Yellow:269025189,XF86XK_Blue:269025190,XF86XK_Suspend:269025191,XF86XK_Hibernate:269025192,XF86XK_TouchpadToggle:269025193,XF86XK_TouchpadOn:269025200,XF86XK_TouchpadOff:269025201,XF86XK_AudioMicMute:269025202,XF86XK_Switch_VT_1:269024769,XF86XK_Switch_VT_2:269024770,XF86XK_Switch_VT_3:269024771,XF86XK_Switch_VT_4:269024772,XF86XK_Switch_VT_5:269024773,XF86XK_Switch_VT_6:269024774,XF86XK_Switch_VT_7:269024775,XF86XK_Switch_VT_8:269024776,XF86XK_Switch_VT_9:269024777,XF86XK_Switch_VT_10:269024778,XF86XK_Switch_VT_11:269024779,XF86XK_Switch_VT_12:269024780,XF86XK_Ungrab:269024800,XF86XK_ClearGrab:269024801,XF86XK_Next_VMode:269024802,XF86XK_Prev_VMode:269024803,XF86XK_LogWindowTree:269024804,XF86XK_LogGrabInfo:269024805}}};var At=function(){var e=this,t=e._self._c;return t("div",{staticClass:"keyboard-letters"},[t("el-checkbox",{staticClass:"uppercase-toggle",attrs:{size:"mini"},model:{value:e.uppercase,callback:function(t){e.uppercase=t},expression:"uppercase"}},[e._v("大写")]),t("div",{staticClass:"letter-buttons"},e._l(e.currentLetters,(function(o,s){return t("el-button",{key:"shift-"+s,attrs:{size:"mini"},on:{click:function(t){return e.$emit("send-key",o.keysym)}}},[e._v(" "+e._s(o.display)+" ")])})),1)],1)},Tt=[];o(91038),o(78783);const Ft={name:"KeyboardLetters",data:function(){return{uppercase:!1}},computed:{currentLetters:function(){var e=this,t=Array.from({length:26},(function(t,o){var s=97+o,n=e.uppercase?String.fromCharCode(s-32):String.fromCharCode(s);return{display:n,keysym:"XK_".concat(n)}}));return t}}},Zt=Ft;var Bt=(0,w.Z)(Zt,At,Tt,!1,null,"904da486",null);const Et=Bt.exports;var Rt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"keyboard-numbers"},[t("div",{staticClass:"number-buttons"},e._l(e.currentNumbers,(function(o,s){return t("el-button",{key:"shift-"+s,attrs:{size:"mini"},on:{click:function(t){return e.$emit("send-key",o.keysym)}}},[e._v(" "+e._s(o.display)+" ")])})),1)])},Ut=[];const Qt={name:"KeyboardNumbers",computed:{currentNumbers:function(){var e=Array.from({length:10},(function(e,t){var o="".concat(t);return{display:o,keysym:"XK_".concat(o)}}));return e}}},Nt=Qt;var Pt=(0,w.Z)(Nt,Rt,Ut,!1,null,"0633b88a",null);const Lt=Pt.exports;var Dt=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"symbol-group"},e._l(e.symbols,(function(o,s){return t("el-button",{key:s,attrs:{size:"mini"},on:{click:function(t){return e.$emit(o.shift?"send-shift-key":"send-key",o.keysym)}}},[e._v(" "+e._s(o.display)+" ")])})),1)])},Ot=[];const zt={name:"KeyboardSymbols",data:function(){return{symbols:[{display:"`",keysym:"XK_quoteleft",shift:!1},{display:"-",keysym:"XK_minus",shift:!1},{display:"=",keysym:"XK_equal",shift:!1},{display:"/",keysym:"XK_slash",shift:!1},{display:"\\",keysym:"XK_bar",shift:!1},{display:"[",keysym:"XK_braceleft",shift:!1},{display:"]",keysym:"XK_braceright",shift:!1},{display:";",keysym:"XK_colon",shift:!1},{display:"'",keysym:"XK_quotedbl",shift:!1},{display:",",keysym:"XK_less",shift:!1},{display:".",keysym:"XK_period",shift:!1},{display:"~",keysym:"XK_quoteleft",shift:!0},{display:"!",keysym:"XK_1",shift:!0},{display:"@",keysym:"XK_2",shift:!0},{display:"#",keysym:"XK_3",shift:!0},{display:"$",keysym:"XK_4",shift:!0},{display:"%",keysym:"XK_5",shift:!0},{display:"^",keysym:"XK_6",shift:!0},{display:"&",keysym:"XK_7",shift:!0},{display:"*",keysym:"XK_8",shift:!0},{display:"(",keysym:"XK_9",shift:!0},{display:")",keysym:"XK_0",shift:!0},{display:"_",keysym:"XK_minus",shift:!0},{display:"+",keysym:"XK_equal",shift:!0},{display:"{",keysym:"XK_braceleft",shift:!0},{display:"}",keysym:"XK_braceright",shift:!0},{display:"|",keysym:"XK_bar",shift:!0},{display:":",keysym:"XK_colon",shift:!0},{display:'"',keysym:"XK_quotedbl",shift:!0},{display:"<",keysym:"XK_less",shift:!0},{display:">",keysym:"XK_period",shift:!0}]}}},Vt=zt;var Gt=(0,w.Z)(Vt,Dt,Ot,!1,null,"fd6e7786",null);const Mt=Gt.exports;var qt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"keyboard-functions"},[t("div",{staticClass:"function-group"},e._l(e.functions,(function(o,s){return t("el-button",{key:s,attrs:{size:"mini"},on:{click:function(t){return e.$emit("send-key",o.keysym)}}},[e._v(" "+e._s(o.label)+" ")])})),1)])},$t=[];const Ht={name:"KeyboardFunctions",data:function(){return{functions:{esc:{label:"ESC",keysym:"XK_Escape"},f1:{label:"F1",keysym:"XK_F1"},f2:{label:"F2",keysym:"XK_F2"},f3:{label:"F3",keysym:"XK_F3"},f4:{label:"F4",keysym:"XK_F4"},f5:{label:"F5",keysym:"XK_F5"},f6:{label:"F6",keysym:"XK_F6"},f7:{label:"F7",keysym:"XK_F7"},f8:{label:"F8",keysym:"XK_F8"},f9:{label:"F9",keysym:"XK_F9"},f10:{label:"F10",keysym:"XK_F10"},f11:{label:"F11",keysym:"XK_F11"},f12:{label:"F12",keysym:"XK_F12"},tab:{label:"Tab",keysym:"XK_Tab"},left:{label:"←",keysym:"XK_Left"},right:{label:"→",keysym:"XK_Right"},up:{label:"↑",keysym:"XK_Up"},down:{label:"↓",keysym:"XK_Down"},pgup:{label:"PgUp",keysym:"XK_Page_Up"},pgdn:{label:"PgDn",keysym:"XK_Page_Down"}}}}},Jt=Ht;var jt=(0,w.Z)(Jt,qt,$t,!1,null,"7be003da",null);const Wt=jt.exports;var Yt=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"global-group"},e._l(e.symbols,(function(o,s){return t("el-button",{key:s,attrs:{size:"mini"},on:{click:function(t){return e.$emit("send-key",o.keysym)}}},[e._v(" "+e._s(o.display)+" ")])})),1)])},eo=[];const to={name:"KeyboardGlobal",data:function(){return{symbols:[{display:"Space",keysym:"XK_space",shift:!1},{display:"Enter",keysym:"XK_KP_Enter",shift:!1},{display:"BackSpace",keysym:"XK_BackSpace",shift:!1}]}}},oo=to;var so=(0,w.Z)(oo,Yt,eo,!1,null,"537dfebd",null);const no=so.exports;var ao=function(){var e=this,t=e._self._c;return t("div",[t("div",[t("div",{staticClass:"global-group"},[t("el-checkbox-group",{model:{value:e.modifierKeys,callback:function(t){e.modifierKeys=t},expression:"modifierKeys"}},e._l(e.comboKeybord,(function(o){return t("el-checkbox",{key:o,staticStyle:{color:"white"},attrs:{label:o}},[e._v(e._s(o))])})),1)],1),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini"},on:{click:function(t){return e.$emit("send-controller-key",e.modifierKeys)}}},[e._v("发送")])],1)])},io=[];const ro={name:"KeyboardGlobal",data:function(){return{modifierKeys:[],comboKeybord:["Shift","Ctrl","Alt","Del"]}}},lo=ro;var co=(0,w.Z)(lo,ao,io,!1,null,"0f28a0f8",null);const uo=co.exports,_o={name:"VncView",components:{KeyboardLetters:Et,KeyboardNumbers:Lt,KeyboardSymbols:Mt,KeyboardFunctions:Wt,KeyboardGlobal:no,KeyboardController:uo},mixins:[St],inject:["check_full_screen"],data:function(){return{isCollapse:!1,comboKeybord:["Ctrl","Shift","Alt","Del"],inputTypes:[{label:"字母"},{label:"数字"},{label:"符号"},{label:"功能键"},{label:"组合键"}],activeInputType:0,modifierKeys:[],rfb:null,connectionStatus:"连接中...",guestId:this.$route.query.id,guestDesc:this.$route.query.description}},computed:{sidebarWidth:function(){return this.isCollapse?"64px":"240px"},websocketUrl:function(){var e="https:"===window.location.protocol?"wss":"ws";return"".concat(e,"://").concat(window.location.host,"/api/vnc/").concat(this.guestId)}},mounted:function(){this.check_full_screen(!0),this.initVncConnection()},beforeDestroy:function(){this.check_full_screen(!1),this.disconnectVnc()},methods:{toggleCollapse:function(){this.isCollapse=!this.isCollapse},initVncConnection:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){var o;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.z2)({guestId:e.guestId});case 3:if(o=t.sent,0===o.code){t.next=6;break}throw new Error("获取密码失败");case 6:e.rfb=new Kt.Z(e.$refs.vncContainer,e.websocketUrl,{credentials:{password:o.data},scaleViewport:!0,resizeSession:!0}),e.rfb.addEventListener("connect",e.handleConnect),e.rfb.addEventListener("disconnect",e.handleDisconnect),e.rfb.addEventListener("credentialsrequired",e.handleAuthRequired),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.connectionStatus="连接失败: ".concat(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},handleConnect:function(){this.connectionStatus="已连接至 ".concat(this.guestDesc)},handleDisconnect:function(e){this.connectionStatus=e.detail.clean?"正在重连 ".concat(this.guestDesc,"..."):"连接已断开 ".concat(this.guestDesc),e.detail.clean&&this.initVncConnection()},handleAuthRequired:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){var o;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.z2)({guestId:e.guestId});case 2:o=t.sent,0===o.code&&e.rfb.sendCredentials({password:o.data});case 4:case"end":return t.stop()}}),t)})))()},sendKey:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e&&this.rfb&&this.rfb.sendKey(this[e],t,o)},sendShiftKey:function(e){console.log(e),this.sendKey("XK_Shift_L","ShiftLeft",!0),this.sendKey(e),this.sendKey("XK_Shift_L","ShiftLeft",!1)},sendControllerKey:function(e){this.handleModifiers(e,"press"),this.handleModifiers(e,"release")},handleModifiers:function(e,t){var o=this,s={Ctrl:{key:this.XK_Control_L,code:"ControlLeft"},Shift:{key:this.XK_Shift_L,code:"ShiftLeft"},Alt:{key:this.XK_Alt_L,code:"AltLeft"},Del:{key:this.XK_Delete,code:"Delete"}};e.forEach((function(e){s[e]&&o.rfb.sendKey(s[e].key,s[e].code,"press"===t)}))},disconnectVnc:function(){this.rfb&&(this.rfb.disconnect(),this.rfb=null)}}},po=_o;var ho=(0,w.Z)(po,Ct,Xt,!1,null,"6a93d7a0",null);const mo=ho.exports;var fo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dashboard-container"},[t("el-row",{staticClass:"panel-group"},[t("div",{staticClass:"card-panel"},[t("div",{staticClass:"card-panel-icon-wrapper icon-message",on:{click:function(t){return e.go_route("Network")}}},[t("i",{staticClass:"el-icon-platform-eleme",staticStyle:{"font-size":"48px"}})]),t("div",{staticClass:"card-panel-description"},[t("div",{staticClass:"card-panel-text"},[e._v("网络数量")]),t("span",{staticClass:"card-panel-num"},[e._v(e._s(this.networks.length))])])]),t("div",{staticClass:"card-panel"},[t("div",{staticClass:"card-panel-icon-wrapper icon-message",on:{click:function(t){return e.go_route("Storage")}}},[t("i",{staticClass:"el-icon-coin",staticStyle:{"font-size":"48px"}})]),t("div",{staticClass:"card-panel-description"},[t("div",{staticClass:"card-panel-text"},[e._v("存储池数量")]),t("span",{staticClass:"card-panel-num"},[e._v(e._s(this.storages.length))])])]),t("div",{staticClass:"card-panel"},[t("div",{staticClass:"card-panel-icon-wrapper icon-message",on:{click:function(t){return e.go_route("Host")}}},[t("i",{staticClass:"el-icon-monitor",staticStyle:{"font-size":"48px"},attrs:{"class-name":"card-panel-icon"}})]),t("div",{staticClass:"card-panel-description"},[t("div",{staticClass:"card-panel-text"},[e._v("主机数量")]),t("span",{staticClass:"card-panel-num"},[e._v(e._s(this.hosts.length))])])]),t("div",{staticClass:"card-panel"},[t("div",{staticClass:"card-panel-icon-wrapper icon-message",on:{click:function(t){return e.go_route("Guest")}}},[t("i",{staticClass:"el-icon-s-platform",staticStyle:{"font-size":"48px"},attrs:{"class-name":"card-panel-icon"}})]),t("div",{staticClass:"card-panel-description"},[t("div",{staticClass:"card-panel-text"},[e._v("虚拟机数量")]),t("span",{staticClass:"card-panel-num"},[e._v(e._s(e.get_runing_guest_number())+" /"+e._s(this.guests.length))])])]),t("div",{staticClass:"card-panel"},[t("div",{staticClass:"card-panel-icon-wrapper icon-message",on:{click:function(t){return e.go_route("Volume")}}},[t("i",{staticClass:"el-icon-bank-card",staticStyle:{"font-size":"48px"},attrs:{"class-name":"card-panel-icon"}})]),t("div",{staticClass:"card-panel-description"},[t("div",{staticClass:"card-panel-text"},[e._v("磁盘数量")]),t("span",{staticClass:"card-panel-num"},[e._v(e._s(this.volumes.length))])])])]),t("el-row",[t("el-card",[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("主机信息")])]),t("el-container",[t("el-aside",{attrs:{width:"300px"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"已使用:"+e.get_allocat_cpu()+"核 / 总共:"+e.get_total_cpu()+"核",placement:"top"}},[t("el-progress",{attrs:{format:e.get_cpu_progress_title,type:"circle",percentage:Math.min(100,e.totalCpuPercentage),color:"#67C23A"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"已使用:"+e.get_memory_desplay(e.get_allocat_memory())+" / 总共:"+e.get_memory_desplay(e.get_total_memory()),placement:"top"}},[t("el-progress",{attrs:{format:e.get_memory_progress_title,type:"circle",percentage:Math.min(100,e.totalMemoryePercentage),color:"#67C23A"}})],1)],1)],1)],1),t("el-container",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.hosts}},[t("el-table-column",{attrs:{label:"名称",prop:"displayName","max-width":"200","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"主机IP",prop:"hostIp",width:"150","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"CPU","max-width":"150"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"已使用:"+e.row.allocationCpu+"核 / 总共:"+e.row.totalCpu+"核",placement:"top"}},[t("el-progress",{attrs:{color:"#67C23A",percentage:e.row.totalCpu<=0?0:Math.min(100,Math.floor(100*e.row.allocationCpu/e.row.totalCpu))}})],1)]}}])}),t("el-table-column",{attrs:{label:"内存","max-width":"150"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"已使用:"+e.get_memory_desplay(o.row.allocationMemory)+" / 总共:"+e.get_memory_desplay(o.row.totalMemory),placement:"top"}},[t("el-progress",{attrs:{color:"#67C23A",percentage:o.row.totalMemory<=0?0:Math.min(100,Math.floor(100*o.row.allocationMemory/o.row.totalMemory))}})],1)]}}])}),t("el-table-column")],1)],1)],1)],1),t("el-card",{staticClass:"dashbord-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("存储池")])]),t("el-container",[t("el-aside",{attrs:{width:"200px"}},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"已用:"+e.get_storage_desplay(e.get_allocat_storage())+" / 总共:"+e.get_storage_desplay(e.get_total_capacity()),placement:"top"}},[t("el-progress",{attrs:{type:"circle",format:e.get_storage_progress_title,percentage:Math.min(100,e.totalStoragePercentage),color:"#67C23A"}})],1)],1),t("el-container",[t("el-table",{attrs:{data:e.storages}},[t("el-table-column",{attrs:{label:"名称",prop:"description",width:"250","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"类型",prop:"type",width:"120"}}),t("el-table-column",{attrs:{label:"容量",prop:"capacity",width:"200"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"已用:"+e.get_storage_desplay(o.row.allocation)+" / 总共:"+e.get_storage_desplay(o.row.capacity),placement:"top"}},[t("el-progress",{attrs:{color:"#67C23A",percentage:o.row.capacity<=0?0:Math.min(100,Math.floor(100*o.row.allocation/o.row.capacity))}})],1)]}}])}),t("el-table-column")],1)],1)],1)],1)],1)],1)},go=[];o(91058),o(56977);const wo={name:"guestView",components:{},data:function(){return{hosts:[],networks:[],storages:[],volumes:[],guests:[],totalStoragePercentage:0,totalCpuPercentage:0,totalMemoryePercentage:0}},mounted:function(){this.init_data()},methods:{go_route:function(e){this.$router.push({path:e})},init_data:function(){var e=this;(0,u.vZ)().then((function(t){0===t.code&&(e.hosts=t.data,e.totalCpuPercentage=e.get_total_cpu()<=0?0:Math.floor(100*e.get_allocat_cpu()/e.get_total_cpu()),e.totalMemoryePercentage=e.get_total_memory()<=0?0:Math.floor(100*e.get_allocat_memory()/e.get_total_memory()))})),(0,u.jR)().then((function(t){0===t.code&&(e.networks=t.data)})),(0,u._u)().then((function(t){0===t.code&&(e.storages=t.data)})),(0,u.Mm)().then((function(t){0===t.code&&(e.volumes=t.data)})),(0,u.Xj)().then((function(t){0===t.code&&(e.guests=t.data)})),(0,u._u)().then((function(t){0===t.code&&(e.storages=t.data,e.totalStoragePercentage=e.get_total_capacity()<=0?0:parseInt(100*e.get_allocat_storage()/e.get_total_capacity()))}))},get_runing_guest_number:function(){return this.guests.filter((function(e){return 2===e.status})).length},get_storage_desplay:function(e){return e>1099511627776?(e/1099511627776).toFixed(2)+" TB":e>1073741824?(e/1073741824).toFixed(2)+" GB":e>1048576?(e/1048576).toFixed(2)+" MB":e>1024?(e/1024).toFixed(2)+"  KB":e+"  bytes"},get_memory_desplay:function(e){return e>1048576?(e/1048576).toFixed(2)+" GB":e>1024?(e/1024).toFixed(2)+"  MB":void 0},get_total_memory:function(){var e=0;return this.hosts.forEach((function(t){return e+=t.totalMemory})),e},get_allocat_memory:function(){var e=0;return this.hosts.forEach((function(t){return e+=t.allocationMemory})),e},get_total_cpu:function(){var e=0;return this.hosts.forEach((function(t){return e+=t.totalCpu})),e},get_allocat_cpu:function(){var e=0;return this.hosts.forEach((function(t){return e+=t.allocationCpu})),e},locat_cpu:function(){var e=0;return this.hosts.forEach((function(t){return e+=t.allocationCpu})),e},get_total_capacity:function(){var e=0;return this.storages.forEach((function(t){return e+=t.capacity})),e},get_allocat_storage:function(){var e=0;return this.storages.forEach((function(t){return e+=t.allocation})),e},get_cpu_progress_title:function(e){return"总内核:"+e+"%"},get_memory_progress_title:function(e){return"总内存:"+e+"%"},get_storage_progress_title:function(e){return"总存储:"+e+"%"}}},vo=wo;var yo=(0,w.Z)(vo,fo,go,!1,null,"395b9ca2",null);const bo=yo.exports;var ko=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-main",[t("el-card",{directives:[{name:"show",rawName:"v-show",value:0===this.show_type,expression:"this.show_type === 0"}],staticClass:"box-card"},[t("el-row",{staticClass:"clearfix",staticStyle:{height:"20px"},attrs:{slot:"header"},slot:"header"},[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.show_create_user_click}},[e._v("注册用户")])],1),t("el-row",[t("el-table",{staticStyle:{width:"100%"},attrs:{"v-loading":e.data_loading,data:e.users,border:""}},[t("el-table-column",{attrs:{label:"ID",prop:"userId",width:"80"}}),t("el-table-column",{attrs:{label:"用户名",prop:"loginName","min-width":"200"}}),t("el-table-column",{attrs:{label:"状态",prop:"state",width:"180"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-tag",{attrs:{type:0===o.row.state?"success":"danger"}},[e._v(e._s(0===o.row.state?"启用":"禁用"))])]}}])}),t("el-table-column",{attrs:{label:"操作",width:"500"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"",size:"mini"},on:{click:function(t){return e.show_reset_password_click(o.row)}}},[e._v("重置密码")]),1===o.row.state?t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.update_user_state_click(o.row,0)}}},[e._v("启用")]):e._e(),0===o.row.state?t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.update_user_state_click(o.row,1)}}},[e._v("禁用")]):e._e(),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.destroy_user_click(o.row)}}},[e._v("删除")])]}}])})],1)],1)],1),t("el-card",{directives:[{name:"show",rawName:"v-show",value:1===this.show_type,expression:"this.show_type === 1"}],staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"注册用户"},on:{back:function(t){return e.show_user_list()}}})],1),t("el-row",[t("el-form",{ref:"createForm",staticClass:"demo-ruleForm",attrs:{model:e.create_user,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"登录名",prop:"loginName"}},[t("el-input",{model:{value:e.create_user.loginName,callback:function(t){e.$set(e.create_user,"loginName",t)},expression:"create_user.loginName"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{"show-password":""},model:{value:e.create_user.password,callback:function(t){e.$set(e.create_user,"password",t)},expression:"create_user.password"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.on_create_user_click}},[e._v("注册")]),t("el-button",{on:{click:e.show_user_list}},[e._v("取消")])],1)],1)],1)],1),t("el-dialog",{attrs:{title:"重置密码",visible:e.reset_passwor_dialog_visiable,width:"300px"},on:{"update:visible":function(t){e.reset_passwor_dialog_visiable=t}}},[t("el-form",{ref:"resetPasswordForm",attrs:{model:e.reset_password_user,"label-width":"60px"}},[t("el-form-item",{attrs:{label:"密码"}},[t("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.reset_password_user.password,callback:function(t){e.$set(e.reset_password_user,"password",t)},expression:"reset_password_user.password"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.reset_passwor_dialog_visiable=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.on_reset_password_click}},[e._v("确 定")])],1)],1)],1)],1)],1)},Io=[];const xo={name:"userView",components:{},data:function(){return{data_loading:!1,current_loading:!1,reset_passwor_dialog_visiable:!1,show_type:0,create_user:{loginName:"",password:""},reset_password_user:{userId:0,password:""},users:[]}},mounted:function(){this.init_view(),this.show_type=0},methods:{init_view:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.data_loading=!0,t.next=3,(0,u.lE)().then((function(t){0==t.code&&(e.users=t.data)}))["finally"]((function(){e.data_loading=!1}));case 3:case"end":return t.stop()}}),t)})))()},show_user_list:function(){this.show_type=0},show_create_user_click:function(){this.$refs["createForm"]&&this.$refs["createForm"].resetFields(),this.show_type=1},show_reset_password_click:function(e){this.$refs["resetPasswordForm"]&&this.$refs["resetPasswordForm"].resetFields(),this.reset_password_user.userId=e.userId,this.reset_password_user.password="",this.reset_passwor_dialog_visiable=!0},update_user_info:function(e){var t=this.users.findIndex((function(t){return t.userId===e.userId}));t>=0?this.$set(this.users,t,e):this.users.push(e),this.show_user&&this.show_user.userId===e.userId&&(this.show_user=e)},on_create_user_click:function(){var e=this;(0,u.a$)(this.create_user).then((function(t){0===t.code?(e.update_user_info(t.data),e.show_type=0):e.$notify.error({title:"错误",message:"注册用户失败:".concat(t.message)})}))},on_reset_password_click:function(){var e=this;this.$confirm("重置密码, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.h8)(e.reset_password_user).then((function(t){0===t.code?(e.update_user_info(t.data),e.reset_passwor_dialog_visiable=!1):e.$notify.error({title:"错误",message:"重置密码失败:".concat(t.message)})}))}))["catch"]((function(){}))},update_user_state_click:function(e,t){var o=this,s=0===t?"启用用户":"禁用用户";this.$confirm("".concat(s,", 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.eV)({userId:e.userId,state:t}).then((function(e){0===e.code?o.update_user_info(e.data):o.$notify.error({title:"错误",message:"".concat(s,"失败:").concat(e.message)})}))}))["catch"]((function(){}))},destroy_user_click:function(e){var t=this;this.$confirm("删除用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.GE)({userId:e.userId}).then((function(o){if(0===o.code){var s=t.users.findIndex((function(t){return t.userId===e.userId}));s>=0&&t.users.splice(s,1)}else t.$notify.error({title:"错误",message:"删除用户失败:".concat(o.message)})}))}))["catch"]((function(){}))}}},Co=xo;var Xo=(0,w.Z)(Co,ko,Io,!1,null,"368862af",null);const Ko=Xo.exports;var So=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container",attrs:{id:"main"}},["Login"!==e.show_type||this.oauth.enalbe?e._e():t("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-page",attrs:{"label-position":"left","label-width":"0px","status-icon":""}},[t("h3",{staticClass:"title"},[e._v("KVM Cloud Login")]),t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{"auto-complete":"off",autofocus:"true",placeholder:"用户名","prefix-icon":"el-icon-s-custom",type:"text"},model:{value:e.loginData.loginName,callback:function(t){e.$set(e.loginData,"loginName",t)},expression:"loginData.loginName"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{"show-password":!0,"auto-complete":"off",placeholder:"密码","prefix-icon":"el-icon-lock",type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.loginData.password,callback:function(t){e.$set(e.loginData,"password",t)},expression:"loginData.password"}})],1),t("el-form-item",{staticStyle:{width:"100%"}},[t("el-button",{staticStyle:{width:"100%"},attrs:{disabled:""==e.loginData.loginName||""==e.loginData.password,loading:e.loading,type:"primary"},on:{click:e.login}},[e._v("登录")])],1)],1),"Loading"===e.show_type?t("el-form",{staticClass:"login-page",attrs:{"label-position":"left","label-width":"0px","status-icon":""}},[t("div",{staticClass:"title"},[e._v(e._s(this.oauth.title))]),t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticStyle:{height:"80px","font-size":"30px","margin-bottom":"10px"},attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"正在登录,请稍后..."}})]):e._e(),"Error"===e.show_type?t("el-form",{staticClass:"login-page",attrs:{"label-position":"left","label-width":"0px","status-icon":""}},[t("div",{staticClass:"title"},[e._v(e._s(this.oauth.title))]),t("div",[t("strong",{staticStyle:{color:"red"}},[e._v(e._s(this.errorMessage))])]),t("div",{staticClass:"register"},[t("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.go_login()}}},[e._v("重新登录")])],1)]):e._e()],1)},Ao=[];const To={name:"loginView",inject:["check_full_screen"],data:function(){return{loginData:{loginName:"",password:""},oauth:{enable:!1,title:" Oauth2 登录"},show_type:"",errorMessage:"",loading:!1}},mounted:function(){var e=this;this.check_full_screen(!0),(0,u.kH)().then((function(t){if(0===t.code)if(t.data.oauth&&(e.oauth.title=t.data.oauth.title,e.oauth.enable=t.data.oauth.enable),e.oauth.enable){var o=e.$route.query.code;o&&""!==o?(0,u.rd)({code:o}).then((function(t){if(0!==t.code)e.errorMessage="登录失败,服务器返回如下:\r\n".concat(t.message),e.show_type="Error";else{localStorage.setItem("X-Token",t.data.token);var o=localStorage.getItem("X-Back");localStorage.removeItem("X-Back"),o?window.location.href=o:e.$router.push({path:"/"})}})):e.go_login()}else e.show_type="Login";else e.show_type="Login"}))},beforeDestroy:function(){this.check_full_screen(!1)},methods:{login:function(){var e=this;this.loading=!0,(0,u.kI)({loginName:this.loginData.loginName}).then((function(t){if(0===t.code){var o=window.sha256_digest(window.sha256_digest(e.loginData.password+":"+t.data.signature)+":"+t.data.nonce);(0,u.pH)({loginName:e.loginData.loginName,password:o,nonce:t.data.nonce}).then((function(t){if(0===t.code){localStorage.setItem("X-Token",t.data.token);var o=localStorage.getItem("X-Back");localStorage.removeItem("X-Back"),o?window.location.href=o:e.$router.push({path:"/"})}else e.$notify.error({title:"错误",duration:3e3,message:"登录失败:".concat(t.message)})}))["finally"]((function(){e.loading=!1}))}else e.$notify.error({title:"错误",duration:3e3,message:"登录失败:".concat(t.message)})}))["finally"]((function(){e.loading=!1}))},go_login:function(){window.location.href="/login"},show_login:function(){this.show_type="Login"}}},Fo=To;var Zo=(0,w.Z)(Fo,So,Ao,!1,null,"da6fbb2c",null);const Bo=Zo.exports;var Eo=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-main",[t("el-card",{directives:[{name:"show",rawName:"v-show",value:0===this.show_type,expression:"this.show_type === 0"}],staticClass:"box-card"},[t("el-row",{staticClass:"clearfix",staticStyle:{height:"20px"},attrs:{slot:"header"},slot:"header"},[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.show_create_ssh_click}},[e._v("创建密钥")]),t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-upload"},on:{click:e.show_import_ssh_click}},[e._v("导入密钥")])],1),t("el-row",[t("el-table",{staticStyle:{width:"100%"},attrs:{"v-loading":e.data_loading,data:e.sshs,border:""}},[t("el-table-column",{attrs:{label:"ID",prop:"id",width:"80"}}),t("el-table-column",{attrs:{label:"名称",prop:"name",width:"300","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"操作","min-width":"380"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.download_sshAuthorized_privateKey(o.row)}}},[e._v("下载私钥")]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.destroy_sshAuthorized(o.row)}}},[e._v("删除")])]}}])})],1)],1)],1),t("ImportSshComponent",{directives:[{name:"show",rawName:"v-show",value:1===this.show_type,expression:"this.show_type === 1"}],ref:"ImportSshComponentRef",on:{back:function(t){return e.show_ssh_list()},onSshUpdate:e.update_ssh}}),t("CreateSshComponent",{directives:[{name:"show",rawName:"v-show",value:2===this.show_type,expression:"this.show_type === 2"}],ref:"CreateSshComponentRef",on:{back:function(t){return e.show_ssh_list()},onSshUpdate:e.update_ssh}})],1)],1)],1)},Ro=[],Uo=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"导入密钥"},on:{back:function(t){return e.on_back_click()}}})],1),t("el-row",[t("el-form",{ref:"createForm",staticClass:"demo-ruleForm",attrs:{model:e.import_ssh,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"名称",prop:"name"}},[t("el-input",{model:{value:e.import_ssh.name,callback:function(t){e.$set(e.import_ssh,"name",t)},expression:"import_ssh.name"}})],1),t("el-form-item",{attrs:{label:"公钥内容",prop:"key"}},[t("el-input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:1e3}},model:{value:e.import_ssh.publciKey,callback:function(t){e.$set(e.import_ssh,"publciKey",t)},expression:"import_ssh.publciKey"}})],1),t("el-form-item",{attrs:{label:"私钥内容",prop:"key"}},[t("el-input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:1e3}},model:{value:e.import_ssh["private"],callback:function(t){e.$set(e.import_ssh,"private",t)},expression:"import_ssh.private"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.import_ssh_click}},[e._v("导入")]),t("el-button",{on:{click:e.on_back_click}},[e._v("取消")])],1)],1)],1)],1)},Qo=[];const No={data:function(){return{import_ssh:{name:"",publciKey:"",privateKey:""}}},methods:{on_back_click:function(){this.$emit("back")},on_notify_update_sshAuthorized:function(e){this.$emit("onSshUpdate",e)},init:function(){this.$refs["createForm"]&&this.$refs["createForm"].resetFields()},import_ssh_click:function(){var e=this;(0,u.Kw)(this.import_ssh).then((function(t){0===t.code?(e.on_notify_update_sshAuthorized(t.data),e.on_back_click()):e.$notify.error({title:"错误",message:"导入密钥失败:".concat(t.message)})}))}}},Po=No;var Lo=(0,w.Z)(Po,Uo,Qo,!1,null,null,null);const Do=Lo.exports;var Oo=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-page-header",{staticStyle:{color:"#409eff"},attrs:{content:"创建密钥"},on:{back:function(t){return e.on_back_click()}}})],1),t("el-row",[t("el-form",{ref:"createForm",staticClass:"demo-ruleForm",attrs:{model:e.create_ssh,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"名称",prop:"name"}},[t("el-input",{model:{value:e.create_ssh.name,callback:function(t){e.$set(e.create_ssh,"name",t)},expression:"create_ssh.name"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.create_ssh_click}},[e._v("立即创建")]),t("el-button",{on:{click:e.on_back_click}},[e._v("取消")])],1)],1)],1)],1)},zo=[];const Vo={data:function(){return{create_ssh:{name:""}}},methods:{on_back_click:function(){this.$emit("back")},on_notify_update_sshAuthorized:function(e){this.$emit("onSshUpdate",e)},init:function(){this.$refs["createForm"]&&this.$refs["createForm"].resetFields()},create_ssh_click:function(){var e=this;(0,u.w1)(this.create_ssh).then((function(t){0===t.code?(e.on_notify_update_sshAuthorized(t.data),e.on_back_click()):e.$notify.error({title:"错误",message:"创建密钥失败:".concat(t.message)})}))}}},Go=Vo;var Mo=(0,w.Z)(Go,Oo,zo,!1,null,null,null);const qo=Mo.exports,$o={name:"sshAuthorizedView",components:{ImportSshComponent:Do,CreateSshComponent:qo},data:function(){return{data_loading:!1,current_ssh_id:0,show_type:-1,show_ssh:{},sshs:[]}},mixins:[h.Z,c.Z],mounted:function(){this.show_type=0,this.init_view()},created:function(){this.subscribe_notify(this.$options.name,this.dispatch_notify_message),this.subscribe_connect_notify(this.$options.name,this.reload_page),this.init_notify()},beforeDestroy:function(){this.unsubscribe_notify(this.$options.name),this.unsubscribe_connect_notify(this.$options.name)},methods:{reload_page:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init_view();case 1:case"end":return t.stop()}}),t)})))()},init_view:function(){var e=this;return(0,l.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.data_loading=!0,t.next=3,(0,u.$G)().then((function(t){0==t.code&&(e.sshs=t.data)}))["finally"]((function(){e.data_loading=!1}));case 3:case"end":return t.stop()}}),t)})))()},update_ssh:function(e){var t=this.sshs.findIndex((function(t){return t.id===e.id}));t>=0?this.$set(this.sshs,t,e):this.sshs.push(e),this.$forceUpdate()},dispatch_notify_message:function(e){if(13===e.type){var t=e.data;if(0==t.code)this.update_ssh(t.data);else if(12000001==t.code){var o=this.sshs.findIndex((function(t){return t.id===e.id}));o>=0&&this.sshs.splice(o,1)}this.$forceUpdate()}},show_ssh_list:function(){this.show_type=0},show_import_ssh_click:function(){this.show_type=1,this.$refs.ImportSshComponentRef.init()},show_create_ssh_click:function(){this.show_type=2,this.$refs.CreateSshComponentRef.init()},download_sshAuthorized_privateKey:function(e){var t=this;console.log(e),(0,u.Z8)({id:e.id}).then((function(e){if(0===e.code){console.log(e.data);var o="//".concat(window.location.host,"/api/ssh/download?token=").concat(e.data);window.open(o,"_blank")}else t.$notify.error({title:"错误",message:"创建密钥下载Key失败:".concat(e.message)})}))},destroy_sshAuthorized:function(e){var t=this;this.$confirm("删除密钥, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,u.YX)({id:e.id}).then((function(o){if(0===o.code){var s=t.sshs.findIndex((function(t){return t.id===e.id}));s>=0&&t.sshs.splice(s,1),t.show_type=0}else t.$notify.error({title:"错误",message:"删除密钥失败:".concat(o.message)})}))}))["catch"]((function(){}))}}},Ho=$o;var Jo=(0,w.Z)(Ho,Eo,Ro,!1,null,"41a53e75",null);const jo=Jo.exports;var Wo=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-main",[t("ConfigComponent",{ref:"ConfigComponentRef"})],1)],1)],1)},Yo=[],es=o(56768);const ts={name:"ConfigView",components:{ConfigComponent:es.Z},data:function(){return{}},mounted:function(){this.$refs.ConfigComponentRef.init(0,0)}},os=ts;var ss=(0,w.Z)(os,Wo,Yo,!1,null,"1ba9c387",null);const ns=ss.exports;s["default"].use(n.ZP);var as=[{path:"/",name:"Home",component:bo},{path:"/Vnc",name:"Vnc",component:mo},{path:"/Guest",name:"Guest",component:xt},{path:"/Network",name:"Network",component:T},{path:"/Host",name:"Host",component:z},{path:"/Storage",name:"Storage",component:oe},{path:"/Template",name:"Template",component:he},{path:"/Volume",name:"Volume",component:Ce},{path:"/Ssh",name:"Ssh",component:jo},{path:"/Scheme",name:"Scheme",component:Ve},{path:"/Group",name:"Group",component:lt},{path:"/User",name:"User",component:Ko},{path:"/Login",name:"Login",component:Bo},{path:"/Config",name:"Config",component:ns}],is=new n.ZP({routes:as});const rs=is},66949:(e,t,o)=>{"use strict";e.exports=o.p+"img/logo.047618b0.png"},92771:(e,t,o)=>{"use strict";e.exports=o.p+"img/Android.07819634.png"},54227:(e,t,o)=>{"use strict";e.exports=o.p+"img/Centos.e62ed396.png"},83330:(e,t,o)=>{"use strict";e.exports=o.p+"img/Debian.17ca4659.png"},2369:(e,t,o)=>{"use strict";e.exports=o.p+"img/Deepin.aa90c7be.png"},59662:(e,t,o)=>{"use strict";e.exports=o.p+"img/Linux.2d3921b4.png"},46709:e=>{"use strict";e.exports="data:image/png;base64,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"},59519:(e,t,o)=>{"use strict";e.exports=o.p+"img/Oracle.256b8c91.png"},15397:(e,t,o)=>{"use strict";e.exports=o.p+"img/RedHat.89cdf231.png"},6899:e=>{"use strict";e.exports="data:image/png;base64,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"},76628:(e,t,o)=>{"use strict";e.exports=o.p+"img/Ubuntu.0619bf9a.png"},16130:e=>{"use strict";e.exports="data:image/png;base64,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"},22195:e=>{"use strict";e.exports="data:image/png;base64,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"},24654:()=>{}},t={};function o(s){var n=t[s];if(void 0!==n)return n.exports;var a=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.m=e,(()=>{o.amdO={}})(),(()=>{var e=[];o.O=(t,s,n,a)=>{if(!s){var i=1/0;for(u=0;u<e.length;u++){for(var[s,n,a]=e[u],r=!0,l=0;l<s.length;l++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](s[l])))?s.splice(l--,1):(r=!1,a<i&&(i=a));if(r){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[s,n,a]}})(),(()=>{o.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return o.d(t,{a:t}),t}})(),(()=>{o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{o.p="/"})(),(()=>{var e={143:0};o.O.j=t=>0===e[t];var t=(t,s)=>{var n,a,[i,r,l]=s,c=0;if(i.some((t=>0!==e[t]))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(l)var u=l(o)}for(t&&t(s);c<i.length;c++)a=i[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},s=self["webpackChunkcloud"]=self["webpackChunkcloud"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=o.O(void 0,[998],(()=>o(70750)));s=o.O(s)})();