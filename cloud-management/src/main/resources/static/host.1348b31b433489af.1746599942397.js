"use strict";(self["webpackChunkkvm_cloud_web"]=self["webpackChunkkvm_cloud_web"]||[]).push([[965],{573:function(e,t,l){l.d(t,{fR:function(){return f}});var a=l(6918),o=l(4673),n=l(1654),r=l(2267);const i=(0,r.b_)({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:(0,r.jq)(String),default:"solid"}});var c=l(7860),s=l(7636);const u=(0,a.pM)({name:"ElDivider"}),d=(0,a.pM)({...u,props:i,setup(e){const t=e,l=(0,s.DU)("divider"),r=(0,a.EW)((()=>l.cssVar({"border-style":t.borderStyle})));return(e,t)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,o.C4)([(0,n.R1)(l).b(),(0,n.R1)(l).m(e.direction)]),style:(0,o.Tr)((0,n.R1)(r)),role:"separator"},[e.$slots.default&&"vertical"!==e.direction?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,o.C4)([(0,n.R1)(l).e("text"),(0,n.R1)(l).is(e.contentPosition)])},[(0,a.RG)(e.$slots,"default")],2)):(0,a.Q3)("v-if",!0)],6))}});var b=(0,c.A)(d,[["__file","divider.vue"]]),p=l(713);const f=(0,p.GU)(b)},3215:function(e,t,l){l.d(t,{A:function(){return o}});var a=l(6918);function o(e,t,l,o){const n=(0,a.WQ)("websocket");(0,a.sV)((()=>{n.subscribe_notify(e,(e=>{if(4===e.type){let t=e.data;0==t.code?l(t.data):7000001==t.code&&o(e.id)}})),n.subscribe_connect_notify(e,(()=>{t()})),n.init(),t()})),(0,a.xo)((()=>{n.unsubscribe_notify(e),n.unsubscribe_connect_notify(e)}))}},3568:function(e,t,l){l(4974)},3597:function(e,t,l){l.d(t,{M0:function(){return n},Ns:function(){return o},iQ:function(){return u},q5:function(){return s},sg:function(){return c},tL:function(){return r},zU:function(){return i}});var a=l(3162);const o=(e={})=>(0,a.A)({url:"api/host/info",params:e}),n=(e={})=>(0,a.A)({url:"api/host/all",params:e}),r=(e={})=>(0,a.A)({url:"api/host/search",params:e}),i=(e={})=>(0,a.A)({url:"api/host/create",params:e,method:"put"}),c=(e={})=>(0,a.A)({url:"api/host/register",data:e,method:"POST"}),s=(e={})=>(0,a.A)({url:"api/host/maintenance",data:e,method:"POST"}),u=(e={})=>(0,a.A)({url:"api/host/destroy",params:e,method:"delete"})},3912:function(e,t,l){l.d(t,{A:function(){return s}});var a=l(6918);const o={t:"1745291014407",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"15517",width:"200",height:"200"};function n(e,t){return(0,a.uX)(),(0,a.CE)("svg",o,t[0]||(t[0]=[(0,a.Lk)("path",{d:"M168 88l-18.016 16.992-44.992 44.992-16.992 18.016 12.992 20.992 67.008 112 8.992 16H271.04l128 127.008c-114.336 114.912-259.84 260.8-264.992 266.016-50.144 50.112-50.304 132.288 0.96 180 50.08 49.376 131.456 50.624 179.04 0l0.96-1.024L512 691.008l198.016 198.976 2.976 2.016c50.208 47.392 130.112 47.936 177.024-2.016v-0.96h0.96c49.024-50.112 49.536-131.584-0.96-179.04l-1.024-0.96-166.976-166.016c112.32-10.464 200.32-105.376 201.984-220h0.992c0.064-0.672-0.064-1.344 0-2.016V320c3.104-37.024-4.832-72.32-24-103.008L879.04 183.04l-28 28-121.024 120.992-44.992-47.008 118.016-117.984 33.984-34.016-44-17.984A224.096 224.096 0 0 0 704 96c-123.04 0-224 100.96-224 224 0 13.408 2.848 25.056 4.992 36.992-14.016 14.08-24.544 25.504-40.992 42.016L316.992 272V176.992l-16-8.992-112-67.008-20.992-12.992zM704 160c4.544 0 7.68 2.624 12 3.008l-99.008 98.976-21.984 22.016 21.984 23.008 90.016 92.992 21.984 23.008 23.008-23.008 104-104c0.672 7.36 5.824 12.736 4.992 20.992V320c0 88.16-71.84 160-160 160-11.712 0-25.984-2.816-41.984-6.016l-17.024-2.976-12 12-360.96 361.984h-1.024v1.024c-22.784 24.864-62.528 25.44-88.992-1.024v-0.992h-1.024c-24.864-22.784-25.44-62.528 1.024-88.992 12.096-12.128 247.008-249.024 361.984-364l13.024-12.992-5.024-18.016A198.08 198.08 0 0 1 544 320c0-88.16 71.84-160 160-160z m-526.016 8l75.008 46.016v32l-6.976 6.976h-32L168 178.016l10.016-10.016z m468 388.992l199.04 198.016v0.992h0.96c24.896 22.784 25.472 62.528-0.96 88.992h-1.024v1.024c-22.784 24.864-62.528 25.44-88.992-1.024l-198.016-198.976 89.024-89.024z","p-id":"15518"},null,-1)]))}var r=l(3508);const i={},c=(0,r.A)(i,[["render",n]]);var s=c},4493:function(e,t,l){l.r(t),l.d(t,{default:function(){return E}});var a=l(6845),o=(l(4974),l(8206),l(6192)),n=(l(7063),l(8301)),r=(l(6810),l(4639),l(7477)),i=(l(6788),l(3295)),c=(l(9994),l(6951)),s=(l(5560),l(4279)),u=(l(3110),l(6672),l(7836)),d=(l(3020),l(6918)),b=l(4673),p=l(1654),f=l(3597),m=l(6555),v=l(2303),h=l(8830),k=l(3912),g=l(3215),_=l(7471),R=l(1421),y=l(9451),$=l(7445),j=l(8180),w=l(7774);l(6447),l(5280);const C={class:"flex items-center"};var F=Object.assign({name:"ViewHost"},{__name:"ViewHost",setup(e){const t=(0,y.rd)(),l=(0,y.lq)(),{t:F}=(0,$.s9)(),W=(0,p.KR)("first"),x=(0,p.KR)({hostId:0,displayName:"",hostIp:"",hostName:"",nic:"",uri:"",allocationMemory:0,allocationCpu:0,totalMemory:0,totalCpu:0,hypervisor:"",emulator:"",osName:"",osVersion:"",model:"",arch:"",vendor:"",frequency:0,cores:0,threads:0,sockets:0,status:0,createTime:(new Date).getTime()}),E=(0,p.KR)(!0);function I(){E.value=!0,(0,f.Ns)({hostId:l.params.id}).then((e=>{0===e.code?x.value=e.data:(0,j.nk)({type:"error",message:e.message})})).finally((()=>{E.value=!1}))}function V(e){e===x.value.hostId&&L()}function L(){t.back(-1)}function X(){w.s.confirm(F("cj.dialog.host.deleteConfirm"),"Warning",{confirmButtonText:F("cj.btn.basic.confirm"),cancelButtonText:F("cj.btn.basic.cancel"),type:"warning"}).then((()=>{(0,f.iQ)({hostId:x.value.hostId}).then((e=>{0===e.code?(L(),(0,R.z)(e)):(0,R.U)(e)}))}))}function T(){w.s.confirm(F("cj.dialog.host.maintenanceConfirm"),"Warning",{confirmButtonText:F("cj.btn.basic.confirm"),cancelButtonText:F("cj.btn.basic.cancel"),type:"warning"}).then((()=>{(0,f.q5)({hostId:x.value.hostId}).then((e=>{0===e.code?(z(e.data),(0,R.z)(e)):(0,R.U)(e)}))}))}function M(){w.s.confirm(F("cj.dialog.host.registerConfirm"),"Info",{confirmButtonText:F("cj.btn.basic.confirm"),cancelButtonText:F("cj.btn.basic.cancel"),type:"info"}).then((()=>{(0,f.sg)({hostId:x.value.hostId}).then((e=>{0===e.code?(z(e.data),(0,R.z)(e)):(0,R.U)(e)}))}))}function z(e){e.hostId===x.value.hostId&&Object.assign(x.value,e)}return(0,g.A)("host_detail",I,z,V),(e,t)=>{const f=u.S2,g=s.MF,R=s.TS,y=c.ve,$=i.R7,j=r.u,w=n.v$,F=n.q,I=o.IO,V=(0,d.gN)("Admin"),z=a.L;return(0,d.uX)(),(0,d.CE)("div",null,[(0,d.bF)(I,{onBack:L},{content:(0,d.k6)((()=>[(0,d.Lk)("span",null,(0,b.v_)(e.$t("cj.tabs.host")),1)])),extra:(0,d.k6)((()=>[(0,d.Lk)("div",C,[1!==(0,p.R1)(x).status?(0,d.bo)(((0,d.uX)(),(0,d.Wv)(f,{key:0,type:"primary",onClick:M,icon:h.A},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)(e.$t("cj.btn.user.register")),1)])),_:1})),[[V]]):(0,d.Q3)("",!0),3!==(0,p.R1)(x).status?(0,d.bo)(((0,d.uX)(),(0,d.Wv)(f,{key:1,type:"warning",onClick:T,icon:k.A},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)(e.$t("cj.btn.basic.maintenance")),1)])),_:1})),[[V]]):(0,d.Q3)("",!0),(0,d.bo)(((0,d.uX)(),(0,d.Wv)(f,{type:"danger",onClick:X,icon:(0,p.R1)(v.Delete)},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)(e.$t("cj.btn.basic.delete")),1)])),_:1},8,["icon"])),[[V]])])])),default:(0,d.k6)((()=>[(0,d.bF)(F,{class:"demo-tabs",modelValue:(0,p.R1)(W),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,p.i9)(W)?W.value=e:null),type:"card"},{default:(0,d.k6)((()=>[(0,d.bF)(w,{label:e.$t("cj.tabs.basic"),name:"first"},{default:(0,d.k6)((()=>[(0,d.bo)(((0,d.uX)(),(0,d.Wv)(R,{border:"",column:2,style:{"margin-top":"10px"}},{default:(0,d.k6)((()=>[(0,d.bF)(g,{label:e.$t("cj.label.basic.id")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).hostId),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.basic.name")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).displayName),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.cpu.label")},{default:(0,d.k6)((()=>[(0,d.bF)($,{placement:"bottom",effect:"light"},{content:(0,d.k6)((()=>[(0,d.bF)(R,{column:1,border:""},{default:(0,d.k6)((()=>[(0,d.bF)(g,{label:e.$t("cj.label.cpu.allocation"),"label-align":"right",align:"center"},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).allocationCpu),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.cpu.total"),"label-align":"right",align:"center"},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).totalCpu),1)])),_:1},8,["label"])])),_:1})])),default:(0,d.k6)((()=>[(0,d.bF)(y,{"text-inside":!0,"stroke-width":18,percentage:Math.floor((0,p.R1)(m.Nj)((0,p.R1)(x).allocationCpu,(0,p.R1)(x).totalCpu)),status:"success"},null,8,["percentage"])])),_:1})])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.memory.label")},{default:(0,d.k6)((()=>[(0,d.bF)($,{placement:"bottom",effect:"light"},{content:(0,d.k6)((()=>[(0,d.bF)(R,{column:1,border:""},{default:(0,d.k6)((()=>[(0,d.bF)(g,{label:e.$t("cj.label.memory.allocation"),"label-align":"right",align:"center"},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(m.XV)((0,p.R1)(x).allocationMemory))+" GB",1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.memory.total"),"label-align":"right",align:"center"},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(m.XV)((0,p.R1)(x).totalMemory))+" GB",1)])),_:1},8,["label"])])),_:1})])),default:(0,d.k6)((()=>[(0,d.bF)(y,{"text-inside":!0,"stroke-width":18,percentage:Math.floor((0,p.R1)(m.Nj)((0,p.R1)(x).allocationMemory,(0,p.R1)(x).totalMemory)),status:"success"},null,8,["percentage"])])),_:1})])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.network.nic.ip")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).hostIp),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.host.hostName")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).hostName),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.network.nic.label")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).nic),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.host.uri")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).uri),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.host.hypervisor")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).hypervisor),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.host.emulator")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).emulator),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.host.osName")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).osName),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.host.osVersion")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).osVersion),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.host.model")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).model),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.host.arch")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).arch),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.host.vendor")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).vendor),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.host.frequency")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)(((0,p.R1)(x).frequency/1e9).toFixed(2))+"G",1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.cpu.cores")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).cores),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.cpu.threads")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).threads),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.cpu.sockets")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(x).sockets),1)])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.basic.status")},{default:(0,d.k6)((()=>[(0,d.bF)(j,{type:(0,p.R1)(m.dt)((0,p.R1)(x).status)},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(m.dS)((0,p.R1)(x).status)),1)])),_:1},8,["type"])])),_:1},8,["label"]),(0,d.bF)(g,{label:e.$t("cj.label.basic.createTime")},{default:(0,d.k6)((()=>[(0,d.eW)((0,b.v_)((0,p.R1)(m.BU)((0,p.R1)(x).createTime)),1)])),_:1},8,["label"])])),_:1})),[[z,(0,p.R1)(E)]])])),_:1},8,["label"]),(0,d.bF)(w,{label:e.$t("cj.tabs.config"),name:"second"},{default:(0,d.k6)((()=>[(0,d.bF)(_.A,{allocateType:1,allocateId:Number((0,p.R1)(l).params.id)},null,8,["allocateId"])])),_:1},8,["label"])])),_:1},8,["modelValue"])])),_:1})])}}}),W=l(3508);const x=(0,W.A)(F,[["__scopeId","data-v-5c454c00"]]);var E=x},5560:function(e,t,l){l(4974)},6192:function(e,t,l){l.d(t,{IO:function(){return _}});var a=l(6918),o=l(4673),n=l(1654),r=l(387),i=l(573),c=l(2303),s=l(2267),u=l(6663);const d=(0,s.b_)({icon:{type:u.Ze,default:()=>c.Back},title:String,content:{type:String,default:""}}),b={back:()=>!0};var p=l(7860),f=l(2360),m=l(7636);const v=(0,a.pM)({name:"ElPageHeader"}),h=(0,a.pM)({...v,props:d,emits:b,setup(e,{emit:t}){const{t:l}=(0,f.Ym)(),c=(0,m.DU)("page-header");function s(){t("back")}return(e,t)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,o.C4)([(0,n.R1)(c).b(),{[(0,n.R1)(c).m("has-breadcrumb")]:!!e.$slots.breadcrumb,[(0,n.R1)(c).m("has-extra")]:!!e.$slots.extra,[(0,n.R1)(c).is("contentful")]:!!e.$slots.default}])},[e.$slots.breadcrumb?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,o.C4)((0,n.R1)(c).e("breadcrumb"))},[(0,a.RG)(e.$slots,"breadcrumb")],2)):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",{class:(0,o.C4)((0,n.R1)(c).e("header"))},[(0,a.Lk)("div",{class:(0,o.C4)((0,n.R1)(c).e("left"))},[(0,a.Lk)("div",{class:(0,o.C4)((0,n.R1)(c).e("back")),role:"button",tabindex:"0",onClick:s},[e.icon||e.$slots.icon?((0,a.uX)(),(0,a.CE)("div",{key:0,"aria-label":e.title||(0,n.R1)(l)("el.pageHeader.title"),class:(0,o.C4)((0,n.R1)(c).e("icon"))},[(0,a.RG)(e.$slots,"icon",{},(()=>[e.icon?((0,a.uX)(),(0,a.Wv)((0,n.R1)(r.tk),{key:0},{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.icon)))])),_:1})):(0,a.Q3)("v-if",!0)]))],10,["aria-label"])):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",{class:(0,o.C4)((0,n.R1)(c).e("title"))},[(0,a.RG)(e.$slots,"title",{},(()=>[(0,a.eW)((0,o.v_)(e.title||(0,n.R1)(l)("el.pageHeader.title")),1)]))],2)],2),(0,a.bF)((0,n.R1)(i.fR),{direction:"vertical"}),(0,a.Lk)("div",{class:(0,o.C4)((0,n.R1)(c).e("content"))},[(0,a.RG)(e.$slots,"content",{},(()=>[(0,a.eW)((0,o.v_)(e.content),1)]))],2)],2),e.$slots.extra?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,o.C4)((0,n.R1)(c).e("extra"))},[(0,a.RG)(e.$slots,"extra")],2)):(0,a.Q3)("v-if",!0)],2),e.$slots.default?((0,a.uX)(),(0,a.CE)("div",{key:1,class:(0,o.C4)((0,n.R1)(c).e("main"))},[(0,a.RG)(e.$slots,"default")],2)):(0,a.Q3)("v-if",!0)],2))}});var k=(0,p.A)(h,[["__file","page-header.vue"]]),g=l(713);const _=(0,g.GU)(k)},6951:function(e,t,l){l.d(t,{ve:function(){return v}});l(5286),l(8068);var a=l(6918),o=l(4673),n=l(1654),r=l(387),i=l(2303),c=l(2267);const s=(0,c.b_)({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:(0,c.jq)(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:(0,c.jq)([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:(0,c.jq)(Function),default:e=>`${e}%`}});var u=l(7860),d=l(7636);const b=(0,a.pM)({name:"ElProgress"}),p=(0,a.pM)({...b,props:s,setup(e){const t=e,l={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},c=(0,d.DU)("progress"),s=(0,a.EW)((()=>{const e={width:`${t.percentage}%`,animationDuration:`${t.duration}s`},l=j(t.percentage);return l.includes("gradient")?e.background=l:e.backgroundColor=l,e})),u=(0,a.EW)((()=>(t.strokeWidth/t.width*100).toFixed(1))),b=(0,a.EW)((()=>["circle","dashboard"].includes(t.type)?Number.parseInt(""+(50-Number.parseFloat(u.value)/2),10):0)),p=(0,a.EW)((()=>{const e=b.value,l="dashboard"===t.type;return`\n          M 50 50\n          m 0 ${l?"":"-"}${e}\n          a ${e} ${e} 0 1 1 0 ${l?"-":""}${2*e}\n          a ${e} ${e} 0 1 1 0 ${l?"":"-"}${2*e}\n          `})),f=(0,a.EW)((()=>2*Math.PI*b.value)),m=(0,a.EW)((()=>"dashboard"===t.type?.75:1)),v=(0,a.EW)((()=>{const e=-1*f.value*(1-m.value)/2;return`${e}px`})),h=(0,a.EW)((()=>({strokeDasharray:`${f.value*m.value}px, ${f.value}px`,strokeDashoffset:v.value}))),k=(0,a.EW)((()=>({strokeDasharray:`${f.value*m.value*(t.percentage/100)}px, ${f.value}px`,strokeDashoffset:v.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"}))),g=(0,a.EW)((()=>{let e;return e=t.color?j(t.percentage):l[t.status]||l.default,e})),_=(0,a.EW)((()=>"warning"===t.status?i.WarningFilled:"line"===t.type?"success"===t.status?i.CircleCheck:i.CircleClose:"success"===t.status?i.Check:i.Close)),R=(0,a.EW)((()=>"line"===t.type?12+.4*t.strokeWidth:.111111*t.width+2)),y=(0,a.EW)((()=>t.format(t.percentage)));function $(e){const t=100/e.length,l=e.map(((e,l)=>(0,o.Kg)(e)?{color:e,percentage:(l+1)*t}:e));return l.sort(((e,t)=>e.percentage-t.percentage))}const j=e=>{var l;const{color:a}=t;if((0,o.Tn)(a))return a(e);if((0,o.Kg)(a))return a;{const t=$(a);for(const l of t)if(l.percentage>e)return l.color;return null==(l=t[t.length-1])?void 0:l.color}};return(e,t)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,o.C4)([(0,n.R1)(c).b(),(0,n.R1)(c).m(e.type),(0,n.R1)(c).is(e.status),{[(0,n.R1)(c).m("without-text")]:!e.showText,[(0,n.R1)(c).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},["line"===e.type?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,o.C4)((0,n.R1)(c).b("bar"))},[(0,a.Lk)("div",{class:(0,o.C4)((0,n.R1)(c).be("bar","outer")),style:(0,o.Tr)({height:`${e.strokeWidth}px`})},[(0,a.Lk)("div",{class:(0,o.C4)([(0,n.R1)(c).be("bar","inner"),{[(0,n.R1)(c).bem("bar","inner","indeterminate")]:e.indeterminate},{[(0,n.R1)(c).bem("bar","inner","striped")]:e.striped},{[(0,n.R1)(c).bem("bar","inner","striped-flow")]:e.stripedFlow}]),style:(0,o.Tr)((0,n.R1)(s))},[(e.showText||e.$slots.default)&&e.textInside?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,o.C4)((0,n.R1)(c).be("bar","innerText"))},[(0,a.RG)(e.$slots,"default",{percentage:e.percentage},(()=>[(0,a.Lk)("span",null,(0,o.v_)((0,n.R1)(y)),1)]))],2)):(0,a.Q3)("v-if",!0)],6)],6)],2)):((0,a.uX)(),(0,a.CE)("div",{key:1,class:(0,o.C4)((0,n.R1)(c).b("circle")),style:(0,o.Tr)({height:`${e.width}px`,width:`${e.width}px`})},[((0,a.uX)(),(0,a.CE)("svg",{viewBox:"0 0 100 100"},[(0,a.Lk)("path",{class:(0,o.C4)((0,n.R1)(c).be("circle","track")),d:(0,n.R1)(p),stroke:`var(${(0,n.R1)(c).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":e.strokeLinecap,"stroke-width":(0,n.R1)(u),fill:"none",style:(0,o.Tr)((0,n.R1)(h))},null,14,["d","stroke","stroke-linecap","stroke-width"]),(0,a.Lk)("path",{class:(0,o.C4)((0,n.R1)(c).be("circle","path")),d:(0,n.R1)(p),stroke:(0,n.R1)(g),fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":(0,n.R1)(u),style:(0,o.Tr)((0,n.R1)(k))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),!e.showText&&!e.$slots.default||e.textInside?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.CE)("div",{key:2,class:(0,o.C4)((0,n.R1)(c).e("text")),style:(0,o.Tr)({fontSize:`${(0,n.R1)(R)}px`})},[(0,a.RG)(e.$slots,"default",{percentage:e.percentage},(()=>[e.status?((0,a.uX)(),(0,a.Wv)((0,n.R1)(r.tk),{key:1},{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.Wv)((0,a.$y)((0,n.R1)(_))))])),_:1})):((0,a.uX)(),(0,a.CE)("span",{key:0},(0,o.v_)((0,n.R1)(y)),1))]))],6))],10,["aria-valuenow"]))}});var f=(0,u.A)(p,[["__file","progress.vue"]]),m=l(713);const v=(0,m.GU)(f)},7063:function(e,t,l){l(4974),l(3568)},8830:function(e,t,l){l.d(t,{A:function(){return s}});var a=l(6918);const o={t:"1745291696880",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"25438",width:"200",height:"200"};function n(e,t){return(0,a.uX)(),(0,a.CE)("svg",o,t[0]||(t[0]=[(0,a.Lk)("path",{d:"M170.666667 42.666667C123.306667 42.666667 85.333333 80.64 85.333333 128L85.333333 298.666667C85.333333 346.026667 123.306667 384 170.666667 384L42.666667 384 42.666667 469.333333 554.666667 469.333333 554.666667 384 426.666667 384C474.026667 384 512 346.026667 512 298.666667L512 128C512 80.64 474.026667 42.666667 426.666667 42.666667L170.666667 42.666667M170.666667 128 426.666667 128 426.666667 298.666667 170.666667 298.666667 170.666667 128M128 554.666667 128 768 128 853.333333 426.666667 853.333333 426.666667 768 213.333333 768 213.333333 554.666667 128 554.666667M597.333333 554.666667C549.973333 554.666667 512 592.64 512 640L512 810.666667C512 858.026667 549.973333 896 597.333333 896L469.333333 896 469.333333 981.333333 981.333333 981.333333 981.333333 896 853.333333 896C900.693333 896 938.666667 858.026667 938.666667 810.666667L938.666667 640C938.666667 592.64 900.693333 554.666667 853.333333 554.666667L597.333333 554.666667M597.333333 640 853.333333 640 853.333333 810.666667 597.333333 810.666667 597.333333 640Z","p-id":"25439"},null,-1)]))}var r=l(3508);const i={},c=(0,r.A)(i,[["render",n]]);var s=c},9143:function(e,t,l){l.r(t),l.d(t,{default:function(){return L}});var a=l(6845),o=(l(4974),l(8206),l(9464)),n=(l(2708),l(6390)),r=(l(8145),l(7477)),i=(l(6788),l(3295)),c=(l(9994),l(6951)),s=(l(5560),l(4279)),u=(l(3110),l(6672),l(1177),l(5143)),d=(l(493),l(7836)),b=(l(3020),l(9622),l(7255)),p=(l(756),l(5567),l(6918)),f=l(1654),m=l(4673),v=l(3597),h=l(2303),k=l(6555),g=l(7898),_=(l(7191),l(1421)),R=l(7445),y=l(8180);l(6447);const $={class:"dialog-footer"};var j={__name:"EditHostDialog",emits:["on-create-host"],setup(e,{expose:t,emit:l}){const a=(0,f.KR)(!1),o=l,n=(0,f.Kh)({name:"",ip:"",uri:"",nic:""}),{t:r}=(0,R.s9)(),i=(0,f.KR)(null),c=(e,t,l)=>{if(!t)return void l(new Error(r("cj.tooltip.global.not_empty",{name:r("cj.label.network.nic.ip")})));const a=/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/;a.test(t)?l():l(new Error(r("cj.tooltip.global.ip_verify_error",{name:r("cj.label.network.nic.ip"),sample:"192.168.1.100"})))},s=(e,t,l)=>{if(!t)return void l(new Error(r("cj.tooltip.global.not_empty",{name:r("cj.label.host.uri")})));const a=/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i;a.test(t)?l():l(new Error(r("cj.tooltip.global.uri_verify_error",{name:r("cj.label.host.uri"),sample:"http://192.168.1.2:8081/"})))},h=(0,f.Kh)({name:[{required:!0,message:r("cj.tooltip.global.not_empty",{name:r("cj.label.basic.name")}),trigger:["blur","change"]},{min:1,max:32,message:r("cj.tooltip.global.length_error",{name:r("cj.label.basic.name")}),trigger:["blur","change"]}],ip:[{required:!0,message:r("cj.tooltip.global.not_empty",{name:r("cj.label.network.nic.ip")}),trigger:["blur","change"]},{validator:c,trigger:["blur","change"]}],uri:[{required:!0,message:r("cj.tooltip.global.not_empty",{name:r("cj.label.host.uri")}),trigger:["blur","change"]},{validator:s,trigger:["blur","change"]}],nic:[{required:!0,message:r("cj.tooltip.global.not_empty",{name:r("cj.label.network.nic.label")}),trigger:["blur","change"]},{min:1,max:32,message:r("cj.tooltip.global.length_error",{name:r("cj.label.network.nic.label")}),trigger:["blur","change"]}]});function k(){i.value.validate((e=>{if(e){let e="on-create-host",t=v.zU,l={displayName:n.name,hostIp:n.ip,uri:n.uri,nic:n.nic};t(l).then((t=>{0===t.code?(a.value=!1,o(e,t.data,!0),(0,_.z)(t)):show_api_error(t)}))}else(0,y.nk)({type:"error",message:r("cj.tooltip.global.has_error")})}))}return t({open:()=>{a.value=!0}}),(e,t)=>{const l=b.WK,o=u.xE,r=u.US,c=d.S2,s=g.kZ;return(0,p.uX)(),(0,p.Wv)(s,{modelValue:(0,f.R1)(a),"onUpdate:modelValue":t[5]||(t[5]=e=>(0,f.i9)(a)?a.value=e:null),title:e.$t("cj.dialog.host.create"),width:"600","close-on-click-modal":!1},{footer:(0,p.k6)((()=>[(0,p.Lk)("div",$,[(0,p.bF)(c,{onClick:t[4]||(t[4]=e=>a.value=!1)},{default:(0,p.k6)((()=>[(0,p.eW)((0,m.v_)(e.$t("cj.btn.basic.cancel")),1)])),_:1}),(0,p.bF)(c,{type:"primary",onClick:k},{default:(0,p.k6)((()=>[(0,p.eW)((0,m.v_)(e.$t("cj.btn.basic.confirm")),1)])),_:1})])])),default:(0,p.k6)((()=>[(0,p.bF)(r,{model:(0,f.R1)(n),"label-width":"auto",ref_key:"host_ref",ref:i,rules:(0,f.R1)(h)},{default:(0,p.k6)((()=>[(0,p.bF)(o,{label:e.$t("cj.label.basic.name"),prop:"name"},{default:(0,p.k6)((()=>[(0,p.bF)(l,{modelValue:(0,f.R1)(n).name,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,f.R1)(n).name=e)},null,8,["modelValue"])])),_:1},8,["label"]),(0,p.bF)(o,{label:e.$t("cj.label.network.nic.ip"),prop:"ip"},{default:(0,p.k6)((()=>[(0,p.bF)(l,{modelValue:(0,f.R1)(n).ip,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,f.R1)(n).ip=e)},null,8,["modelValue"])])),_:1},8,["label"]),(0,p.bF)(o,{label:e.$t("cj.label.host.uri"),prop:"uri"},{default:(0,p.k6)((()=>[(0,p.bF)(l,{modelValue:(0,f.R1)(n).uri,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,f.R1)(n).uri=e)},null,8,["modelValue"])])),_:1},8,["label"]),(0,p.bF)(o,{label:e.$t("cj.label.network.nic.label"),prop:"nic"},{default:(0,p.k6)((()=>[(0,p.bF)(l,{modelValue:(0,f.R1)(n).nic,"onUpdate:modelValue":t[3]||(t[3]=e=>(0,f.R1)(n).nic=e)},null,8,["modelValue"])])),_:1},8,["label"])])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])}}};const w=j;var C=w,F=l(3215),W=l(9451),x=l(7774),E=(l(5280),Object.assign({name:"Host"},{__name:"Host",setup(e){const t=(0,W.rd)(),l=(0,f.KR)(null),{t:g}=(0,R.s9)(),y=(0,f.KR)({keyword:"",no:1,size:10}),$=(0,f.KR)(!1),j=(0,f.KR)({data:[],total:0});function w(e){y.value.no=e,I()}function E(e){y.value.size=e,I()}function I(){$.value=!0,(0,v.tL)(y.value).then((e=>{const{list:t=[],total:l=0}=e.data||{};j.value={data:t,total:l}})).catch((()=>{j.value={data:[],total:0}})).finally((()=>{$.value=!1}))}function V(){l.value.open()}function L(e,l){t.push({path:`/host/${l.hostId}`})}function X(e,t=!1){let l=j.value.data.findIndex((t=>t.hostId===e.hostId));-1!==l?Object.assign(j.value.data[l],e):t&&(j.value.data.push(e),j.value.total++)}function T(e){let t=j.value.data.findIndex((t=>t.hostId===e));-1!==t&&(j.value.data.splice(t,1),j.value.total--)}function M(e,t){x.s.confirm(g("cj.dialog.host.deleteConfirm"),"Warning",{confirmButtonText:g("cj.btn.basic.confirm"),cancelButtonText:g("cj.btn.basic.cancel"),type:"warning"}).then((()=>{(0,v.iQ)({hostId:t.hostId}).then((e=>{0===e.code?(T(t.hostId),(0,_.z)(e)):(0,_.U)(e)}))}))}return(0,F.A)("host_list",I,X,T),(e,t)=>{const v=b.WK,g=u.xE,_=d.S2,R=u.US,F=n.o8,W=s.MF,x=s.TS,T=c.ve,z=i.R7,A=r.u,U=n.Up,N=o.aQ,S=(0,p.gN)("Admin"),B=a.L;return(0,p.uX)(),(0,p.CE)("div",null,[(0,p.bF)(R,{model:(0,f.R1)(y),inline:"",size:"small"},{default:(0,p.k6)((()=>[(0,p.bF)(g,{label:e.$t("cj.label.basic.keyword")},{default:(0,p.k6)((()=>[(0,p.bF)(v,{modelValue:(0,f.R1)(y).keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,f.R1)(y).keyword=e),clearable:""},null,8,["modelValue"])])),_:1},8,["label"]),(0,p.bF)(g,null,{default:(0,p.k6)((()=>[(0,p.bF)(_,{type:"primary",onClick:I,icon:(0,f.R1)(h.Search)},{default:(0,p.k6)((()=>[(0,p.eW)((0,m.v_)(e.$t("cj.btn.basic.search")),1)])),_:1},8,["icon"]),(0,p.bo)(((0,p.uX)(),(0,p.Wv)(_,{type:"primary",onClick:V,icon:(0,f.R1)(h.DocumentAdd)},{default:(0,p.k6)((()=>[(0,p.eW)((0,m.v_)(e.$t("cj.btn.basic.create")),1)])),_:1},8,["icon"])),[[S]])])),_:1})])),_:1},8,["model"]),(0,p.bo)(((0,p.uX)(),(0,p.Wv)(U,{data:(0,f.R1)(j).data,style:{width:"100%"},"table-layout":"auto",border:""},{default:(0,p.k6)((()=>[(0,p.bF)(F,{prop:"hostId",label:e.$t("cj.label.basic.id")},null,8,["label"]),(0,p.bF)(F,{prop:"displayName",label:e.$t("cj.label.basic.name")},null,8,["label"]),(0,p.bF)(F,{prop:"hostIp",label:e.$t("cj.label.network.nic.ip")},null,8,["label"]),(0,p.bF)(F,{prop:"totalCpu",label:e.$t("cj.label.cpu.label")},{default:(0,p.k6)((t=>[(0,p.bF)(z,{placement:"bottom",effect:"light"},{content:(0,p.k6)((()=>[(0,p.bF)(x,{column:1,border:""},{default:(0,p.k6)((()=>[(0,p.bF)(W,{label:e.$t("cj.label.cpu.allocation"),"label-align":"right",align:"center"},{default:(0,p.k6)((()=>[(0,p.eW)((0,m.v_)(t.row.allocationCpu),1)])),_:2},1032,["label"]),(0,p.bF)(W,{label:e.$t("cj.label.cpu.total"),"label-align":"right",align:"center"},{default:(0,p.k6)((()=>[(0,p.eW)((0,m.v_)(t.row.totalCpu),1)])),_:2},1032,["label"])])),_:2},1024)])),default:(0,p.k6)((()=>[(0,p.bF)(T,{"text-inside":!0,"stroke-width":18,percentage:Math.floor((0,f.R1)(k.Nj)(t.row.allocationCpu,t.row.totalCpu)),status:"success"},null,8,["percentage"])])),_:2},1024)])),_:1},8,["label"]),(0,p.bF)(F,{prop:"memory",label:e.$t("cj.label.memory.label")},{default:(0,p.k6)((t=>[(0,p.bF)(z,{placement:"bottom",effect:"light"},{content:(0,p.k6)((()=>[(0,p.bF)(x,{column:1,border:""},{default:(0,p.k6)((()=>[(0,p.bF)(W,{label:e.$t("cj.label.memory.allocation"),"label-align":"right",align:"center"},{default:(0,p.k6)((()=>[(0,p.eW)((0,m.v_)((0,f.R1)(k.XV)(t.row.allocationMemory))+" GB",1)])),_:2},1032,["label"]),(0,p.bF)(W,{label:e.$t("cj.label.memory.total"),"label-align":"right",align:"center"},{default:(0,p.k6)((()=>[(0,p.eW)((0,m.v_)((0,f.R1)(k.XV)(t.row.totalMemory))+" GB",1)])),_:2},1032,["label"])])),_:2},1024)])),default:(0,p.k6)((()=>[(0,p.bF)(T,{"text-inside":!0,"stroke-width":18,percentage:Math.floor((0,f.R1)(k.Nj)(t.row.allocationMemory,t.row.totalMemory)),status:"success"},null,8,["percentage"])])),_:2},1024)])),_:1},8,["label"]),(0,p.bF)(F,{prop:"status",label:e.$t("cj.label.basic.status")},{default:(0,p.k6)((e=>[(0,p.bF)(A,{type:(0,f.R1)(k.dt)(e.row.status)},{default:(0,p.k6)((()=>[(0,p.eW)((0,m.v_)((0,f.R1)(k.dS)(e.row.status)),1)])),_:2},1032,["type"])])),_:1},8,["label"]),(0,p.bF)(F,{prop:"createTime",label:e.$t("cj.label.basic.createTime")},{default:(0,p.k6)((e=>[(0,p.eW)((0,m.v_)((0,f.R1)(k.BU)(e.row.createTime)),1)])),_:1},8,["label"]),(0,p.bF)(F,{label:e.$t("cj.label.basic.operation")},{default:(0,p.k6)((t=>[(0,p.bF)(_,{size:"small",type:"",onClick:e=>L(t.$index,t.row),icon:(0,f.R1)(h.View)},{default:(0,p.k6)((()=>[(0,p.eW)((0,m.v_)(e.$t("cj.btn.basic.view")),1)])),_:2},1032,["onClick","icon"]),(0,p.bo)(((0,p.uX)(),(0,p.Wv)(_,{size:"small",type:"danger",onClick:e=>M(t.$index,t.row),icon:(0,f.R1)(h.Delete)},{default:(0,p.k6)((()=>[(0,p.eW)((0,m.v_)(e.$t("cj.btn.basic.delete")),1)])),_:2},1032,["onClick","icon"])),[[S]])])),_:1},8,["label"])])),_:1},8,["data"])),[[B,(0,f.R1)($)]]),t[3]||(t[3]=(0,p.Lk)("br",null,null,-1)),(0,p.bF)(N,{size:"small",background:"",onCurrentChange:w,onSizeChange:E,"current-page":(0,f.R1)(y).no,"onUpdate:currentPage":t[1]||(t[1]=e=>(0,f.R1)(y).no=e),"page-sizes":[10,20,50,100,200],"page-size":(0,f.R1)(y).size,"onUpdate:pageSize":t[2]||(t[2]=e=>(0,f.R1)(y).size=e),layout:"sizes, prev, pager, next, jumper, total",total:(0,f.R1)(j).total},null,8,["current-page","page-size","total"]),(0,p.bF)(C,{ref_key:"editHostDialogRef",ref:l,onOnCreateHost:X,onOnUpdateHost:X},null,512)])}}})),I=l(3508);const V=(0,I.A)(E,[["__scopeId","data-v-12bbcfc0"]]);var L=V}}]);